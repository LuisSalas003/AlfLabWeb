<div class="main-wrapper">
  <!-- Encabezado con fondo oscuro -->
  <div class="top-header">
    <button class="menu-button" (click)="toggleMenu()">
      <span class="material-symbols-outlined">dehaze</span>
    </button>
    <h1>Stock General</h1>
    <div class="search-container">
      <div class="search-box">
        <span class="search-icon" *ngIf="!busqueda">üîç</span>
        <input 
          type="text" 
          placeholder="Buscar Producto" 
          [(ngModel)]="busqueda"
          class="search-input"
        >
      </div>
      <button class="filter-button" (click)="toggleFiltro()">
        <span class="material-icons">filter_list</span>
      </button>
    </div>
  </div>

  <!-- Men√∫ lateral desplegable -->
  <div class="sidebar-menu" [class.open]="menuAbierto">
    <div class="menu-header">
      <h2>Men√∫</h2>
      <button class="close-button" (click)="toggleMenu()">‚úï</button>
    </div>
    <nav class="menu-nav">
      <a routerLink="/main" class="menu-item active">
        <span class="material-icons">inventory_2</span>
        Stock General
      </a>
      <a routerLink="/productos" class="menu-item">
        <span class="material-icons">shopping_cart</span>
        Productos
      </a>
      <a routerLink="/proveedores" class="menu-item">
        <span class="material-icons">local_shipping</span>
        Proveedores
      </a>
      <a routerLink="/categorias" class="menu-item">
        <span class="material-icons">category</span>
        Categor√≠as
      </a>
      <a routerLink="/reportes" class="menu-item">
        <span class="material-icons">assessment</span>
        Reportes
      </a>
      <a routerLink="/configuracion" class="menu-item">
        <span class="material-icons">settings</span>
        Configuraci√≥n
      </a>
      <a routerLink="/login" class="menu-item logout">
        <span class="material-icons">logout</span>
        Cerrar Sesi√≥n
      </a>
    </nav>
  </div>

  <!-- Overlay para cerrar el men√∫ al hacer clic fuera -->
  <div class="menu-overlay" *ngIf="menuAbierto" (click)="toggleMenu()"></div>

  <!-- Men√∫ de filtros desplegable -->
  <div class="filter-menu" *ngIf="mostrarFiltro">
    <h3>Filtrar por:</h3>
    <label>
      <input type="radio" [(ngModel)]="filtroSeleccionado" value="todos" name="filtro">
      Todos los campos
    </label>
    <label>
      <input type="radio" [(ngModel)]="filtroSeleccionado" value="codigo" name="filtro">
      C√≥digo de Barras
    </label>
    <label>
      <input type="radio" [(ngModel)]="filtroSeleccionado" value="nombre" name="filtro">
      Nombre del Producto
    </label>
    <label>
      <input type="radio" [(ngModel)]="filtroSeleccionado" value="proveedor" name="filtro">
      Proveedor
    </label>
  </div>

  <!-- Contenido principal -->
  <div class="content-area">
    <div class="table-container">
      <table>
        <thead>
          <tr>
            <th>Imagen</th>
            <th>Codigo de Barras</th>
            <th>Nombre del producto</th>
            <th>Caracteristicas</th>
            <th>Precio</th>
            <th>Existencias</th>
            <th>Proveedor</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let producto of filtrarProductos()">
            <td>
              <img 
                [src]="producto.imagen || 'https://via.placeholder.com/60x60?text=Sin+Imagen'" 
                alt="Producto"
                class="product-image"
              >
            </td>
            <td>{{ producto.codigo }}</td>
            <td>{{ producto.nombre }}</td>
            <td>{{ producto.caracteristicas }}</td>
            <td>${{ producto.precio.toLocaleString('es-MX') }}</td> 
            <td>{{ producto.stock }}</td>
            <td>{{ producto.proveedor }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>