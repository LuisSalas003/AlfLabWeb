var qP=Object.defineProperty,zP=Object.defineProperties;var GP=Object.getOwnPropertyDescriptors;var sD=Object.getOwnPropertySymbols;var WP=Object.prototype.hasOwnProperty,KP=Object.prototype.propertyIsEnumerable;var aD=(n,e,t)=>e in n?qP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,x=(n,e)=>{for(var t in e||={})WP.call(e,t)&&aD(n,t,e[t]);if(sD)for(var t of sD(e))KP.call(e,t)&&aD(n,t,e[t]);return n},te=(n,e)=>zP(n,GP(e));var Lp;function nl(){return Lp}function yn(n){let e=Lp;return Lp=n,e}var cD=Symbol("NotFound");function Po(n){return n===cD||n?.name==="\u0275NotFound"}var ut=null,rl=!1,Vp=1,QP=null,lt=Symbol("SIGNAL");function Z(n){let e=ut;return ut=n,e}function al(){return ut}var xo={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ko(n){if(rl)throw new Error("");if(ut===null)return;ut.consumerOnSignalRead(n);let e=ut.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=ut.recomputing;if(r&&(t=e!==void 0?e.nextProducer:ut.producers,t!==void 0&&t.producer===n)){ut.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===ut&&(!r||ZP(i,ut)))return;let o=Fo(ut),s={producer:n,consumer:ut,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};ut.producersTail=s,e!==void 0?e.nextProducer=s:ut.producers=s,o&&hD(n,s)}function uD(){Vp++}function cl(n){if(!(Fo(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Vp)){if(!n.producerMustRecompute(n)&&!Pa(n)){sl(n);return}n.producerRecomputeValue(n),sl(n)}}function jp(n){if(n.consumers===void 0)return;let e=rl;rl=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||YP(r)}}finally{rl=e}}function Up(){return ut?.consumerAllowSignalWrites!==!1}function YP(n){n.dirty=!0,jp(n),n.consumerMarkedDirty?.(n)}function sl(n){n.dirty=!1,n.lastCleanEpoch=Vp}function Oo(n){return n&&lD(n),Z(n)}function lD(n){n.producersTail=void 0,n.recomputing=!0}function Ma(n,e){Z(e),n&&dD(n)}function dD(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(Fo(n))do t=Bp(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function Pa(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(cl(t),r!==t.version))return!0}return!1}function xa(n){if(Fo(n)){let e=n.producers;for(;e!==void 0;)e=Bp(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function hD(n,e){let t=n.consumersTail,r=Fo(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)hD(i.producer,i)}function Bp(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Fo(e)){let o=e.producers;for(;o!==void 0;)o=Bp(o)}return t}function Fo(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function ul(n){QP?.(n)}function ZP(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function ll(n,e){return Object.is(n,e)}function dl(n,e){let t=Object.create(JP);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(cl(t),ko(t),t.value===Na)throw t.error;return t.value};return r[lt]=t,ul(t),r}var il=Symbol("UNSET"),ol=Symbol("COMPUTING"),Na=Symbol("ERRORED"),JP=te(x({},xo),{value:il,dirty:!0,error:null,equal:ll,kind:"computed",producerMustRecompute(n){return n.value===il||n.value===ol},producerRecomputeValue(n){if(n.value===ol)throw new Error("");let e=n.value;n.value=ol;let t=Oo(n),r,i=!1;try{r=n.computation(),Z(null),i=e!==il&&e!==Na&&r!==Na&&n.equal(e,r)}catch(o){r=Na,n.error=o}finally{Ma(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function XP(){throw new Error}var fD=XP;function pD(n){fD(n)}function $p(n){fD=n}var ex=null;function Hp(n,e){let t=Object.create(hl);t.value=n,e!==void 0&&(t.equal=e);let r=()=>gD(t);return r[lt]=t,ul(t),[r,s=>Lo(t,s),s=>qp(t,s)]}function gD(n){return ko(n),n.value}function Lo(n,e){Up()||pD(n),n.equal(n.value,e)||(n.value=e,tx(n))}function qp(n,e){Up()||pD(n),Lo(n,e(n.value))}var hl=te(x({},xo),{equal:ll,value:void 0,kind:"signal"});function tx(n){n.version++,uD(),jp(n),ex?.(n)}function J(n){return typeof n=="function"}function Vo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var fl=Vo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function bi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Re=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(J(r))try{r()}catch(o){e=o instanceof fl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{mD(o)}catch(s){e=e??[],s instanceof fl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new fl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)mD(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&bi(t,e)}remove(e){let{_finalizers:t}=this;t&&bi(t,e),e instanceof n&&e._removeParent(this)}};Re.EMPTY=(()=>{let n=new Re;return n.closed=!0,n})();var zp=Re.EMPTY;function pl(n){return n instanceof Re||n&&"closed"in n&&J(n.remove)&&J(n.add)&&J(n.unsubscribe)}function mD(n){J(n)?n():n.unsubscribe()}var Xt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var jo={setTimeout(n,e,...t){let{delegate:r}=jo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=jo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function gl(n){jo.setTimeout(()=>{let{onUnhandledError:e}=Xt;if(e)e(n);else throw n})}function ka(){}var yD=Gp("C",void 0,void 0);function vD(n){return Gp("E",void 0,n)}function _D(n){return Gp("N",n,void 0)}function Gp(n,e,t){return{kind:n,value:e,error:t}}var Si=null;function Uo(n){if(Xt.useDeprecatedSynchronousErrorHandling){let e=!Si;if(e&&(Si={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Si;if(Si=null,t)throw r}}else n()}function ED(n){Xt.useDeprecatedSynchronousErrorHandling&&Si&&(Si.errorThrown=!0,Si.error=n)}var Ai=class extends Re{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,pl(e)&&e.add(this)):this.destination=ix}static create(e,t,r){return new Bo(e,t,r)}next(e){this.isStopped?Kp(_D(e),this):this._next(e)}error(e){this.isStopped?Kp(vD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Kp(yD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},nx=Function.prototype.bind;function Wp(n,e){return nx.call(n,e)}var Qp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){ml(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){ml(r)}else ml(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){ml(t)}}},Bo=class extends Ai{constructor(e,t,r){super();let i;if(J(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Xt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Wp(e.next,o),error:e.error&&Wp(e.error,o),complete:e.complete&&Wp(e.complete,o)}):i=e}this.destination=new Qp(i)}};function ml(n){Xt.useDeprecatedSynchronousErrorHandling?ED(n):gl(n)}function rx(n){throw n}function Kp(n,e){let{onStoppedNotification:t}=Xt;t&&jo.setTimeout(()=>t(n,e))}var ix={closed:!0,next:ka,error:rx,complete:ka};var $o=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Nt(n){return n}function Yp(...n){return Zp(n)}function Zp(n){return n.length===0?Nt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ne=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=sx(t)?t:new Bo(t,r,i);return Uo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=ID(r),new r((i,o)=>{let s=new Bo({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[$o](){return this}pipe(...t){return Zp(t)(this)}toPromise(t){return t=ID(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function ID(n){var e;return(e=n??Xt.Promise)!==null&&e!==void 0?e:Promise}function ox(n){return n&&J(n.next)&&J(n.error)&&J(n.complete)}function sx(n){return n&&n instanceof Ai||ox(n)&&pl(n)}function Jp(n){return J(n?.lift)}function le(n){return e=>{if(Jp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ae(n,e,t,r,i){return new Xp(n,e,t,r,i)}var Xp=class extends Ai{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ho(){return le((n,e)=>{let t=null;n._refCount++;let r=ae(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var qo=class extends ne{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Jp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Re;let t=this.getSubject();e.add(this.source.subscribe(ae(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Re.EMPTY)}return e}refCount(){return Ho()(this)}};var wD=Vo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Le=(()=>{class n extends ne{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new yl(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new wD}next(t){Uo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Uo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Uo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?zp:(this.currentObservers=null,o.push(t),new Re(()=>{this.currentObservers=null,bi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ne;return t.source=this,t}}return n.create=(e,t)=>new yl(e,t),n})(),yl=class extends Le{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:zp}};var tt=class extends Le{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var eg={now(){return(eg.delegate||Date).now()},delegate:void 0};var vl=class extends Re{constructor(e,t){super()}schedule(e,t=0){return this}};var Oa={setInterval(n,e,...t){let{delegate:r}=Oa;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Oa;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var zo=class extends vl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Oa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Oa.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,bi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Go=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Go.now=eg.now;var Wo=class extends Go{constructor(e,t=Go.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var tg=new Wo(zo);var _l=class extends zo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var El=class extends Wo{};var ng=new El(_l);var Dt=new ne(n=>n.complete());function DD(n){return n&&J(n.schedule)}function TD(n){return n[n.length-1]}function Il(n){return J(TD(n))?n.pop():void 0}function Ar(n){return DD(TD(n))?n.pop():void 0}function rg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function bD(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function CD(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ri(n){return this instanceof Ri?(this.v=n,this):new Ri(n)}function SD(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(b){return Promise.resolve(b).then(y,p)}}function a(y,b){r[y]&&(i[y]=function(M){return new Promise(function(R,F){o.push([y,M,R,F])>1||u(y,M)})},b&&(i[y]=b(i[y])))}function u(y,b){try{l(r[y](b))}catch(M){m(o[0][3],M)}}function l(y){y.value instanceof Ri?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,b){y(b),o.shift(),o.length&&u(o[0][0],o[0][1])}}function AD(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof CD=="function"?CD(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var wl=n=>n&&typeof n.length=="number"&&typeof n!="function";function Dl(n){return J(n?.then)}function Tl(n){return J(n[$o])}function Cl(n){return Symbol.asyncIterator&&J(n?.[Symbol.asyncIterator])}function bl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function ax(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Sl=ax();function Al(n){return J(n?.[Sl])}function Rl(n){return SD(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ri(t.read());if(i)return yield Ri(void 0);yield yield Ri(r)}}finally{t.releaseLock()}})}function Nl(n){return J(n?.getReader)}function Ve(n){if(n instanceof ne)return n;if(n!=null){if(Tl(n))return cx(n);if(wl(n))return ux(n);if(Dl(n))return lx(n);if(Cl(n))return RD(n);if(Al(n))return dx(n);if(Nl(n))return hx(n)}throw bl(n)}function cx(n){return new ne(e=>{let t=n[$o]();if(J(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ux(n){return new ne(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function lx(n){return new ne(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,gl)})}function dx(n){return new ne(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function RD(n){return new ne(e=>{fx(n,e).catch(t=>e.error(t))})}function hx(n){return RD(Rl(n))}function fx(n,e){var t,r,i,o;return bD(this,void 0,void 0,function*(){try{for(t=AD(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Tt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Rr(n,e=0){return le((t,r)=>{t.subscribe(ae(r,i=>Tt(r,n,()=>r.next(i),e),()=>Tt(r,n,()=>r.complete(),e),i=>Tt(r,n,()=>r.error(i),e)))})}function Nr(n,e=0){return le((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function ND(n,e){return Ve(n).pipe(Nr(e),Rr(e))}function MD(n,e){return Ve(n).pipe(Nr(e),Rr(e))}function PD(n,e){return new ne(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function xD(n,e){return new ne(t=>{let r;return Tt(t,e,()=>{r=n[Sl](),Tt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>J(r?.return)&&r.return()})}function Ml(n,e){if(!n)throw new Error("Iterable cannot be null");return new ne(t=>{Tt(t,e,()=>{let r=n[Symbol.asyncIterator]();Tt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function kD(n,e){return Ml(Rl(n),e)}function OD(n,e){if(n!=null){if(Tl(n))return ND(n,e);if(wl(n))return PD(n,e);if(Dl(n))return MD(n,e);if(Cl(n))return Ml(n,e);if(Al(n))return xD(n,e);if(Nl(n))return kD(n,e)}throw bl(n)}function De(n,e){return e?OD(n,e):Ve(n)}function H(...n){let e=Ar(n);return De(n,e)}function Ko(n,e){let t=J(n)?n:()=>n,r=i=>i.error(t());return new ne(e?i=>e.schedule(r,0,i):r)}function ig(n){return!!n&&(n instanceof ne||J(n.lift)&&J(n.subscribe))}var Jn=Vo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ce(n,e){return le((t,r)=>{let i=0;t.subscribe(ae(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:px}=Array;function gx(n,e){return px(e)?n(...e):n(e)}function Pl(n){return ce(e=>gx(n,e))}var{isArray:mx}=Array,{getPrototypeOf:yx,prototype:vx,keys:_x}=Object;function xl(n){if(n.length===1){let e=n[0];if(mx(e))return{args:e,keys:null};if(Ex(e)){let t=_x(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function Ex(n){return n&&typeof n=="object"&&yx(n)===vx}function kl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Fa(...n){let e=Ar(n),t=Il(n),{args:r,keys:i}=xl(n);if(r.length===0)return De([],e);let o=new ne(Ix(r,e,i?s=>kl(i,s):Nt));return t?o.pipe(Pl(t)):o}function Ix(n,e,t=Nt){return r=>{FD(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)FD(e,()=>{let l=De(n[u],e),h=!1;l.subscribe(ae(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function FD(n,e,t){n?Tt(t,n,e):e()}function LD(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=M=>l<r?b(M):u.push(M),b=M=>{o&&e.next(M),l++;let R=!1;Ve(t(M,h++)).subscribe(ae(e,F=>{i?.(F),o?y(F):e.next(F)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let F=u.shift();s?Tt(e,s,()=>b(F)):b(F)}m()}catch(F){e.error(F)}}))};return n.subscribe(ae(e,y,()=>{p=!0,m()})),()=>{a?.()}}function xe(n,e,t=1/0){return J(e)?xe((r,i)=>ce((o,s)=>e(r,o,i,s))(Ve(n(r,i))),t):(typeof e=="number"&&(t=e),le((r,i)=>LD(r,i,n,t)))}function Qo(n=1/0){return xe(Nt,n)}function VD(){return Qo(1)}function Yo(...n){return VD()(De(n,Ar(n)))}function La(n){return new ne(e=>{Ve(n()).subscribe(e)})}function og(...n){let e=Il(n),{args:t,keys:r}=xl(n),i=new ne(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Ve(t[h]).subscribe(ae(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?kl(r,a):a),o.complete())}))}});return e?i.pipe(Pl(e)):i}function Ct(n,e){return le((t,r)=>{let i=0;t.subscribe(ae(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Xn(n){return le((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ae(t,void 0,void 0,s=>{o=Ve(n(s,Xn(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function jD(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(ae(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Mr(n,e){return J(e)?xe(n,e,1):xe(n,1)}function Pr(n){return le((e,t)=>{let r=!1;e.subscribe(ae(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function er(n){return n<=0?()=>Dt:le((e,t)=>{let r=0;e.subscribe(ae(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Ol(n=wx){return le((e,t)=>{let r=!1;e.subscribe(ae(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function wx(){return new Jn}function Va(n){return le((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function tr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ct((i,o)=>n(i,o,r)):Nt,er(1),t?Pr(e):Ol(()=>new Jn))}function Zo(n){return n<=0?()=>Dt:le((e,t)=>{let r=[];e.subscribe(ae(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function sg(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ct((i,o)=>n(i,o,r)):Nt,Zo(1),t?Pr(e):Ol(()=>new Jn))}function ag(n,e){return le(jD(n,e,arguments.length>=2,!0))}function cg(...n){let e=Ar(n);return le((t,r)=>{(e?Yo(n,t,e):Yo(n,t)).subscribe(r)})}function vt(n,e){return le((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(ae(r,u=>{i?.unsubscribe();let l=0,h=o++;Ve(n(u,h)).subscribe(i=ae(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Fl(n){return le((e,t)=>{Ve(n).subscribe(ae(t,()=>t.complete(),ka)),!t.closed&&e.subscribe(t)})}function Ke(n,e,t){let r=J(n)||e||t?{next:n,error:e,complete:t}:n;return r?le((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ae(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Nt}function UD(n){let e=Z(null);try{return n()}finally{Z(e)}}var xr=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Ig=new xr("20.3.15");var Ul="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",V=class extends Error{code;constructor(e,t){super(Or(e,t)),this.code=e}};function Dx(n){return`NG0${Math.abs(n)}`}function Or(n,e){return`${Dx(n)}${e?": "+e:""}`}var $a=globalThis;function me(n){for(let e in n)if(n[e]===me)return e;throw Error("")}function HD(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function rr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(rr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function wg(n,e){return n?e?`${n} ${e}`:n:e||""}var Tx=me({__forward_ref__:me});function xt(n){return n.__forward_ref__=xt,n.toString=function(){return rr(this())},n}function nt(n){return Dg(n)?n():n}function Dg(n){return typeof n=="function"&&n.hasOwnProperty(Tx)&&n.__forward_ref__===xt}function U(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function tn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ha(n){return Cx(n,Bl)}function Tg(n){return Ha(n)!==null}function Cx(n,e){return n.hasOwnProperty(e)&&n[e]||null}function bx(n){let e=n?.[Bl]??null;return e||null}function lg(n){return n&&n.hasOwnProperty(Vl)?n[Vl]:null}var Bl=me({\u0275prov:me}),Vl=me({\u0275inj:me}),j=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=U({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Cg(n){return n&&!!n.\u0275providers}var bg=me({\u0275cmp:me}),Sg=me({\u0275dir:me}),Ag=me({\u0275pipe:me}),Rg=me({\u0275mod:me}),Ua=me({\u0275fac:me}),Oi=me({__NG_ELEMENT_ID__:me}),BD=me({__NG_ENV_ID__:me});function qa(n){return typeof n=="string"?n:n==null?"":String(n)}function qD(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():qa(n)}var zD=me({ngErrorCode:me}),Sx=me({ngErrorMessage:me}),Ax=me({ngTokenPath:me});function Ng(n,e){return GD("",-200,e)}function $l(n,e){throw new V(-201,!1)}function GD(n,e,t){let r=new V(e,n);return r[zD]=e,r[Sx]=n,t&&(r[Ax]=t),r}function Rx(n){return n[zD]}var dg;function WD(){return dg}function Mt(n){let e=dg;return dg=n,e}function Mg(n,e,t){let r=Ha(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;$l(n,"Injector")}var Nx={},Ni=Nx,hg="__NG_DI_FLAG__",fg=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Mi(t)||0;try{return this.injector.get(e,r&8?null:Ni,r)}catch(i){if(Po(i))return i;throw i}}};function Mx(n,e=0){let t=nl();if(t===void 0)throw new V(-203,!1);if(t===null)return Mg(n,void 0,e);{let r=Px(e),i=t.retrieve(n,r);if(Po(i)){if(r.optional)return null;throw i}return i}}function z(n,e=0){return(WD()||Mx)(nt(n),e)}function N(n,e){return z(n,Mi(e))}function Mi(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Px(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function pg(n){let e=[];for(let t=0;t<n.length;t++){let r=nt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new V(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=xx(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(z(i,o))}else e.push(z(r))}return e}function KD(n,e){return n[hg]=e,n.prototype[hg]=e,n}function xx(n){return n[hg]}function Pi(n,e){let t=n.hasOwnProperty(Ua);return t?n[Ua]:null}function Hl(n,e){n.forEach(t=>Array.isArray(t)?Hl(t,e):e(t))}function Pg(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function za(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function QD(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function YD(n,e,t){let r=Xo(n,e);return r>=0?n[r|1]=t:(r=~r,QD(n,r,e,t)),r}function ql(n,e){let t=Xo(n,e);if(t>=0)return n[t|1]}function Xo(n,e){return kx(n,e,1)}function kx(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Fr={},Pt=[],Lr=new j(""),xg=new j("",-1),kg=new j(""),Ba=class{get(e,t=Ni){if(t===Ni){let i=GD("",-201);throw i.name="\u0275NotFound",i}return t}};function Og(n){return n[Rg]||null}function ir(n){return n[bg]||null}function Fg(n){return n[Sg]||null}function ZD(n){return n[Ag]||null}function Bt(n){return{\u0275providers:n}}function JD(...n){return{\u0275providers:Lg(!0,n),\u0275fromNgModule:!0}}function Lg(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Hl(e,s=>{let a=s;jl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&XD(i,o),t}function XD(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Vg(i,o=>{e(o,r)})}}function jl(n,e,t,r){if(n=nt(n),!n)return!1;let i=null,o=lg(n),s=!o&&ir(n);if(!o&&!s){let u=n.ngModule;if(o=lg(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)jl(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Hl(o.imports,h=>{jl(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&XD(l,e)}if(!a){let l=Pi(i)||(()=>new i);e({provide:i,useFactory:l,deps:Pt},i),e({provide:kg,useValue:i,multi:!0},i),e({provide:Lr,useValue:()=>z(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;Vg(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Vg(n,e){for(let t of n)Cg(t)&&(t=t.\u0275providers),Array.isArray(t)?Vg(t,e):e(t)}var Ox=me({provide:String,useValue:me});function eT(n){return n!==null&&typeof n=="object"&&Ox in n}function Fx(n){return!!(n&&n.useExisting)}function Lx(n){return!!(n&&n.useFactory)}function xi(n){return typeof n=="function"}function tT(n){return!!n.useClass}var Ga=new j(""),Ll={},$D={},ug;function Wa(){return ug===void 0&&(ug=new Ba),ug}var ke=class{},ki=class extends ke{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,mg(e,s=>this.processProvider(s)),this.records.set(xg,Jo(void 0,this)),i.has("environment")&&this.records.set(ke,Jo(void 0,this));let o=this.records.get(Ga);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(kg,Pt,{self:!0}))}retrieve(e,t){let r=Mi(t)||0;try{return this.get(e,Ni,r)}catch(i){if(Po(i))return i;throw i}}destroy(){ja(this),this._destroyed=!0;let e=Z(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Z(e)}}onDestroy(e){return ja(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ja(this);let t=yn(this),r=Mt(void 0),i;try{return e()}finally{yn(t),Mt(r)}}get(e,t=Ni,r){if(ja(this),e.hasOwnProperty(BD))return e[BD](this);let i=Mi(r),o,s=yn(this),a=Mt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=$x(e)&&Ha(e);h&&this.injectableDefInScope(h)?l=Jo(gg(e),Ll):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?Wa():this.parent;return t=i&8&&t===Ni?null:t,u.get(e,t)}catch(u){let l=Rx(u);throw l===-200||l===-201?new V(l,null):u}finally{Mt(a),yn(s)}}resolveInjectorInitializers(){let e=Z(null),t=yn(this),r=Mt(void 0),i;try{let o=this.get(Lr,Pt,{self:!0});for(let s of o)s()}finally{yn(t),Mt(r),Z(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(rr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=nt(e);let t=xi(e)?e:nt(e&&e.provide),r=jx(e);if(!xi(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Jo(void 0,Ll,!0),i.factory=()=>pg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=Z(null);try{if(t.value===$D)throw Ng(rr(e));return t.value===Ll&&(t.value=$D,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&Bx(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Z(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=nt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function gg(n){let e=Ha(n),t=e!==null?e.factory:Pi(n);if(t!==null)return t;if(n instanceof j)throw new V(204,!1);if(n instanceof Function)return Vx(n);throw new V(204,!1)}function Vx(n){if(n.length>0)throw new V(204,!1);let t=bx(n);return t!==null?()=>t.factory(n):()=>new n}function jx(n){if(eT(n))return Jo(void 0,n.useValue);{let e=jg(n);return Jo(e,Ll)}}function jg(n,e,t){let r;if(xi(n)){let i=nt(n);return Pi(i)||gg(i)}else if(eT(n))r=()=>nt(n.useValue);else if(Lx(n))r=()=>n.useFactory(...pg(n.deps||[]));else if(Fx(n))r=(i,o)=>z(nt(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=nt(n&&(n.useClass||n.provide));if(Ux(n))r=()=>new i(...pg(n.deps));else return Pi(i)||gg(i)}return r}function ja(n){if(n.destroyed)throw new V(205,!1)}function Jo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Ux(n){return!!n.deps}function Bx(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function $x(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function mg(n,e){for(let t of n)Array.isArray(t)?mg(t,e):t&&Cg(t)?mg(t.\u0275providers,e):e(t)}function je(n,e){let t;n instanceof ki?(ja(n),t=n):t=new fg(n);let r,i=yn(t),o=Mt(void 0);try{return e()}finally{yn(i),Mt(o)}}function nT(){return WD()!==void 0||nl()!=null}var nn=0,X=1,K=2,rt=3,$t=4,Ht=5,Ka=6,es=7,it=8,Vr=9,_n=10,Ne=11,ts=12,Ug=13,Fi=14,qt=15,Li=16,Vi=17,ji=18,Qa=19,Bg=20,nr=21,zl=22,Ya=23,kt=24,Ui=25,Za=26,dt=27,rT=1;var jr=7,Ja=8,Xa=9,_t=10;function En(n){return Array.isArray(n)&&typeof n[rT]=="object"}function rn(n){return Array.isArray(n)&&n[rT]===!0}function $g(n){return(n.flags&4)!==0}function Ur(n){return n.componentOffset>-1}function ec(n){return(n.flags&1)===1}function In(n){return!!n.template}function ns(n){return(n[K]&512)!==0}function Bi(n){return(n[K]&256)===256}var iT="svg",oT="math";function zt(n){for(;Array.isArray(n);)n=n[nn];return n}function Hg(n,e){return zt(e[n])}function on(n,e){return zt(e[n.index])}function tc(n,e){return n.data[e]}function Gt(n,e){let t=e[n];return En(t)?t:t[nn]}function Gl(n){return(n[K]&128)===128}function sT(n){return rn(n[rt])}function Br(n,e){return e==null?null:n[e]}function qg(n){n[Vi]=0}function zg(n){n[K]&1024||(n[K]|=1024,Gl(n)&&rs(n))}function aT(n,e){for(;n>0;)e=e[Fi],n--;return e}function nc(n){return!!(n[K]&9216||n[kt]?.dirty)}function Wl(n){n[_n].changeDetectionScheduler?.notify(8),n[K]&64&&(n[K]|=1024),nc(n)&&rs(n)}function rs(n){n[_n].changeDetectionScheduler?.notify(0);let e=kr(n);for(;e!==null&&!(e[K]&8192||(e[K]|=8192,!Gl(e)));)e=kr(e)}function Gg(n,e){if(Bi(n))throw new V(911,!1);n[nr]===null&&(n[nr]=[]),n[nr].push(e)}function cT(n,e){if(n[nr]===null)return;let t=n[nr].indexOf(e);t!==-1&&n[nr].splice(t,1)}function kr(n){let e=n[rt];return rn(e)?e[rt]:e}function uT(n){return n[es]??=[]}function lT(n){return n.cleanup??=[]}var ie={lFrame:RT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var yg=!1;function dT(){return ie.lFrame.elementDepthCount}function hT(){ie.lFrame.elementDepthCount++}function fT(){ie.lFrame.elementDepthCount--}function Wg(){return ie.bindingsEnabled}function pT(){return ie.skipHydrationRootTNode!==null}function gT(n){return ie.skipHydrationRootTNode===n}function mT(){ie.skipHydrationRootTNode=null}function fe(){return ie.lFrame.lView}function Et(){return ie.lFrame.tView}function yT(n){return ie.lFrame.contextLView=n,n[it]}function vT(n){return ie.lFrame.contextLView=null,n}function ht(){let n=Kg();for(;n!==null&&n.type===64;)n=n.parent;return n}function Kg(){return ie.lFrame.currentTNode}function _T(){let n=ie.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function is(n,e){let t=ie.lFrame;t.currentTNode=n,t.isParent=e}function Qg(){return ie.lFrame.isParent}function ET(){ie.lFrame.isParent=!1}function Yg(){return yg}function Zg(n){let e=yg;return yg=n,e}function IT(){let n=ie.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function wT(n){return ie.lFrame.bindingIndex=n}function os(){return ie.lFrame.bindingIndex++}function DT(n){let e=ie.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function TT(){return ie.lFrame.inI18n}function CT(n,e){let t=ie.lFrame;t.bindingIndex=t.bindingRootIndex=n,Kl(e)}function bT(){return ie.lFrame.currentDirectiveIndex}function Kl(n){ie.lFrame.currentDirectiveIndex=n}function ST(n){let e=ie.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Jg(n){ie.lFrame.currentQueryIndex=n}function Hx(n){let e=n[X];return e.type===2?e.declTNode:e.type===1?n[Ht]:null}function Xg(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=Hx(o),i===null||(o=o[Fi],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ie.lFrame=AT();return r.currentTNode=e,r.lView=n,!0}function Ql(n){let e=AT(),t=n[X];ie.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function AT(){let n=ie.lFrame,e=n===null?null:n.child;return e===null?RT(n):e}function RT(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function NT(){let n=ie.lFrame;return ie.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var em=NT;function Yl(){let n=NT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function MT(n){return(ie.lFrame.contextLView=aT(n,ie.lFrame.contextLView))[it]}function $i(){return ie.lFrame.selectedIndex}function $r(n){ie.lFrame.selectedIndex=n}function Zl(){let n=ie.lFrame;return tc(n.tView,n.selectedIndex)}function PT(){return ie.lFrame.currentNamespace}var xT=!0;function Jl(){return xT}function Xl(n){xT=n}function vg(n,e=null,t=null,r){let i=tm(n,e,t,r);return i.resolveInjectorInitializers(),i}function tm(n,e=null,t=null,r,i=new Set){let o=[t||Pt,JD(n)];return r=r||(typeof n=="object"?void 0:rr(n)),new ki(o,e||Wa(),r||null,i)}var be=class n{static THROW_IF_NOT_FOUND=Ni;static NULL=new Ba;static create(e,t){if(Array.isArray(e))return vg({name:""},t,e,"");{let r=e.name??"";return vg({name:r},e.parent,e.providers,r)}}static \u0275prov=U({token:n,providedIn:"any",factory:()=>z(xg)});static __NG_ELEMENT_ID__=-1},Ue=new j(""),wn=(()=>{class n{static __NG_ELEMENT_ID__=qx;static __NG_ENV_ID__=t=>t}return n})(),_g=class extends wn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Bi(this._lView)}onDestroy(e){let t=this._lView;return Gg(t,e),()=>cT(t,e)}};function qx(){return new _g(fe())}var en=class{_console=console;handleError(e){this._console.error("ERROR",e)}},bt=new j("",{providedIn:"root",factory:()=>{let n=N(ke),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(en),e.handleError(t))}}}),kT={provide:Lr,useValue:()=>void N(en),multi:!0};function nm(n){return typeof n=="function"&&n[lt]!==void 0}function Wt(n,e){let[t,r,i]=Hp(n,e?.equal),o=t,s=o[lt];return o.set=r,o.update=i,o.asReadonly=OT.bind(o),o}function OT(){let n=this[lt];if(n.readonlyFn===void 0){let e=()=>this();e[lt]=n,n.readonlyFn=e}return n.readonlyFn}function rm(n){return nm(n)&&typeof n.set=="function"}var ed=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=zx}return n})();function zx(){return new ed(fe(),ht())}var vn=class{},rc=new j("",{providedIn:"root",factory:()=>!1});var im=new j(""),td=new j(""),Dn=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new tt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ne(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})(),ss=(()=>{class n{internalPendingTasks=N(Dn);scheduler=N(vn);errorHandler=N(bt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})();function ic(...n){}var om=(()=>{class n{static \u0275prov=U({token:n,providedIn:"root",factory:()=>new Eg})}return n})(),Eg=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function hs(n){return{toString:n}.toString()}var nd="__parameters__";function ek(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function tk(n,e,t){return hs(()=>{let r=ek(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(nd)?u[nd]:Object.defineProperty(u,nd,{value:[]})[nd];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Ot=KD(tk("Optional"),8);function nk(n){return typeof n=="function"}var cd=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function pC(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var sr=(()=>{let n=()=>gC;return n.ngInherit=!0,n})();function gC(n){return n.type.prototype.ngOnChanges&&(n.setInput=ik),rk}function rk(){let n=yC(this),e=n?.current;if(e){let t=n.previous;if(t===Fr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function ik(n,e,t,r,i){let o=this.declaredInputs[r],s=yC(n)||ok(n,{previous:Fr,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new cd(l&&l.currentValue,t,u===Fr),pC(n,e,i,t)}var mC="__ngSimpleChanges__";function yC(n){return n[mC]||null}function ok(n,e){return n[mC]=e}var FT=[];var _e=function(n,e=null,t){for(let r=0;r<FT.length;r++){let i=FT[r];i(n,e,t)}};function sk(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=gC(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function vC(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function od(n,e,t){_C(n,e,3,t)}function sd(n,e,t,r){(n[K]&3)===t&&_C(n,e,t,r)}function sm(n,e){let t=n[K];(t&3)===e&&(t&=16383,t+=1,n[K]=t)}function _C(n,e,t,r){let i=r!==void 0?n[Vi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[Vi]+=65536),(a<o||o==-1)&&(ak(n,t,e,u),n[Vi]=(n[Vi]&4294901760)+u+2),u++}function LT(n,e){_e(4,n,e);let t=Z(null);try{e.call(n)}finally{Z(t),_e(5,n,e)}}function ak(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[K]>>14<n[Vi]>>16&&(n[K]&3)===e&&(n[K]+=16384,LT(a,o)):LT(a,o)}var cs=-1,qi=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function ck(n){return(n.flags&8)!==0}function uk(n){return(n.flags&16)!==0}function lk(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];dk(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function EC(n){return n===3||n===4||n===6}function dk(n){return n.charCodeAt(0)===64}function ac(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?VT(n,t,i,null,e[++r]):VT(n,t,i,null,null))}}return n}function VT(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function IC(n){return n!==cs}function ud(n){return n&32767}function hk(n){return n>>16}function ld(n,e){let t=hk(n),r=e;for(;t>0;)r=r[Fi],t--;return r}var mm=!0;function jT(n){let e=mm;return mm=n,e}var fk=256,wC=fk-1,DC=5,pk=0,Tn={};function gk(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Oi)&&(r=t[Oi]),r==null&&(r=t[Oi]=pk++);let i=r&wC,o=1<<i;e.data[n+(i>>DC)]|=o}function dd(n,e){let t=TC(n,e);if(t!==-1)return t;let r=e[X];r.firstCreatePass&&(n.injectorIndex=e.length,am(r.data,n),am(e,null),am(r.blueprint,null));let i=Om(n,e),o=n.injectorIndex;if(IC(i)){let s=ud(i),a=ld(i,e),u=a[X].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function am(n,e){n.push(0,0,0,0,0,0,0,0,e)}function TC(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Om(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=RC(i),r===null)return cs;if(t++,i=i[Fi],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return cs}function ym(n,e,t){gk(n,e,t)}function mk(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(EC(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function CC(n,e,t){if(t&8||n!==void 0)return n;$l(e,"NodeInjector")}function bC(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Vr],o=Mt(void 0);try{return i?i.get(e,r,t&8):Mg(e,r,t&8)}finally{Mt(o)}}return CC(r,e,t)}function SC(n,e,t,r=0,i){if(n!==null){if(e[K]&2048&&!(r&2)){let s=Ik(n,e,t,r,Tn);if(s!==Tn)return s}let o=AC(n,e,t,r,Tn);if(o!==Tn)return o}return bC(e,t,r,i)}function AC(n,e,t,r,i){let o=_k(t);if(typeof o=="function"){if(!Xg(e,n,r))return r&1?CC(i,t,r):bC(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))$l(t);else return s}finally{em()}}else if(typeof o=="number"){let s=null,a=TC(n,e),u=cs,l=r&1?e[qt][Ht]:null;for((a===-1||r&4)&&(u=a===-1?Om(n,e):e[a+8],u===cs||!BT(r,!1)?a=-1:(s=e[X],a=ud(u),e=ld(u,e)));a!==-1;){let h=e[X];if(UT(o,a,h.data)){let p=yk(a,e,t,s,r,l);if(p!==Tn)return p}u=e[a+8],u!==cs&&BT(r,e[X].data[a+8]===l)&&UT(o,a,e)?(s=h,a=ud(u),e=ld(u,e)):a=-1}}return i}function yk(n,e,t,r,i,o){let s=e[X],a=s.data[n+8],u=r==null?Ur(a)&&mm:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=vk(a,s,t,u,l);return h!==null?hd(e,s,h,a,i):Tn}function vk(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let b=s[y];if(y<u&&t===b||y>=u&&b.type===t)return y}if(i){let y=s[u];if(y&&In(y)&&y.type===t)return u}return null}function hd(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof qi){let a=o;if(a.resolving){let y=qD(s[t]);throw Ng(y)}let u=jT(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],h,p=a.injectImpl?Mt(a.injectImpl):null,m=Xg(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&sk(t,s[t],e)}finally{p!==null&&Mt(p),jT(u),a.resolving=!1,em()}}return o}function _k(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Oi)?n[Oi]:void 0;return typeof e=="number"?e>=0?e&wC:Ek:e}function UT(n,e,t){let r=1<<n;return!!(t[e+(n>>DC)]&r)}function BT(n,e){return!(n&2)&&!(n&1&&e)}var Hi=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return SC(this._tNode,this._lView,e,Mi(r),t)}};function Ek(){return new Hi(ht(),fe())}function bn(n){return hs(()=>{let e=n.prototype.constructor,t=e[Ua]||vm(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Ua]||vm(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function vm(n){return Dg(n)?()=>{let e=vm(nt(n));return e&&e()}:Pi(n)}function Ik(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[K]&2048&&!ns(s);){let a=AC(o,s,t,r|2,Tn);if(a!==Tn)return a;let u=o.parent;if(!u){let l=s[Bg];if(l){let h=l.get(t,Tn,r);if(h!==Tn)return h}u=RC(s),s=s[Fi]}o=u}return i}function RC(n){let e=n[X],t=e.type;return t===2?e.declTNode:t===1?n[Ht]:null}function hc(n){return mk(ht(),n)}function wk(){return Td(ht(),fe())}function Td(n,e){return new Sn(on(n,e))}var Sn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=wk}return n})();function NC(n){return(n.flags&128)===128}var Fm=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(Fm||{}),MC=new Map,Dk=0;function Tk(){return Dk++}function Ck(n){MC.set(n[Qa],n)}function _m(n){MC.delete(n[Qa])}var $T="__ngContext__";function us(n,e){En(e)?(n[$T]=e[Qa],Ck(e)):n[$T]=e}function PC(n){return kC(n[ts])}function xC(n){return kC(n[$t])}function kC(n){for(;n!==null&&!rn(n);)n=n[$t];return n}var Em;function Lm(n){Em=n}function OC(){if(Em!==void 0)return Em;if(typeof document<"u")return document;throw new V(210,!1)}var Cd=new j("",{providedIn:"root",factory:()=>bk}),bk="ng",bd=new j(""),Qi=new j("",{providedIn:"platform",factory:()=>"unknown"});var Sd=new j("",{providedIn:"root",factory:()=>OC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Sk="h",Ak="b";var FC=!1,LC=new j("",{providedIn:"root",factory:()=>FC});var Vm=new j("");var Rk=(n,e,t,r)=>{};function Nk(n,e,t,r){Rk(n,e,t,r)}function jm(n){return(n.flags&32)===32}var Mk=()=>null;function VC(n,e,t=!1){return Mk(n,e,t)}function jC(n,e){let t=n.contentQueries;if(t!==null){let r=Z(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Jg(o),a.contentQueries(2,e[s],s)}}}finally{Z(r)}}}function Im(n,e,t){Jg(0);let r=Z(null);try{e(n,t)}finally{Z(r)}}function UC(n,e,t){if($g(e)){let r=Z(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{Z(r)}}}var or=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(or||{});var rd;function Pk(){if(rd===void 0&&(rd=null,$a.trustedTypes))try{rd=$a.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return rd}function HT(n){return Pk()?.createScriptURL(n)||n}var fd=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ul})`}};function fc(n){return n instanceof fd?n.changingThisBreaksApplicationSecurity:n}function Um(n,e){let t=BC(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Ul})`)}return t===e}function BC(n){return n instanceof fd&&n.getTypeName()||null}var xk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function $C(n){return n=String(n),n.match(xk)?n:"unsafe:"+n}function kk(n,e){return n.createText(e)}function Ok(n,e,t){n.setValue(e,t)}function HC(n,e,t){return n.createElement(e,t)}function pd(n,e,t,r,i){n.insertBefore(e,t,r,i)}function qC(n,e,t){n.appendChild(e,t)}function qT(n,e,t,r,i){r!==null?pd(n,e,t,r,i):qC(n,e,t)}function Fk(n,e,t,r){n.removeChild(null,e,t,r)}function Lk(n,e,t){n.setAttribute(e,"style",t)}function Vk(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function zC(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&lk(n,e,r),i!==null&&Vk(n,e,i),o!==null&&Lk(n,e,o)}var Ad=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Ad||{});function GC(n){let e=KC();return e?e.sanitize(Ad.URL,n)||"":Um(n,"URL")?fc(n):$C(qa(n))}function WC(n){let e=KC();if(e)return HT(e.sanitize(Ad.RESOURCE_URL,n)||"");if(Um(n,"ResourceURL"))return HT(fc(n));throw new V(904,!1)}function jk(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?WC:GC}function Bm(n,e,t){return jk(e,t)(n)}function KC(){let n=fe();return n&&n[_n].sanitizer}function QC(n){return n instanceof Function?n():n}function Uk(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var YC="ng-template";function Bk(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Uk(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if($m(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function $m(n){return n.type===4&&n.value!==YC}function $k(n,e,t){let r=n.type===4&&!t?YC:n.value;return e===r}function Hk(n,e,t){let r=4,i=n.attrs,o=i!==null?Gk(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!sn(r)&&!sn(u))return!1;if(s&&sn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!$k(n,u,t)||u===""&&e.length===1){if(sn(r))return!1;s=!0}}else if(r&8){if(i===null||!Bk(n,i,u,t)){if(sn(r))return!1;s=!0}}else{let l=e[++a],h=qk(u,i,$m(n),t);if(h===-1){if(sn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(sn(r))return!1;s=!0}}}}return sn(r)||s}function sn(n){return(n&1)===0}function qk(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Wk(e,n)}function zk(n,e,t=!1){for(let r=0;r<e.length;r++)if(Hk(n,e[r],t))return!0;return!1}function Gk(n){for(let e=0;e<n.length;e++){let t=n[e];if(EC(t))return e}return n.length}function Wk(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function zT(n,e){return n?":not("+e.trim()+")":e}function Kk(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!sn(s)&&(e+=zT(o,i),i=""),r=s,o=o||!sn(r);t++}return i!==""&&(e+=zT(o,i)),e}function Qk(n){return n.map(Kk).join(",")}function Yk(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!sn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var An={};function Hm(n,e,t,r,i,o,s,a,u,l,h){let p=dt+r,m=p+i,y=Zk(p,m),b=typeof l=="function"?l():l;return y[X]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:b,incompleteFirstPass:!1,ssrId:h}}function Zk(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:An);return t}function Jk(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Hm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function qm(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[nn]=i,p[K]=r|4|128|8|64|1024,(l!==null||n&&n[K]&2048)&&(p[K]|=2048),qg(p),p[rt]=p[Fi]=n,p[it]=t,p[_n]=s||n&&n[_n],p[Ne]=a||n&&n[Ne],p[Vr]=u||n&&n[Vr]||null,p[Ht]=o,p[Qa]=Tk(),p[Ka]=h,p[Bg]=l,p[qt]=e.type==2?n[qt]:p,p}function Xk(n,e,t){let r=on(e,n),i=Jk(t),o=n[_n].rendererFactory,s=zm(n,qm(n,i,null,ZC(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function ZC(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function JC(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function zm(n,e){return n[ts]?n[Ug][$t]=e:n[ts]=e,n[Ug]=e,e}function eO(n=1){XC(Et(),fe(),$i()+n,!1)}function XC(n,e,t,r){if(!r)if((e[K]&3)===3){let o=n.preOrderCheckHooks;o!==null&&od(e,o,t)}else{let o=n.preOrderHooks;o!==null&&sd(e,o,0,t)}$r(t)}var Rd=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Rd||{});function wm(n,e,t,r){let i=Z(null);try{let[o,s,a]=n.inputs[t],u=null;(s&Rd.SignalBased)!==0&&(u=e[o][lt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):pC(e,u,o,r)}finally{Z(i)}}var Cn=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Cn||{}),tO;function Gm(n,e){return tO(n,e)}var ls=new Set,Nd=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(Nd||{}),Yi=new j(""),GT=new Set;function Rn(n){GT.has(n)||(GT.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var eb=!1,Dm=class extends Le{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,nT()&&(this.destroyRef=N(wn,{optional:!0})??void 0,this.pendingTasks=N(Dn,{optional:!0})??void 0)}emit(e){let t=Z(null);try{super.next(e)}finally{Z(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Re&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Be=Dm;function tb(n){let e,t;function r(){n=ic;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function WT(n){return queueMicrotask(()=>n()),()=>{n=ic}}var Wm="isAngularZone",gd=Wm+"_ID",nO=0,pe=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Be(!1);onMicrotaskEmpty=new Be(!1);onStable=new Be(!1);onError=new Be(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=eb}=e;if(typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,oO(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Wm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new V(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,rO,ic,ic);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},rO={};function Km(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function iO(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){tb(()=>{n.callbackScheduled=!1,Tm(n),n.isCheckStableRunning=!0,Km(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Tm(n)}function oO(n){let e=()=>{iO(n)},t=nO++;n._inner=n._inner.fork({name:"angular",properties:{[Wm]:!0,[gd]:t,[gd+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(sO(u))return r.invokeTask(o,s,a,u);try{return KT(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),QT(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return KT(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!aO(u)&&e(),QT(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Tm(n),Km(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Tm(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function KT(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function QT(n){n._nesting--,Km(n)}var cc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Be;onMicrotaskEmpty=new Be;onStable=new Be;onError=new Be;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function sO(n){return nb(n,"__ignore_ng_zone__")}function aO(n){return nb(n,"__scheduler_tick__")}function nb(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Qm=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})(),rb=[0,1,2,3],ib=(()=>{class n{ngZone=N(pe);scheduler=N(vn);errorHandler=N(en,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){N(Yi,{optional:!0})}execute(){let t=this.sequences.size>0;t&&_e(16),this.executing=!0;for(let r of rb)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&_e(17)}register(t){let{view:r}=t;r!==void 0?((r[Ui]??=[]).push(t),rs(r),r[K]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Nd.AFTER_NEXT_RENDER,t):t()}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})(),md=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Ui];e&&(this.view[Ui]=e.filter(t=>t!==this))}};function Md(n,e){let t=e?.injector??N(be);return Rn("NgAfterNextRender"),uO(n,t,e,!0)}function cO(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function uO(n,e,t,r){let i=e.get(Qm);i.impl??=e.get(ib);let o=e.get(Yi,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(wn):null,a=e.get(ed,null,{optional:!0}),u=new md(i.impl,cO(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var lO=new j("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function ob(n,e,t){let r=n.get(lO);if(Array.isArray(e))for(let i of e)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(n)}function dO(n,e){for(let[t,r]of e)ob(n,r.animateFns)}function YT(n,e,t,r){let i=n?.[Za]?.enter;e!==null&&i&&i.has(t.index)&&dO(r,i)}function as(n,e,t,r,i,o,s,a){if(i!=null){let u,l=!1;rn(i)?u=i:En(i)&&(l=!0,i=i[nn]);let h=zt(i);n===0&&r!==null?(YT(a,r,o,t),s==null?qC(e,r,h):pd(e,r,h,s||null,!0)):n===1&&r!==null?(YT(a,r,o,t),pd(e,r,h,s||null,!0)):n===2?ZT(a,o,t,p=>{Fk(e,h,l,p)}):n===3&&ZT(a,o,t,()=>{e.destroyNode(h)}),u!=null&&TO(e,n,t,u,o,r,s)}}function hO(n,e){sb(n,e),e[nn]=null,e[Ht]=null}function fO(n,e,t,r,i,o){r[nn]=i,r[Ht]=e,Pd(n,r,t,1,i,o)}function sb(n,e){e[_n].changeDetectionScheduler?.notify(9),Pd(n,e,e[Ne],2,null,null)}function pO(n){let e=n[ts];if(!e)return cm(n[X],n);for(;e;){let t=null;if(En(e))t=e[ts];else{let r=e[_t];r&&(t=r)}if(!t){for(;e&&!e[$t]&&e!==n;)En(e)&&cm(e[X],e),e=e[rt];e===null&&(e=n),En(e)&&cm(e[X],e),t=e&&e[$t]}e=t}}function Ym(n,e){let t=n[Xa],r=t.indexOf(e);t.splice(r,1)}function Zm(n,e){if(Bi(e))return;let t=e[Ne];t.destroyNode&&Pd(n,e,t,3,null,null),pO(e)}function cm(n,e){if(Bi(e))return;let t=Z(null);try{e[K]&=-129,e[K]|=256,e[kt]&&xa(e[kt]),yO(n,e),mO(n,e),e[X].type===1&&e[Ne].destroy();let r=e[Li];if(r!==null&&rn(e[rt])){r!==e[rt]&&Ym(r,e);let i=e[ji];i!==null&&i.detachView(n)}_m(e)}finally{Z(t)}}function ZT(n,e,t,r){let i=n?.[Za];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);n&&ls.add(n),ob(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:h}=l();a.push(h)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),gO(n,r)}else n&&ls.delete(n),r(!1)},i)}function gO(n,e){let t=n[Za]?.running;if(t){t.then(()=>{n[Za].running=void 0,ls.delete(n),e(!0)});return}e(!1)}function mO(n,e){let t=n.cleanup,r=e[es];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[es]=null);let i=e[nr];if(i!==null){e[nr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Ya];if(o!==null){e[Ya]=null;for(let s of o)s.destroy()}}function yO(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof qi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];_e(4,a,u);try{u.call(a)}finally{_e(5,a,u)}}else{_e(4,i,o);try{o.call(i)}finally{_e(5,i,o)}}}}}function vO(n,e,t){return _O(n,e.parent,t)}function _O(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[nn];if(Ur(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===or.None||i===or.Emulated)return null}return on(r,t)}function EO(n,e,t){return wO(n,e,t)}function IO(n,e,t){return n.type&40?on(n,t):null}var wO=IO,JT;function Jm(n,e,t,r){let i=vO(n,r,e),o=e[Ne],s=r.parent||e[Ht],a=EO(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)qT(o,i,t[u],a,!1);else qT(o,i,t,a,!1);JT!==void 0&&JT(o,r,e,t,i)}function oc(n,e){if(e!==null){let t=e.type;if(t&3)return on(e,n);if(t&4)return Cm(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return oc(n,r);{let i=n[e.index];return rn(i)?Cm(-1,i):zt(i)}}else{if(t&128)return oc(n,e.next);if(t&32)return Gm(e,n)()||zt(n[e.index]);{let r=ab(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=kr(n[qt]);return oc(i,r)}else return oc(n,e.next)}}}return null}function ab(n,e){if(e!==null){let r=n[qt][Ht],i=e.projection;return r.projection[i]}return null}function Cm(n,e){let t=_t+n+1;if(t<e.length){let r=e[t],i=r[X].firstChild;if(i!==null)return oc(r,i)}return e[jr]}function Xm(n,e,t,r,i,o,s){for(;t!=null;){let a=r[Vr];if(t.type===128){t=t.next;continue}let u=r[t.index],l=t.type;if(s&&e===0&&(u&&us(zt(u),r),t.flags|=2),!jm(t))if(l&8)Xm(n,e,t.child,r,i,o,!1),as(e,n,a,i,u,t,o,r);else if(l&32){let h=Gm(t,r),p;for(;p=h();)as(e,n,a,i,p,t,o,r);as(e,n,a,i,u,t,o,r)}else l&16?DO(n,e,r,t,i,o):as(e,n,a,i,u,t,o,r);t=s?t.projectionNext:t.next}}function Pd(n,e,t,r,i,o){Xm(t,r,n.firstChild,e,i,o,!1)}function DO(n,e,t,r,i,o){let s=t[qt],u=s[Ht].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];as(e,n,t[Vr],i,h,r,o,t)}else{let l=u,h=s[rt];NC(r)&&(l.flags|=128),Xm(n,e,l,h,i,o,!0)}}function TO(n,e,t,r,i,o,s){let a=r[jr],u=zt(r);a!==u&&as(e,n,t,o,a,i,s);for(let l=_t;l<r.length;l++){let h=r[l];Pd(h[X],h,n,e,o,a)}}function CO(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Cn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Cn.Important),n.setStyle(t,r,i,o))}}function cb(n,e,t,r,i){let o=$i(),s=r&2;try{$r(-1),s&&e.length>dt&&XC(n,e,dt,!1),_e(s?2:0,i,t),t(r,i)}finally{$r(o),_e(s?3:1,i,t)}}function ey(n,e,t){PO(n,e,t),(t.flags&64)===64&&xO(n,e,t)}function ty(n,e,t=on){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function bO(n,e,t,r){let o=r.get(LC,FC)||t===or.ShadowDom,s=n.selectRootElement(e,o);return SO(s),s}function SO(n){AO(n)}var AO=()=>null;function RO(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function ub(n,e,t,r,i,o){let s=e[X];if(ny(n,s,e,t,r)){Ur(n)&&MO(e,n.index);return}n.type&3&&(t=RO(t)),NO(n,e,t,r,i,o)}function NO(n,e,t,r,i,o){if(n.type&3){let s=on(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function MO(n,e){let t=Gt(e,n);t[K]&16||(t[K]|=64)}function PO(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Ur(t)&&Xk(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||dd(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=hd(e,n,s,t);if(us(u,e),o!==null&&LO(e,s-r,u,a,t,o),In(a)){let l=Gt(t.index,e);l[it]=hd(e,n,s,t)}}}function xO(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=bT();try{$r(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Kl(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&kO(u,l)}}finally{$r(-1),Kl(s)}}function kO(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function lb(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];zk(e,o.selectors,!1)&&(r??=[],In(o)?r.unshift(o):r.push(o))}return r}function OO(n,e,t,r,i,o){let s=on(n,e);FO(e[Ne],s,o,n.value,t,r,i)}function FO(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?qa(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function LO(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];wm(r,t,u,l)}}function VO(n,e,t,r,i){let o=dt+t,s=e[X],a=i(s,e,n,r,t);e[o]=a,is(n,!0);let u=n.type===2;return u?(zC(e[Ne],a,n),(dT()===0||ec(n))&&us(a,e),hT()):us(a,e),Jl()&&(!u||!jm(n))&&Jm(s,e,a,n),n}function jO(n){let e=n;return Qg()?ET():(e=e.parent,is(e,!1)),e}function UO(n,e){let t=n[Vr];if(!t)return;let r;try{r=t.get(bt,null)}catch{r=null}r?.(e)}function ny(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];wm(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];wm(h,l,r,i),a=!0}return a}function BO(n,e){let t=Gt(e,n),r=t[X];$O(r,t);let i=t[nn];i!==null&&t[Ka]===null&&(t[Ka]=VC(i,t[Vr])),_e(18),ry(r,t,t[it]),_e(19,t[it])}function $O(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function ry(n,e,t){Ql(e);try{let r=n.viewQuery;r!==null&&Im(1,r,t);let i=n.template;i!==null&&cb(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[ji]?.finishViewCreation(n),n.staticContentQueries&&jC(n,e),n.staticViewQueries&&Im(2,n.viewQuery,t);let o=n.components;o!==null&&HO(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[K]&=-5,Yl()}}function HO(n,e){for(let t=0;t<e.length;t++)BO(n,e[t])}function db(n,e,t,r){let i=Z(null);try{let o=e.tView,a=n[K]&4096?4096:16,u=qm(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Li]=l;let h=n[ji];return h!==null&&(u[ji]=h.createEmbeddedView(o)),ry(o,u,t),u}finally{Z(i)}}function bm(n,e){return!e||e.firstChild===null||NC(n)}function uc(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(zt(o)),rn(o)&&hb(o,r);let s=t.type;if(s&8)uc(n,e,t.child,r);else if(s&32){let a=Gm(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=ab(e,t);if(Array.isArray(a))r.push(...a);else{let u=kr(e[qt]);uc(u[X],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function hb(n,e){for(let t=_t;t<n.length;t++){let r=n[t],i=r[X].firstChild;i!==null&&uc(r[X],r,i,e)}n[jr]!==n[nn]&&e.push(n[jr])}function fb(n){if(n[Ui]!==null){for(let e of n[Ui])e.impl.addSequence(e);n[Ui].length=0}}var pb=[];function qO(n){return n[kt]??zO(n)}function zO(n){let e=pb.pop()??Object.create(WO);return e.lView=n,e}function GO(n){n.lView[kt]!==n&&(n.lView=null,pb.push(n))}var WO=te(x({},xo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{rs(n.lView)},consumerOnSignalRead(){this.lView[kt]=this}});function KO(n){let e=n[kt]??Object.create(QO);return e.lView=n,e}var QO=te(x({},xo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=kr(n.lView);for(;e&&!gb(e[X]);)e=kr(e);e&&zg(e)},consumerOnSignalRead(){this.lView[kt]=this}});function gb(n){return n.type!==2}function mb(n){if(n[Ya]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Ya])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[K]&8192)}}var YO=100;function yb(n,e=0){let r=n[_n].rendererFactory,i=!1;i||r.begin?.();try{ZO(n,e)}finally{i||r.end?.()}}function ZO(n,e){let t=Yg();try{Zg(!0),Sm(n,e);let r=0;for(;nc(n);){if(r===YO)throw new V(103,!1);r++,Sm(n,1)}}finally{Zg(t)}}function JO(n,e,t,r){if(Bi(e))return;let i=e[K],o=!1,s=!1;Ql(e);let a=!0,u=null,l=null;o||(gb(n)?(l=qO(e),u=Oo(l)):al()===null?(a=!1,l=KO(e),u=Oo(l)):e[kt]&&(xa(e[kt]),e[kt]=null));try{qg(e),wT(n.bindingStartIndex),t!==null&&cb(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&od(e,y,null)}else{let y=n.preOrderHooks;y!==null&&sd(e,y,0,null),sm(e,0)}if(s||XO(e),mb(e),vb(e,0),n.contentQueries!==null&&jC(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&od(e,y)}else{let y=n.contentHooks;y!==null&&sd(e,y,1),sm(e,1)}t1(n,e);let p=n.components;p!==null&&Eb(e,p,0);let m=n.viewQuery;if(m!==null&&Im(2,m,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&od(e,y)}else{let y=n.viewHooks;y!==null&&sd(e,y,2),sm(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[zl]){for(let y of e[zl])y();e[zl]=null}o||(fb(e),e[K]&=-73)}catch(h){throw o||rs(e),h}finally{l!==null&&(Ma(l,u),a&&GO(l)),Yl()}}function vb(n,e){for(let t=PC(n);t!==null;t=xC(t))for(let r=_t;r<t.length;r++){let i=t[r];_b(i,e)}}function XO(n){for(let e=PC(n);e!==null;e=xC(e)){if(!(e[K]&2))continue;let t=e[Xa];for(let r=0;r<t.length;r++){let i=t[r];zg(i)}}}function e1(n,e,t){_e(18);let r=Gt(e,n);_b(r,t),_e(19,r[it])}function _b(n,e){Gl(n)&&Sm(n,e)}function Sm(n,e){let r=n[X],i=n[K],o=n[kt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Pa(o)),s||=!1,o&&(o.dirty=!1),n[K]&=-9217,s)JO(r,n,r.template,n[it]);else if(i&8192){let a=Z(null);try{mb(n),vb(n,1);let u=r.components;u!==null&&Eb(n,u,1),fb(n)}finally{Z(a)}}}function Eb(n,e,t){for(let r=0;r<e.length;r++)e1(n,e[r],t)}function t1(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)$r(~i);else{let o=i,s=t[++r],a=t[++r];CT(s,o);let u=e[o];_e(24,u),a(2,u),_e(25,u)}}}finally{$r(-1)}}function iy(n,e){let t=Yg()?64:1088;for(n[_n].changeDetectionScheduler?.notify(e);n;){n[K]|=t;let r=kr(n);if(ns(n)&&!r)return n;n=r}return null}function Ib(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function n1(n,e){let t=_t+e;if(t<n.length)return n[t]}function wb(n,e,t,r=!0){let i=e[X];if(i1(i,e,n,t),r){let s=Cm(t,n),a=e[Ne],u=a.parentNode(n[jr]);u!==null&&fO(i,n[Ht],a,e,u,s)}let o=e[Ka];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function r1(n,e){let t=yd(n,e);return t!==void 0&&Zm(t[X],t),t}function yd(n,e){if(n.length<=_t)return;let t=_t+e,r=n[t];if(r){let i=r[Li];i!==null&&i!==n&&Ym(i,r),e>0&&(n[t-1][$t]=r[$t]);let o=za(n,_t+e);hO(r[X],r);let s=o[ji];s!==null&&s.detachView(o[X]),r[rt]=null,r[$t]=null,r[K]&=-129}return r}function i1(n,e,t,r){let i=_t+r,o=t.length;r>0&&(t[i-1][$t]=e),r<o-_t?(e[$t]=t[i],Pg(t,_t+r,e)):(t.push(e),e[$t]=null),e[rt]=t;let s=e[Li];s!==null&&t!==s&&Db(s,e);let a=e[ji];a!==null&&a.insertView(n),Wl(e),e[K]|=128}function Db(n,e){let t=n[Xa],r=e[rt];if(En(r))n[K]|=2;else{let i=r[rt][qt];e[qt]!==i&&(n[K]|=2)}t===null?n[Xa]=[e]:t.push(e)}var Hr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[X];return uc(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[it]}set context(e){this._lView[it]=e}get destroyed(){return Bi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[rt];if(rn(e)){let t=e[Ja],r=t?t.indexOf(this):-1;r>-1&&(yd(e,r),za(t,r))}this._attachedToViewContainer=!1}Zm(this._lView[X],this._lView)}onDestroy(e){Gg(this._lView,e)}markForCheck(){iy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[K]&=-129}reattach(){Wl(this._lView),this._lView[K]|=128}detectChanges(){this._lView[K]|=1024,yb(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ns(this._lView),t=this._lView[Li];t!==null&&!e&&Ym(t,this._lView),sb(this._lView[X],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e;let t=ns(this._lView),r=this._lView[Li];r!==null&&!t&&Db(r,this._lView),Wl(this._lView)}};var pc=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=o1;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=db(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Hr(o)}}return n})();function o1(){return s1(ht(),fe())}function s1(n,e){return n.type&4?new pc(e,n,Td(n,e)):null}function xd(n,e,t,r,i){let o=n.data[e];if(o===null)o=a1(n,e,t,r,i),TT()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=_T();o.injectorIndex=s===null?-1:s.injectorIndex}return is(o,!0),o}function a1(n,e,t,r,i){let o=Kg(),s=Qg(),a=s?o:o&&o.parent,u=n.data[e]=u1(n,a,t,e,r,i);return c1(n,u,o,s),u}function c1(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function u1(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return pT()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Y5=new RegExp(`^(\\d+)*(${Ak}|${Sk})*(.*)`);var l1=()=>null,d1=()=>null;function XT(n,e){return l1(n,e)}function h1(n,e,t){return d1(n,e,t)}var Tb=class{},kd=class{},Am=class{resolveComponentFactory(e){throw new V(917,!1)}},gc=class{static NULL=new Am},zi=class{},ar=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>f1()}return n})();function f1(){let n=fe(),e=ht(),t=Gt(e.index,n);return(En(t)?t:n)[Ne]}var Cb=(()=>{class n{static \u0275prov=U({token:n,providedIn:"root",factory:()=>null})}return n})();var ad={},Rm=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,ad,r);return i!==ad||t===ad?i:this.parentInjector.get(e,t,r)}};function eC(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=wg(i,a);else if(o==2){let u=a,l=e[++s];r=wg(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function oe(n,e=0){let t=fe();if(t===null)return z(n,e);let r=ht();return SC(r,t,nt(n),e)}function oy(){let n="invalid";throw new Error(n)}function bb(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}m1(n,e,t,a,o,u,l)}o!==null&&r!==null&&p1(t,r,o)}function p1(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new V(-301,!1);r.push(e[i],o)}}function g1(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function m1(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let y=r[m];!u&&In(y)&&(u=!0,g1(n,t,m)),ym(dd(t,e),n,y.type)}w1(t,n.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=JC(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(t.mergedAttrs=ac(t.mergedAttrs,y.hostAttrs),v1(n,t,e,p,y),I1(p,y,i),s!==null&&s.has(y)){let[M,R]=s.get(y);t.directiveToIndex.set(y.type,[p,M+t.directiveStart,R+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let b=y.type.prototype;!l&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(b.ngOnChanges||b.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}y1(n,t,o)}function y1(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))tC(0,e,i,r),tC(1,e,i,r),rC(e,r,!1);else{let o=t.get(i);nC(0,e,o,r),nC(1,e,o,r),rC(e,r,!0)}}}function tC(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),Sb(e,o)}}function nC(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),Sb(e,s)}}function Sb(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function rC(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||$m(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function v1(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Pi(i.type,!0)),s=new qi(o,In(i),oe,null);n.blueprint[r]=s,t[r]=s,_1(n,e,r,JC(n,t,i.hostVars,An),i)}function _1(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;E1(s)!=a&&s.push(a),s.push(t,r,o)}}function E1(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function I1(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;In(e)&&(t[""]=n)}}function w1(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Ab(n,e,t,r,i,o,s,a){let u=e[X],l=u.consts,h=Br(l,s),p=xd(u,n,t,r,h);return o&&bb(u,e,p,Br(l,a),i),p.mergedAttrs=ac(p.mergedAttrs,p.attrs),p.attrs!==null&&eC(p,p.attrs,!1),p.mergedAttrs!==null&&eC(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function Rb(n,e){vC(n,e),$g(e)&&n.queries.elementEnd(e)}function sy(n){return Mb(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function Nb(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function Mb(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function D1(n,e,t){return n[e]=t}function T1(n,e){return n[e]}function fs(n,e,t){if(t===An)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function um(n,e,t){return function r(i){let o=Ur(n)?Gt(n.index,e):e;iy(o,5);let s=e[it],a=iC(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=iC(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function iC(n,e,t,r){let i=Z(null);try{return _e(6,e,t),t(r)!==!1}catch(o){return UO(n,o),!1}finally{_e(7,e,t),Z(i)}}function C1(n,e,t,r,i,o,s,a){let u=ec(n),l=!1,h=null;if(!r&&u&&(h=S1(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=on(n,t),m=r?r(p):p;Nk(t,m,o,a);let y=i.listen(m,o,a);if(!b1(o)){let b=r?M=>r(zt(M[n.index])):n.index;Pb(b,e,t,o,a,y,!1)}}return l}function b1(n){return n.startsWith("animation")||n.startsWith("transition")}function S1(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[es],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function Pb(n,e,t,r,i,o,s){let a=e.firstCreatePass?lT(e):null,u=uT(t),l=u.length;u.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function oC(n,e,t,r,i,o){let s=e[t],a=e[X],l=a.data[t].outputs[r],p=s[l].subscribe(o);Pb(n.index,a,e,i,o,p,!0)}var Nm=Symbol("BINDING");var vd=class extends gc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=ir(e);return new Gi(t,this.ngModule)}};function A1(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Rd.SignalBased)!==0};return i&&(o.transform=i),o})}function R1(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function N1(n,e,t){let r=e instanceof ke?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Rm(t,r):t}function M1(n){let e=n.get(zi,null);if(e===null)throw new V(407,!1);let t=n.get(Cb,null),r=n.get(vn,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function P1(n,e){let t=xb(n);return HC(e,t,t==="svg"?iT:t==="math"?oT:null)}function xb(n){return(n.selectors[0][0]||"div").toLowerCase()}var Gi=class extends kd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=A1(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=R1(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=Qk(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){_e(22);let a=Z(null);try{let u=this.componentDef,l=x1(r,u,s,o),h=N1(u,i||this.ngModule,e),p=M1(h),m=p.rendererFactory.createRenderer(null,u),y=r?bO(m,r,u.encapsulation,h):P1(u,m),b=s?.some(sC)||o?.some(F=>typeof F!="function"&&F.bindings.some(sC)),M=qm(null,l,null,512|ZC(u),null,null,p,m,h,null,VC(y,h,!0));M[dt]=y,Ql(M);let R=null;try{let F=Ab(dt,M,2,"#host",()=>l.directiveRegistry,!0,0);zC(m,y,F),us(y,M),ey(l,M,F),UC(l,F,M),Rb(l,F),t!==void 0&&O1(F,this.ngContentSelectors,t),R=Gt(F.index,M),M[it]=R[it],ry(l,M,null)}catch(F){throw R!==null&&_m(R),_m(M),F}finally{_e(23),Yl()}return new _d(this.componentType,M,!!b)}finally{Z(a)}}};function x1(n,e,t,r){let i=n?["ng-version","20.3.15"]:Yk(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[Nm].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let m of p.bindings){a+=m[Nm].requiredVars;let y=h+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,m=Fg(p);u.push(m)}return Hm(0,null,k1(o,s),1,a,u,null,null,null,[i],null)}function k1(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function sC(n){let e=n[Nm].kind;return e==="input"||e==="twoWay"}var _d=class extends Tb{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=tc(t[X],dt),this.location=Td(this._tNode,t),this.instance=Gt(this._tNode.index,t)[it],this.hostView=this.changeDetectorRef=new Hr(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=ny(r,i[X],i,e,t);this.previousInputValues.set(e,t);let s=Gt(r.index,i);iy(s,1)}get injector(){return new Hi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function O1(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Zi=(()=>{class n{static __NG_ELEMENT_ID__=F1}return n})();function F1(){let n=ht();return V1(n,fe())}var L1=Zi,kb=class extends L1{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Td(this._hostTNode,this._hostLView)}get injector(){return new Hi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Om(this._hostTNode,this._hostLView);if(IC(e)){let t=ld(e,this._hostLView),r=ud(e),i=t[X].data[r+8];return new Hi(i,t)}else return new Hi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=aC(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-_t}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=XT(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,bm(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let u=e&&!nk(e),l;if(u)l=t;else{let R=t||{};l=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,a=R.bindings}let h=u?e:new Gi(ir(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let F=(u?p:this.parentInjector).get(ke,null);F&&(o=F)}let m=ir(h.componentType??{}),y=XT(this._lContainer,m?.id??null),b=y?.firstChild??null,M=h.create(p,i,b,o,s,a);return this.insertImpl(M.hostView,l,bm(this._hostTNode,y)),M}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(sT(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[rt],l=new kb(u,u[Ht],u[rt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return wb(s,i,o,r),e.attachToViewContainerRef(),Pg(lm(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=aC(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=yd(this._lContainer,t);r&&(za(lm(this._lContainer),t),Zm(r[X],r))}detach(e){let t=this._adjustIndex(e,-1),r=yd(this._lContainer,t);return r&&za(lm(this._lContainer),t)!=null?new Hr(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function aC(n){return n[Ja]}function lm(n){return n[Ja]||(n[Ja]=[])}function V1(n,e){let t,r=e[n.index];return rn(r)?t=r:(t=Ib(r,e,null,n),e[n.index]=t,zm(e,t)),U1(t,e,n,r),new kb(t,n,e)}function j1(n,e){let t=n[Ne],r=t.createComment(""),i=on(e,n),o=t.parentNode(i);return pd(t,o,r,t.nextSibling(i),!1),r}var U1=H1,B1=()=>!1;function $1(n,e,t){return B1(n,e,t)}function H1(n,e,t,r){if(n[jr])return;let i;t.type&8?i=zt(r):i=j1(e,t),n[jr]=i}var Wi=class{},Od=class{};var Ed=class extends Wi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new vd(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Og(e);this._bootstrapComponents=QC(o.bootstrap),this._r3Injector=tm(e,t,[{provide:Wi,useValue:this},{provide:gc,useValue:this.componentFactoryResolver},...r],rr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Id=class extends Od{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Ed(this.moduleType,e,[])}};var lc=class extends Wi{injector;componentFactoryResolver=new vd(this);instance=null;constructor(e){super();let t=new ki([...e.providers,{provide:Wi,useValue:this},{provide:gc,useValue:this.componentFactoryResolver}],e.parent||Wa(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ps(n,e,t=null){return new lc({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var q1=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Lg(!1,t.type),i=r.length>0?ps([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=U({token:n,providedIn:"environment",factory:()=>new n(z(ke))})}return n})();function ay(n){return hs(()=>{let e=Ob(n),t=te(x({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Fm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(q1).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||or.Emulated,styles:n.styles||Pt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Rn("NgStandalone"),Fb(t);let r=n.dependencies;return t.directiveDefs=cC(r,z1),t.pipeDefs=cC(r,ZD),t.id=K1(t),t})}function z1(n){return ir(n)||Fg(n)}function Nn(n){return hs(()=>({type:n.type,bootstrap:n.bootstrap||Pt,declarations:n.declarations||Pt,imports:n.imports||Pt,exports:n.exports||Pt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function G1(n,e){if(n==null)return Fr;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Rd.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function W1(n){if(n==null)return Fr;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Se(n){return hs(()=>{let e=Ob(n);return Fb(e),e})}function Ob(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Fr,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Pt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:G1(n.inputs,e),outputs:W1(n.outputs),debugInfo:null}}function Fb(n){n.features?.forEach(e=>e(n))}function cC(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function K1(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Q1(n){return Object.getPrototypeOf(n.prototype).constructor}function St(n){let e=Q1(n.type),t=!0,r=[n];for(;e;){let i;if(In(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new V(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=dm(n.inputs),s.declaredInputs=dm(n.declaredInputs),s.outputs=dm(n.outputs);let a=i.hostBindings;a&&eF(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&J1(n,u),l&&X1(n,l),Y1(n,i),HD(n.outputs,i.outputs),In(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===St&&(t=!1)}}e=Object.getPrototypeOf(e)}Z1(r)}function Y1(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function Z1(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ac(i.hostAttrs,t=ac(t,i.hostAttrs))}}function dm(n){return n===Fr?{}:n===Pt?[]:n}function J1(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function X1(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function eF(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function Lb(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=ac(n.mergedAttrs,n.attrs);let h=n.tView=Hm(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),is(n,!1);let u=nF(t,e,n,r);Jl()&&Jm(t,e,u,n),us(u,e);let l=Ib(u,e,u,n);e[r+dt]=l,zm(e,l),$1(l,n,e)}function tF(n,e,t,r,i,o,s,a,u,l,h){let p=t+dt,m;return e.firstCreatePass?(m=xd(e,p,4,s||null,a||null),Wg()&&bb(e,n,m,Br(e.consts,l),lb),vC(e,m)):m=e.data[p],Lb(m,n,e,t,r,i,o,u),ec(m)&&ey(e,n,m),l!=null&&ty(n,m,h),m}function Vb(n,e,t,r,i,o,s,a,u,l,h){let p=t+dt,m;if(e.firstCreatePass){if(m=xd(e,p,4,s||null,a||null),l!=null){let y=Br(e.consts,l);m.localNames=[];for(let b=0;b<y.length;b+=2)m.localNames.push(y[b],-1)}}else m=e.data[p];return Lb(m,n,e,t,r,i,o,u),l!=null&&ty(n,m,h),m}function jb(n,e,t,r,i,o,s,a){let u=fe(),l=Et(),h=Br(l.consts,o);return tF(u,l,n,e,t,r,i,h,void 0,s,a),jb}var nF=rF;function rF(n,e,t,r){return Xl(!0),e[Ne].createComment("")}var cy=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var uy=new j("");function qr(n){return!!n&&typeof n.then=="function"}function ly(n){return!!n&&typeof n.subscribe=="function"}var dy=new j("");function Fd(n){return Bt([{provide:dy,multi:!0,useValue:n}])}var hy=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=N(dy,{optional:!0})??[];injector=N(be);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=je(this.injector,i);if(qr(o))t.push(o);else if(ly(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mc=new j("");function Ub(){$p(()=>{let n="";throw new V(600,n)})}function Bb(n){return n.isBoundToModule}var iF=10;var zr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=N(bt);afterRenderManager=N(Qm);zonelessEnabled=N(rc);rootEffectScheduler=N(om);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Le;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=N(Dn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ce(t=>!t))}constructor(){N(Yi,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=N(ke);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=be.NULL){return this._injector.get(pe).run(()=>{_e(10);let s=t instanceof kd;if(!this._injector.get(hy).done){let b="";throw new V(405,b)}let u;s?u=t:u=this._injector.get(gc).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=Bb(u)?void 0:this._injector.get(Wi),h=r||u.selector,p=u.create(i,[],h,l),m=p.location.nativeElement,y=p.injector.get(uy,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),sc(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),_e(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){_e(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Nd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new V(101,!1);let t=Z(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Z(t),this.afterTick.next(),_e(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(zi,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<iF;)_e(14),this.synchronizeOnce(),_e(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!nc(i))continue;let o=r&&!this.zonelessEnabled?0:1;yb(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>nc(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;sc(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(mc,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>sc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new V(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sc(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Gr(n,e,t,r){let i=fe(),o=os();if(fs(i,o,e)){let s=Et(),a=Zl();OO(a,i,n,e,t,r)}return Gr}var r7=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function oF(n,e,t,r,i,o,s,a){Rn("NgControlFlow");let u=fe(),l=Et(),h=Br(l.consts,o);return Vb(u,l,n,e,t,r,i,h,256,s,a),fy}function fy(n,e,t,r,i,o,s,a){Rn("NgControlFlow");let u=fe(),l=Et(),h=Br(l.consts,o);return Vb(u,l,n,e,t,r,i,h,512,s,a),fy}function sF(n,e){Rn("NgControlFlow");let t=fe(),r=os(),i=t[r]!==An?t[r]:-1,o=i!==-1?uC(t,dt+i):void 0,s=0;if(fs(t,r,n)){let a=Z(null);try{if(o!==void 0&&r1(o,s),n!==-1){let u=dt+n,l=uC(t,u),h=aF(t[X],u),p=h1(l,h,t),m=db(t,h,e,{dehydratedView:p});wb(l,m,s,bm(h,p))}}finally{Z(a)}}else if(o!==void 0){let a=n1(o,s);a!==void 0&&(a[it]=e)}}function uC(n,e){return n[e]}function aF(n,e){return tc(n,e)}function $b(n,e,t){let r=fe(),i=os();if(fs(r,i,e)){let o=Et(),s=Zl();ub(s,r,n,e,r[Ne],t)}return $b}function lC(n,e,t,r,i){ny(e,n,t,i?"class":"style",r)}function py(n,e,t,r){let i=fe(),o=i[X],s=n+dt,a=o.firstCreatePass?Ab(s,i,2,e,lb,Wg(),t,r):o.data[s];if(VO(a,i,n,e,cF),ec(a)){let u=i[X];ey(u,i,a),UC(u,a,i)}return r!=null&&ty(i,a),py}function gy(){let n=Et(),e=ht(),t=jO(e);return n.firstCreatePass&&Rb(n,t),gT(t)&&mT(),fT(),t.classesWithoutHost!=null&&ck(t)&&lC(n,t,fe(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&uk(t)&&lC(n,t,fe(),t.stylesWithoutHost,!1),gy}function Ld(n,e,t,r){return py(n,e,t,r),gy(),Ld}var cF=(n,e,t,r,i)=>(Xl(!0),HC(e[Ne],r,PT()));function uF(){return fe()}var yc="en-US";var lF=yc;function Hb(n){typeof n=="string"&&(lF=n.toLowerCase().replace(/_/g,"-"))}function cr(n,e,t){let r=fe(),i=Et(),o=ht();return qb(i,r,r[Ne],o,n,e,t),cr}function qb(n,e,t,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=um(r,e,o),C1(r,n,e,s,t,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],y=h[p+1];u??=um(r,e,o),oC(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=um(r,e,o),oC(r,e,p,i,i,u)}}function dF(n=1){return MT(n)}function id(n,e){return n<<17|e<<2}function Ki(n){return n>>17&32767}function hF(n){return(n&2)==2}function fF(n,e){return n&131071|e<<17}function Mm(n){return n|2}function ds(n){return(n&131068)>>2}function hm(n,e){return n&-131069|e<<2}function pF(n){return(n&1)===1}function Pm(n){return n|1}function gF(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ki(s),u=ds(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Xo(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let m=Ki(n[a+1]);n[r+1]=id(m,a),m!==0&&(n[m+1]=hm(n[m+1],r)),n[a+1]=fF(n[a+1],r)}else n[r+1]=id(a,0),a!==0&&(n[a+1]=hm(n[a+1],r)),a=r;else n[r+1]=id(u,0),a===0?a=r:n[u+1]=hm(n[u+1],r),u=r;l&&(n[r+1]=Mm(n[r+1])),dC(n,h,r,!0),dC(n,h,r,!1),mF(e,h,n,r,o),s=id(a,u),o?e.classBindings=s:e.styleBindings=s}function mF(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Xo(o,e)>=0&&(t[r+1]=Pm(t[r+1]))}function dC(n,e,t,r){let i=n[t+1],o=e===null,s=r?Ki(i):ds(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];yF(u,e)&&(a=!0,n[s+1]=r?Pm(l):Mm(l)),s=r?Ki(l):ds(l)}a&&(n[t+1]=r?Mm(i):Pm(i))}function yF(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Xo(n,e)>=0:!1}function vc(n,e){return vF(n,e,null,!0),vc}function vF(n,e,t,r){let i=fe(),o=Et(),s=DT(2);if(o.firstUpdatePass&&EF(o,n,s,r),e!==An&&fs(i,s,e)){let a=o.data[$i()];CF(o,a,i,i[Ne],n,i[s+1]=bF(e,t),r,s)}}function _F(n,e){return e>=n.expandoStartIndex}function EF(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[$i()],s=_F(n,t);SF(o,r)&&e===null&&!s&&(e=!1),e=IF(i,o,e,r),gF(i,o,e,t,s,r)}}function IF(n,e,t,r){let i=ST(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=fm(null,n,e,t,r),t=dc(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=fm(i,n,e,t,r),o===null){let u=wF(n,e,r);u!==void 0&&Array.isArray(u)&&(u=fm(null,n,e,u[1],r),u=dc(u,e.attrs,r),DF(n,e,r,u))}else o=TF(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function wF(n,e,t){let r=t?e.classBindings:e.styleBindings;if(ds(r)!==0)return n[Ki(r)]}function DF(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Ki(i)]=r}function TF(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=dc(r,s,t)}return dc(r,e.attrs,t)}function fm(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=dc(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function dc(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),YD(n,s,t?!0:e[++o]))}return n===void 0?null:n}function CF(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=pF(l)?hC(u,e,t,i,ds(l),s):void 0;if(!wd(h)){wd(o)||hF(l)&&(o=hC(u,null,t,i,a,s));let p=Hg($i(),t);CO(r,s,p,i,o)}}function hC(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=t[i+1];m===An&&(m=p?Pt:void 0);let y=p?ql(m,r):h===r?m:void 0;if(l&&!wd(y)&&(y=ql(u,r)),wd(y)&&(a=y,s))return a;let b=n[i+1];i=s?Ki(b):ds(b)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=ql(u,r))}return a}function wd(n){return n!==void 0}function bF(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=rr(fc(n)))),n}function SF(n,e){return(n.flags&(e?8:16))!==0}function AF(n,e=""){let t=fe(),r=Et(),i=n+dt,o=r.firstCreatePass?xd(r,i,1,e,null):r.data[i],s=RF(r,t,o,e,n);t[i]=s,Jl()&&Jm(r,t,s,o),is(o,!1)}var RF=(n,e,t,r,i)=>(Xl(!0),kk(e[Ne],r));function NF(n,e,t,r=""){return fs(n,os(),t)?e+qa(t)+r:An}function zb(n){return my("",n),zb}function my(n,e,t){let r=fe(),i=NF(r,n,e,t);return i!==An&&MF(r,$i(),i),my}function MF(n,e,t){let r=Hg(e,n);Ok(n[Ne],r,t)}function Gb(n,e,t){rm(e)&&(e=e());let r=fe(),i=os();if(fs(r,i,e)){let o=Et(),s=Zl();ub(s,r,n,e,r[Ne],t)}return Gb}function PF(n,e){let t=rm(n);return t&&n.set(e),t}function Wb(n,e){let t=fe(),r=Et(),i=ht();return qb(r,t,t[Ne],i,n,e),Wb}function xF(n,e,t){let r=Et();if(r.firstCreatePass){let i=In(n);xm(t,r.data,r.blueprint,i,!0),xm(e,r.data,r.blueprint,i,!1)}}function xm(n,e,t,r,i){if(n=nt(n),Array.isArray(n))for(let o=0;o<n.length;o++)xm(n[o],e,t,r,i);else{let o=Et(),s=fe(),a=ht(),u=xi(n)?n:nt(n.provide),l=jg(n),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(xi(n)||!n.multi){let y=new qi(l,i,oe,null),b=gm(u,e,i?h:h+m,p);b===-1?(ym(dd(a,s),o,u),pm(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[b]=y,s[b]=y)}else{let y=gm(u,e,h+m,p),b=gm(u,e,h,h+m),M=y>=0&&t[y],R=b>=0&&t[b];if(i&&!R||!i&&!M){ym(dd(a,s),o,u);let F=FF(i?OF:kF,t.length,i,r,l,n);!i&&R&&(t[b].providerFactory=F),pm(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(F),s.push(F)}else{let F=Kb(t[i?b:y],l,!i&&r);pm(o,n,y>-1?y:b,F)}!i&&r&&R&&t[b].componentProviders++}}}function pm(n,e,t,r){let i=xi(e),o=tT(e);if(i||o){let u=(o?nt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function Kb(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function gm(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function kF(n,e,t,r,i){return km(this.multi,[])}function OF(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=hd(r,r[X],this.providerFactory.index,i);s=u.slice(0,a),km(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],km(o,s);return s}function km(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function FF(n,e,t,r,i,o){let s=new qi(n,t,oe,null);return s.multi=[],s.index=e,s.componentProviders=0,Kb(s,i,r&&!t),s}function Mn(n,e=[]){return t=>{t.providersResolver=(r,i)=>xF(r,i?i(n):n,e)}}function LF(n,e,t){let r=IT()+n,i=fe();return i[r]===An?D1(i,r,t?e.call(t):e()):T1(i,r)}var Dd=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},yy=(()=>{class n{compileModuleSync(t){return new Id(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Og(t),o=QC(i.declarations).reduce((s,a)=>{let u=ir(a);return u&&s.push(new Gi(u)),s},[]);return new Dd(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var VF=(()=>{class n{zone=N(pe);changeDetectionScheduler=N(vn);applicationRef=N(zr);applicationErrorHandler=N(bt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Qb({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new pe(te(x({},Yb()),{scheduleInRootZone:t})),[{provide:pe,useFactory:n},{provide:Lr,multi:!0,useFactory:()=>{let r=N(VF,{optional:!0});return()=>r.initialize()}},{provide:Lr,multi:!0,useFactory:()=>{let r=N(jF);return()=>{r.initialize()}}},e===!0?{provide:im,useValue:!0}:[],{provide:td,useValue:t??eb},{provide:bt,useFactory:()=>{let r=N(pe),i=N(ke),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(en),o.handleError(s))})}}}]}function Yb(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var jF=(()=>{class n{subscription=new Re;initialized=!1;zone=N(pe);pendingTasks=N(Dn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{pe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{pe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var vy=(()=>{class n{applicationErrorHandler=N(bt);appRef=N(zr);taskService=N(Dn);ngZone=N(pe);zonelessEnabled=N(rc);tracing=N(Yi,{optional:!0});disableScheduling=N(im,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Re;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(gd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(td,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof cc||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?WT:tb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(gd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,WT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function UF(){return Rn("NgZoneless"),Bt([{provide:vn,useExisting:vy},{provide:pe,useClass:cc},{provide:rc,useValue:!0},{provide:td,useValue:!1},[]])}function BF(){return typeof $localize<"u"&&$localize.locale||yc}var Vd=new j("",{providedIn:"root",factory:()=>N(Vd,{optional:!0,skipSelf:!0})||BF()});function Qe(n){return UD(n)}function gs(n,e){return dl(n,e?.equal)}var Zb=class{[lt];constructor(e){this[lt]=e}destroy(){this[lt].destroy()}};var nS=Symbol("InputSignalNode#UNSET"),oL=te(x({},hl),{transformFn:void 0,applyValueToInputSignal(n,e){Lo(n,e)}});function rS(n,e){let t=Object.create(oL);t.value=n,t.transformFn=e?.transform;function r(){if(ko(t),t.value===nS){let i=null;throw new V(-950,i)}return t.value}return r[lt]=t,r}var Ud=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>hc(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},sL=new j("");sL.__NG_ELEMENT_ID__=n=>{let e=ht();if(e===null)throw new V(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new V(204,!1)};function Jb(n,e){return rS(n,e)}function aL(n){return rS(nS,n)}var iS=(Jb.required=aL,Jb);var _y=new j(""),cL=new j("");function _c(n){return!n.moduleRef}function uL(n){let e=_c(n)?n.r3Injector:n.moduleRef.injector,t=e.get(pe);return t.run(()=>{_c(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(bt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),_c(n)){let o=()=>e.destroy(),s=n.platformInjector.get(_y);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(_y);s.add(o),n.moduleRef.onDestroy(()=>{sc(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return dL(r,t,()=>{let o=e.get(Dn),s=o.add(),a=e.get(hy);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(Vd,yc);if(Hb(u||yc),!e.get(cL,!0))return _c(n)?e.get(zr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(_c(n)){let h=e.get(zr);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return lL?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var lL;function dL(n,e,t){try{let r=t();return qr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var jd=null;function hL(n=[],e){return be.create({name:e,providers:[{provide:Ga,useValue:"platform"},{provide:_y,useValue:new Set([()=>jd=null])},...n]})}function fL(n=[]){if(jd)return jd;let e=hL(n);return jd=e,Ub(),pL(e),e}function pL(n){let e=n.get(bd,null);je(n,()=>{e?.forEach(t=>t())})}function Ty(){return!1}var Ji=(()=>{class n{static __NG_ELEMENT_ID__=gL}return n})();function gL(n){return mL(ht(),fe(),(n&16)===16)}function mL(n,e,t){if(Ur(n)&&!t){let r=Gt(n.index,e);return new Hr(r,r)}else if(n.type&175){let r=e[qt];return new Hr(r,e)}return null}var Ey=class{constructor(){}supports(e){return sy(e)}create(e){return new Iy(e)}},yL=(n,e)=>e,Iy=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||yL}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<Xb(r,i,o)?t:r,a=Xb(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,b=y+m;h<=b&&b<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!sy(e))throw new V(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,Nb(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new wy(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Bd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Bd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},wy=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Dy=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Bd=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Dy,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Xb(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function eS(){return new Cy([new Ey])}var Cy=(()=>{class n{factories;static \u0275prov=U({token:n,providedIn:"root",factory:eS});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=N(n,{optional:!0,skipSelf:!0});return n.create(t,r||eS())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new V(901,!1)}}return n})();function oS(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;_e(8);try{let o=i?.injector??fL(r),s=[Qb({}),{provide:vn,useExisting:vy},kT,...t||[]],a=new lc({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return uL({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{_e(9)}}function Wr(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function sS(n){let e=ir(n);if(!e)return null;let t=new Gi(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var uS=null;function Kt(){return uS}function by(n){uS??=n}var Ec=class{},Ic=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>N(lS),providedIn:"platform"})}return n})(),Sy=new j(""),lS=(()=>{class n extends Ic{_location;_history;_doc=N(Ue);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Kt().getBaseHref(this._doc)}onPopState(t){let r=Kt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Kt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function $d(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function aS(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function an(n){return n&&n[0]!=="?"?`?${n}`:n}var cn=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>N(qd),providedIn:"root"})}return n})(),Hd=new j(""),qd=(()=>{class n extends cn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??N(Ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return $d(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+an(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+an(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+an(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(z(Ic),z(Hd,8))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Kr=(()=>{class n{_subject=new Le;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=EL(aS(cS(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+an(r))}normalize(t){return n.stripTrailingSlash(_L(this._basePath,cS(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+an(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+an(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=an;static joinWithSlash=$d;static stripTrailingSlash=aS;static \u0275fac=function(r){return new(r||n)(z(cn))};static \u0275prov=U({token:n,factory:()=>vL(),providedIn:"root"})}return n})();function vL(){return new Kr(z(cn))}function _L(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function cS(n){return n.replace(/\/index.html$/,"")}function EL(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Ay=(()=>{class n extends cn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=$d(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+an(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+an(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(z(Ic),z(Hd,8))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();var zd=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},fS=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new zd(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),dS(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);dS(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(oe(Zi),oe(pc),oe(Cy))};static \u0275dir=Se({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function dS(n,e){n.context.$implicit=e.item}var IL=(()=>{class n{_viewContainer;_context=new Gd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){hS(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){hS(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(oe(Zi),oe(pc))};static \u0275dir=Se({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Gd=class{$implicit=null;ngIf=null};function hS(n,e){if(n&&!n.createEmbeddedView)throw new V(2020,!1)}var pS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Nn({type:n});static \u0275inj=tn({})}return n})();function Ry(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var wc=class{};var gS="browser";var mS=(()=>{class n{static \u0275prov=U({token:n,providedIn:"root",factory:()=>new Ny(N(Ue),window)})}return n})(),Ny=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(te(x({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=wL(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(Or(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(te(x({},t),{left:i-s[0],top:o-s[1]}))}};function wL(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Dc=class{_doc;constructor(e){this._doc=e}manager},Wd=(()=>{class n extends Dc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(z(Ue))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),Qd=new j(""),Oy=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof Wd));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof Wd);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new V(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(z(Qd),z(pe))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),My="ng-app-id";function yS(n){for(let e of n)e.remove()}function vS(n,e){let t=e.createElement("style");return t.textContent=n,t}function TL(n,e,t,r){let i=n.head?.querySelectorAll(`style[${My}="${e}"],link[${My}="${e}"]`);if(i)for(let o of i)o.removeAttribute(My),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function xy(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Fy=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,TL(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,vS);r?.forEach(i=>this.addUsage(i,this.external,xy))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(yS(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])yS(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,vS(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,xy(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(z(Ue),z(Cd),z(Sd,8),z(Qi))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),Py={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ly=/%COMP%/g;var ES="%COMP%",CL=`_nghost-${ES}`,bL=`_ngcontent-${ES}`,SL=!0,AL=new j("",{providedIn:"root",factory:()=>SL});function RL(n){return bL.replace(Ly,n)}function NL(n){return CL.replace(Ly,n)}function IS(n,e){return e.map(t=>t.replace(Ly,n))}var Vy=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u=null,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=u,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new Tc(t,s,a,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Kd?i.applyToHost(t):i instanceof Cc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case or.Emulated:o=new Kd(u,l,r,this.appId,h,s,a,p,m);break;case or.ShadowDom:return new ky(u,l,t,r,s,a,this.nonce,p,m);default:o=new Cc(u,l,r,h,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(z(Oy),z(Fy),z(Cd),z(AL),z(Ue),z(pe),z(Sd),z(Yi,8))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),Tc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Py[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(_S(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(_S(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new V(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Py[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Py[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Cn.DashCase|Cn.Important)?e.style.setProperty(t,r,i&Cn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Cn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Kt().getGlobalEventTarget(this.doc,e),!e))throw new V(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function _S(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var ky=class extends Tc{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=IS(i.id,h);for(let m of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=xy(m,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Cc=class extends Tc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?IS(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&ls.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Kd=class extends Cc{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=RL(h),this.hostAttr=NL(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Yd=class n extends Ec{supportsDOMEvents=!0;static makeCurrent(){by(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=ML();return t==null?null:PL(t)}resetBaseElement(){bc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ry(document.cookie,e)}},bc=null;function ML(){return bc=bc||document.head.querySelector("base"),bc?bc.getAttribute("href"):null}function PL(n){return new URL(n,document.baseURI).pathname}var xL=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),wS=["alt","control","meta","shift"],kL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},OL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},DS=(()=>{class n extends Dc{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Kt().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),wS.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=kL[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),wS.forEach(s=>{if(s!==i){let a=OL[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(z(Ue))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();function FL(n,e,t){let r=x({rootComponent:n,platformRef:t?.platformRef},LL(e));return oS(r)}function LL(n){return{appProviders:[...$L,...n?.providers??[]],platformProviders:BL}}function VL(){Yd.makeCurrent()}function jL(){return new en}function UL(){return Lm(document),document}var BL=[{provide:Qi,useValue:gS},{provide:bd,useValue:VL,multi:!0},{provide:Ue,useFactory:UL}];var $L=[{provide:Ga,useValue:"root"},{provide:en,useFactory:jL},{provide:Qd,useClass:Wd,multi:!0,deps:[Ue]},{provide:Qd,useClass:DS,multi:!0,deps:[Ue]},Vy,Fy,Oy,{provide:zi,useExisting:Vy},{provide:wc,useClass:xL},[]];var TS=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(z(Ue))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Q="primary",jc=Symbol("RouteTitle"),Hy=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function to(n){return new Hy(n)}function PS(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function qL(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Pn(n[t],e[t]))return!1;return!0}function Pn(n,e){let t=n?qy(n):void 0,r=e?qy(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!xS(n[i],e[i]))return!1;return!0}function qy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function xS(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function kS(n){return n.length>0?n[n.length-1]:null}function lr(n){return ig(n)?n:qr(n)?De(Promise.resolve(n)):H(n)}var zL={exact:FS,subset:LS},OS={exact:GL,subset:WL,ignored:()=>!0};function CS(n,e,t){return zL[t.paths](n.root,e.root,t.matrixParams)&&OS[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function GL(n,e){return Pn(n,e)}function FS(n,e,t){if(!Xi(n.segments,e.segments)||!Xd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!FS(n.children[r],e.children[r],t))return!1;return!0}function WL(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>xS(n[t],e[t]))}function LS(n,e,t){return VS(n,e,e.segments,t)}function VS(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Xi(i,t)||e.hasChildren()||!Xd(i,t,r))}else if(n.segments.length===t.length){if(!Xi(n.segments,t)||!Xd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!LS(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Xi(n.segments,i)||!Xd(n.segments,i,r)||!n.children[Q]?!1:VS(n.children[Q],e,o,r)}}function Xd(n,e,t){return e.every((r,i)=>OS[t](n[i].parameters,r.parameters))}var kn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ge([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=to(this.queryParams),this._queryParamMap}toString(){return YL.serialize(this)}},ge=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return eh(this)}},Qr=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=to(this.parameters),this._parameterMap}toString(){return US(this)}};function KL(n,e){return Xi(n,e)&&n.every((t,r)=>Pn(t.parameters,e[r].parameters))}function Xi(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function QL(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Q&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Q&&(t=t.concat(e(i,r)))}),t}var no=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>new Yr,providedIn:"root"})}return n})(),Yr=class{parse(e){let t=new Gy(e);return new kn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Sc(e.root,!0)}`,r=XL(e.queryParams),i=typeof e.fragment=="string"?`#${ZL(e.fragment)}`:"";return`${t}${r}${i}`}},YL=new Yr;function eh(n){return n.segments.map(e=>US(e)).join("/")}function Sc(n,e){if(!n.hasChildren())return eh(n);if(e){let t=n.children[Q]?Sc(n.children[Q],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Q&&r.push(`${i}:${Sc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=QL(n,(r,i)=>i===Q?[Sc(n.children[Q],!1)]:[`${i}:${Sc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Q]!=null?`${eh(n)}/${t[0]}`:`${eh(n)}/(${t.join("//")})`}}function jS(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zd(n){return jS(n).replace(/%3B/gi,";")}function ZL(n){return encodeURI(n)}function zy(n){return jS(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function th(n){return decodeURIComponent(n)}function bS(n){return th(n.replace(/\+/g,"%20"))}function US(n){return`${zy(n.path)}${JL(n.parameters)}`}function JL(n){return Object.entries(n).map(([e,t])=>`;${zy(e)}=${zy(t)}`).join("")}function XL(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Zd(t)}=${Zd(i)}`).join("&"):`${Zd(t)}=${Zd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var eV=/^[^\/()?;#]+/;function jy(n){let e=n.match(eV);return e?e[0]:""}var tV=/^[^\/()?;=#]+/;function nV(n){let e=n.match(tV);return e?e[0]:""}var rV=/^[^=?&#]+/;function iV(n){let e=n.match(rV);return e?e[0]:""}var oV=/^[^&#]+/;function sV(n){let e=n.match(oV);return e?e[0]:""}var Gy=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Q]=new ge(e,t)),r}parseSegment(){let e=jy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(e),new Qr(th(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=nV(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=jy(this.remaining);i&&(r=i,this.capture(r))}e[th(t)]=th(r)}parseQueryParam(e){let t=iV(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=sV(this.remaining);s&&(r=s,this.capture(r))}let i=bS(t),o=bS(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=jy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new V(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Q);let s=this.parseChildren();t[o??Q]=Object.keys(s).length===1&&s[Q]?s[Q]:new ge([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new V(4011,!1)}};function BS(n){return n.segments.length>0?new ge([],{[Q]:n}):n}function $S(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=$S(i);if(r===Q&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new ge(n.segments,e);return aV(t)}function aV(n){if(n.numberOfChildren===1&&n.children[Q]){let e=n.children[Q];return new ge(n.segments.concat(e.segments),e.children)}return n}function Zr(n){return n instanceof kn}function HS(n,e,t=null,r=null){let i=qS(n);return zS(i,e,t,r)}function qS(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new ge(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=BS(r);return e??i}function zS(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Uy(i,i,i,t,r);let o=cV(e);if(o.toRoot())return Uy(i,i,new ge([],{}),t,r);let s=uV(o,i,n),a=s.processChildren?Rc(s.segmentGroup,s.index,o.commands):WS(s.segmentGroup,s.index,o.commands);return Uy(i,s.segmentGroup,a,t,r)}function nh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Mc(n){return typeof n=="object"&&n!=null&&n.outlets}function Uy(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=GS(n,e,t);let a=BS($S(s));return new kn(a,o,i)}function GS(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=GS(o,e,t)}),new ge(n.segments,r)}var rh=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&nh(r[0]))throw new V(4003,!1);let i=r.find(Mc);if(i&&i!==kS(r))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function cV(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new rh(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new rh(t,e,r)}var vs=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function uV(n,e,t){if(n.isAbsolute)return new vs(e,!0,0);if(!t)return new vs(e,!1,NaN);if(t.parent===null)return new vs(t,!0,0);let r=nh(n.commands[0])?0:1,i=t.segments.length-1+r;return lV(t,i,n.numberOfDoubleDots)}function lV(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new V(4005,!1);i=r.segments.length}return new vs(r,!1,i-o)}function dV(n){return Mc(n[0])?n[0].outlets:{[Q]:n}}function WS(n,e,t){if(n??=new ge([],{}),n.segments.length===0&&n.hasChildren())return Rc(n,e,t);let r=hV(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new ge(n.segments.slice(0,r.pathIndex),{});return o.children[Q]=new ge(n.segments.slice(r.pathIndex),n.children),Rc(o,0,i)}else return r.match&&i.length===0?new ge(n.segments,{}):r.match&&!n.hasChildren()?Wy(n,e,t):r.match?Rc(n,0,i):Wy(n,e,t)}function Rc(n,e,t){if(t.length===0)return new ge(n.segments,{});{let r=dV(t),i={};if(Object.keys(r).some(o=>o!==Q)&&n.children[Q]&&n.numberOfChildren===1&&n.children[Q].segments.length===0){let o=Rc(n.children[Q],e,t);return new ge(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=WS(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ge(n.segments,i)}}function hV(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Mc(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!AS(u,l,s))return o;r+=2}else{if(!AS(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Wy(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Mc(o)){let u=fV(o.outlets);return new ge(r,u)}if(i===0&&nh(t[0])){let u=n.segments[e];r.push(new Qr(u.path,SS(t[0]))),i++;continue}let s=Mc(o)?o.outlets[Q]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&nh(a)?(r.push(new Qr(s,SS(a))),i+=2):(r.push(new Qr(s,{})),i++)}return new ge(r,{})}function fV(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Wy(new ge([],{}),0,r))}),e}function SS(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function AS(n,e,t){return n==t.path&&Pn(e,t.parameters)}var _s="imperative",We=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(We||{}),Lt=class{id;url;constructor(e,t){this.id=e,this.url=t}},Jr=class extends Lt{type=We.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Qt=class extends Lt{urlAfterRedirects;type=We.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},It=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(It||{}),Is=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Is||{}),xn=class extends Lt{reason;code;type=We.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},On=class extends Lt{reason;code;type=We.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},ws=class extends Lt{error;target;type=We.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Pc=class extends Lt{urlAfterRedirects;state;type=We.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ih=class extends Lt{urlAfterRedirects;state;type=We.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},oh=class extends Lt{urlAfterRedirects;state;shouldActivate;type=We.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},sh=class extends Lt{urlAfterRedirects;state;type=We.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ah=class extends Lt{urlAfterRedirects;state;type=We.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ch=class{route;type=We.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},uh=class{route;type=We.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},lh=class{snapshot;type=We.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dh=class{snapshot;type=We.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hh=class{snapshot;type=We.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fh=class{snapshot;type=We.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ds=class{routerEvent;position;anchor;type=We.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},xc=class{},Ts=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function pV(n){return!(n instanceof xc)&&!(n instanceof Ts)}function gV(n,e){return n.providers&&!n._injector&&(n._injector=ps(n.providers,e,`Route: ${n.path}`)),n._injector??e}function un(n){return n.outlet||Q}function mV(n,e){let t=n.filter(r=>un(r)===e);return t.push(...n.filter(r=>un(r)!==e)),t}function Ss(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var ph=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ss(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new ro(this.rootInjector)}},ro=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new ph(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(z(ke))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Ky(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Ky(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Qy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Qy(e,this._root).map(t=>t.value)}};function Ky(n,e){if(n===e.value)return e;for(let t of e.children){let r=Ky(n,t);if(r)return r}return null}function Qy(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Qy(n,t);if(r.length)return r.unshift(e),r}return[]}var Ft=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ys(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var kc=class extends gh{snapshot;constructor(e,t){super(e),this.snapshot=t,rv(this,e)}toString(){return this.snapshot.toString()}};function KS(n){let e=yV(n),t=new tt([new Qr("",{})]),r=new tt({}),i=new tt({}),o=new tt({}),s=new tt(""),a=new Fn(t,r,o,s,i,Q,n,e.root);return a.snapshot=e.root,new kc(new Ft(a,[]),e)}function yV(n){let e={},t={},r={},o=new eo([],e,r,"",t,Q,n,null,{});return new Oc("",new Ft(o,[]))}var Fn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ce(l=>l[jc]))??H(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ce(e=>to(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ce(e=>to(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function mh(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:x(x({},e.params),n.params),data:x(x({},e.data),n.data),resolve:x(x(x(x({},n.data),e.data),i?.data),n._resolvedData)}:r={params:x({},n.params),data:x({},n.data),resolve:x(x({},n.data),n._resolvedData??{})},i&&YS(i)&&(r.resolve[jc]=i.title),r}var eo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[jc]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=to(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=to(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Oc=class extends gh{url;constructor(e,t){super(t),this.url=e,rv(this,t)}toString(){return QS(this._root)}};function rv(n,e){e.value._routerState=n,e.children.forEach(t=>rv(n,t))}function QS(n){let e=n.children.length>0?` { ${n.children.map(QS).join(", ")} } `:"";return`${n.value}${e}`}function By(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Pn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Pn(e.params,t.params)||n.paramsSubject.next(t.params),qL(e.url,t.url)||n.urlSubject.next(t.url),Pn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Yy(n,e){let t=Pn(n.params,e.params)&&KL(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Yy(n.parent,e.parent))}function YS(n){return typeof n.title=="string"||n.title===null}var ZS=new j(""),iv=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Q;activateEvents=new Be;deactivateEvents=new Be;attachEvents=new Be;detachEvents=new Be;routerOutletData=iS();parentContexts=N(ro);location=N(Zi);changeDetector=N(Ji);inputBinder=N(Uc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Zy(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Se({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[sr]})}return n})(),Zy=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Fn?this.route:e===ro?this.childContexts:e===ZS?this.outletData:this.parent.get(e,t)}},Uc=new j(""),ov=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Fa([r.queryParams,r.params,r.data]).pipe(vt(([o,s,a],u)=>(a=x(x(x({},o),s),a),u===0?H(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=sS(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),sv=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ay({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Ld(0,"router-outlet")},dependencies:[iv],encapsulation:2})}return n})();function av(n){let e=n.children&&n.children.map(av),t=e?te(x({},n),{children:e}):x({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Q&&(t.component=sv),t}function vV(n,e,t){let r=Fc(n,e._root,t?t._root:void 0);return new kc(r,e)}function Fc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=_V(n,e,t);return new Ft(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Fc(n,a)),s}}let r=EV(e.value),i=e.children.map(o=>Fc(n,o));return new Ft(r,i)}}function _V(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Fc(n,r,i);return Fc(n,r)})}function EV(n){return new Fn(new tt(n.url),new tt(n.params),new tt(n.queryParams),new tt(n.fragment),new tt(n.data),n.outlet,n.component,n)}var Cs=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},JS="ngNavigationCancelingError";function yh(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Zr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=XS(!1,It.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function XS(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[JS]=!0,t.cancellationCode=e,t}function IV(n){return eA(n)&&Zr(n.url)}function eA(n){return!!n&&n[JS]}var wV=(n,e,t,r)=>ce(i=>(new Jy(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Jy=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),By(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ys(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ys(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ys(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ys(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new fh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new dh(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(By(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),By(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},vh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Es=class{component;route;constructor(e,t){this.component=e,this.route=t}};function DV(n,e,t){let r=n._root,i=e?e._root:null;return Ac(r,i,t,[r.value])}function TV(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function As(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Tg(n)?n:e.get(n):r}function Ac(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ys(e);return n.children.forEach(s=>{CV(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Nc(a,t.getContext(s),i)),i}function CV(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=bV(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new vh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ac(n,e,a?a.children:null,r,i):Ac(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Es(a.outlet.component,s))}else s&&Nc(e,a,i),i.canActivateChecks.push(new vh(r)),o.component?Ac(n,null,a?a.children:null,r,i):Ac(n,null,t,r,i);return i}function bV(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Xi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Xi(n.url,e.url)||!Pn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yy(n,e)||!Pn(n.queryParams,e.queryParams);case"paramsChange":default:return!Yy(n,e)}}function Nc(n,e,t){let r=ys(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Nc(s,e.children.getContext(o),t):Nc(s,null,t):Nc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Es(e.outlet.component,i)):t.canDeactivateChecks.push(new Es(null,i)):t.canDeactivateChecks.push(new Es(null,i))}function Bc(n){return typeof n=="function"}function SV(n){return typeof n=="boolean"}function AV(n){return n&&Bc(n.canLoad)}function RV(n){return n&&Bc(n.canActivate)}function NV(n){return n&&Bc(n.canActivateChild)}function MV(n){return n&&Bc(n.canDeactivate)}function PV(n){return n&&Bc(n.canMatch)}function tA(n){return n instanceof Jn||n?.name==="EmptyError"}var Jd=Symbol("INITIAL_VALUE");function bs(){return vt(n=>Fa(n.map(e=>e.pipe(er(1),cg(Jd)))).pipe(ce(e=>{for(let t of e)if(t!==!0){if(t===Jd)return Jd;if(t===!1||xV(t))return t}return!0}),Ct(e=>e!==Jd),er(1)))}function xV(n){return Zr(n)||n instanceof Cs}function kV(n,e){return xe(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?H(te(x({},t),{guardsResult:!0})):OV(s,r,i,n).pipe(xe(a=>a&&SV(a)?FV(r,o,n,e):H(a)),ce(a=>te(x({},t),{guardsResult:a})))})}function OV(n,e,t,r){return De(n).pipe(xe(i=>BV(i.component,i.route,t,e,r)),tr(i=>i!==!0,!0))}function FV(n,e,t,r){return De(e).pipe(Mr(i=>Yo(VV(i.route.parent,r),LV(i.route,r),UV(n,i.path,t),jV(n,i.route,t))),tr(i=>i!==!0,!0))}function LV(n,e){return n!==null&&e&&e(new hh(n)),H(!0)}function VV(n,e){return n!==null&&e&&e(new lh(n)),H(!0)}function jV(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return H(!0);let i=r.map(o=>La(()=>{let s=Ss(e)??t,a=As(o,s),u=RV(a)?a.canActivate(e,n):je(s,()=>a(e,n));return lr(u).pipe(tr())}));return H(i).pipe(bs())}function UV(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>TV(s)).filter(s=>s!==null).map(s=>La(()=>{let a=s.guards.map(u=>{let l=Ss(s.node)??t,h=As(u,l),p=NV(h)?h.canActivateChild(r,n):je(l,()=>h(r,n));return lr(p).pipe(tr())});return H(a).pipe(bs())}));return H(o).pipe(bs())}function BV(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return H(!0);let s=o.map(a=>{let u=Ss(e)??i,l=As(a,u),h=MV(l)?l.canDeactivate(n,e,t,r):je(u,()=>l(n,e,t,r));return lr(h).pipe(tr())});return H(s).pipe(bs())}function $V(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return H(!0);let o=i.map(s=>{let a=As(s,n),u=AV(a)?a.canLoad(e,t):je(n,()=>a(e,t));return lr(u)});return H(o).pipe(bs(),nA(r))}function nA(n){return Yp(Ke(e=>{if(typeof e!="boolean")throw yh(n,e)}),ce(e=>e===!0))}function HV(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return H(!0);let o=i.map(s=>{let a=As(s,n),u=PV(a)?a.canMatch(e,t):je(n,()=>a(e,t));return lr(u)});return H(o).pipe(bs(),nA(r))}var Lc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Vc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ms(n){return Ko(new Lc(n))}function qV(n){return Ko(new V(4e3,!1))}function zV(n){return Ko(XS(!1,It.GuardRejected))}var Xy=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return H(r);if(i.numberOfChildren>1||!i.children[Q])return qV(`${e.redirectTo}`);i=i.children[Q]}}applyRedirectCommands(e,t,r,i,o){return GV(t,i,o).pipe(ce(s=>{if(s instanceof kn)throw new Vc(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Vc(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new kn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new ge(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new V(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function GV(n,e,t){if(typeof n=="string")return H(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return lr(je(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var ev={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function WV(n,e,t,r,i){let o=rA(n,e,t);return o.matched?(r=gV(e,r),HV(r,e,t,i).pipe(ce(s=>s===!0?o:x({},ev)))):H(o)}function rA(n,e,t){if(e.path==="**")return KV(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?x({},ev):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||PS)(t,n,e);if(!i)return x({},ev);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?x(x({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function KV(n){return{matched:!0,parameters:n.length>0?kS(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function RS(n,e,t,r){return t.length>0&&ZV(n,t,r)?{segmentGroup:new ge(e,YV(r,new ge(t,n.children))),slicedSegments:[]}:t.length===0&&JV(n,t,r)?{segmentGroup:new ge(n.segments,QV(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ge(n.segments,n.children),slicedSegments:t}}function QV(n,e,t,r){let i={};for(let o of t)if(Eh(n,e,o)&&!r[un(o)]){let s=new ge([],{});i[un(o)]=s}return x(x({},r),i)}function YV(n,e){let t={};t[Q]=e;for(let r of n)if(r.path===""&&un(r)!==Q){let i=new ge([],{});t[un(r)]=i}return t}function ZV(n,e,t){return t.some(r=>Eh(n,e,r)&&un(r)!==Q)}function JV(n,e,t){return t.some(r=>Eh(n,e,r))}function Eh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function XV(n,e,t){return e.length===0&&!n.children[t]}var tv=class{};function ej(n,e,t,r,i,o,s="emptyOnly"){return new nv(n,e,t,r,i,s,o).recognize()}var tj=31,nv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Xy(this.urlSerializer,this.urlTree)}noMatchError(e){return new V(4002,`'${e.segmentGroup}'`)}recognize(){let e=RS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ce(({children:t,rootSnapshot:r})=>{let i=new Ft(r,t),o=new Oc("",i),s=HS(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new eo([],Object.freeze({}),Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Q,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Q,t).pipe(ce(r=>({children:r,rootSnapshot:t})),Xn(r=>{if(r instanceof Vc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Lc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ce(s=>s instanceof Ft?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return De(o).pipe(Mr(s=>{let a=r.children[s],u=mV(t,s);return this.processSegmentGroup(e,u,a,s,i)}),ag((s,a)=>(s.push(...a),s)),Pr(null),sg(),xe(s=>{if(s===null)return ms(r);let a=iA(s);return nj(a),H(a)}))}processSegment(e,t,r,i,o,s,a){return De(t).pipe(Mr(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(Xn(l=>{if(l instanceof Lc)return H(null);throw l}))),tr(u=>!!u),Xn(u=>{if(tA(u))return XV(r,i,o)?H(new tv):ms(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return un(r)!==s&&(s===Q||!Eh(i,o,r))?ms(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):ms(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=rA(t,i,o);if(!u)return ms(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>tj&&(this.allowRedirects=!1));let y=new eo(o,l,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,NS(i),un(i),i.component??i._loadedComponent??null,i,MS(i)),b=mh(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(b.params),y.data=Object.freeze(b.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(vt(R=>this.applyRedirects.lineralizeSegments(i,R)),xe(R=>this.processSegment(e,r,t,R.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=WV(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(vt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(vt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,b=new eo(m,p,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,NS(r),un(r),r.component??r._loadedComponent??null,r,MS(r)),M=mh(b,s,this.paramsInheritanceStrategy);b.params=Object.freeze(M.params),b.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:F}=RS(t,m,y,l);if(F.length===0&&R.hasChildren())return this.processChildren(h,l,R,b).pipe(ce(W=>new Ft(b,W)));if(l.length===0&&F.length===0)return H(new Ft(b,[]));let G=un(r)===o;return this.processSegment(h,l,R,F,G?Q:o,!0,b).pipe(ce(W=>new Ft(b,W instanceof Ft?[W]:[])))}))):ms(t)))}getChildConfig(e,t,r){return t.children?H({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?H({routes:t._loadedRoutes,injector:t._loadedInjector}):$V(e,t,r,this.urlSerializer).pipe(xe(i=>i?this.configLoader.loadChildren(e,t).pipe(Ke(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):zV(t))):H({routes:[],injector:e})}};function nj(n){n.sort((e,t)=>e.value.outlet===Q?-1:t.value.outlet===Q?1:e.value.outlet.localeCompare(t.value.outlet))}function rj(n){let e=n.value.routeConfig;return e&&e.path===""}function iA(n){let e=[],t=new Set;for(let r of n){if(!rj(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=iA(r.children);e.push(new Ft(r.value,i))}return e.filter(r=>!t.has(r))}function NS(n){return n.data||{}}function MS(n){return n.resolve||{}}function ij(n,e,t,r,i,o){return xe(s=>ej(n,e,t,r,s.extractedUrl,i,o).pipe(ce(({state:a,tree:u})=>te(x({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function oj(n,e){return xe(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return H(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of oA(u))s.add(l);let a=0;return De(s).pipe(Mr(u=>o.has(u)?sj(u,r,n,e):(u.data=mh(u,u.parent,n).resolve,H(void 0))),Ke(()=>a++),Zo(1),xe(u=>a===s.size?H(t):Dt))})}function oA(n){let e=n.children.map(t=>oA(t)).flat();return[n,...e]}function sj(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!YS(i)&&(o[jc]=i.title),La(()=>(n.data=mh(n,n.parent,t).resolve,aj(o,n,e,r).pipe(ce(s=>(n._resolvedData=s,n.data=x(x({},n.data),s),null)))))}function aj(n,e,t,r){let i=qy(n);if(i.length===0)return H({});let o={};return De(i).pipe(xe(s=>cj(n[s],e,t,r).pipe(tr(),Ke(a=>{if(a instanceof Cs)throw yh(new Yr,a);o[s]=a}))),Zo(1),ce(()=>o),Xn(s=>tA(s)?Dt:Ko(s)))}function cj(n,e,t,r){let i=Ss(e)??r,o=As(n,i),s=o.resolve?o.resolve(e,t):je(i,()=>o(e,t));return lr(s)}function $y(n){return vt(e=>{let t=n(e);return t?De(t).pipe(ce(()=>e)):H(e)})}var cv=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Q);return r}getResolvedTitleForRoute(t){return t.data[jc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>N(sA),providedIn:"root"})}return n})(),sA=(()=>{class n extends cv{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(z(TS))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xr=new j("",{providedIn:"root",factory:()=>({})}),io=new j(""),Ih=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=N(yy);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return H(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=lr(je(t,()=>r.loadComponent())).pipe(ce(cA),vt(uA),Ke(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Va(()=>{this.componentLoaders.delete(r)})),o=new qo(i,()=>new Le).pipe(Ho());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return H({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=aA(r,this.compiler,t,this.onLoadEndListener).pipe(Va(()=>{this.childrenLoaders.delete(r)})),s=new qo(o,()=>new Le).pipe(Ho());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function aA(n,e,t,r){return lr(je(t,()=>n.loadChildren())).pipe(ce(cA),vt(uA),xe(i=>i instanceof Od||Array.isArray(i)?H(i):De(e.compileModuleAsync(i))),ce(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(io,[],{optional:!0,self:!0}).flat()),{routes:s.map(av),injector:o}}))}function uj(n){return n&&typeof n=="object"&&"default"in n}function cA(n){return uj(n)?n.default:n}function uA(n){return H(n)}var wh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>N(lj),providedIn:"root"})}return n})(),lj=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uv=new j(""),lv=new j("");function lA(n,e,t){let r=n.get(lv),i=n.get(Ue);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),dj(n)));a.ready.catch(l=>{});let{onViewTransitionCreated:u}=r;return u&&je(n,()=>u({transition:a,from:e,to:t})),s}function dj(n){return new Promise(e=>{Md({read:()=>setTimeout(e)},{injector:n})})}var dv=new j(""),Dh=(()=>{class n{currentNavigation=Wt(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Le;transitionAbortWithErrorSubject=new Le;configLoader=N(Ih);environmentInjector=N(ke);destroyRef=N(wn);urlSerializer=N(no);rootContexts=N(ro);location=N(Kr);inputBindingEnabled=N(Uc,{optional:!0})!==null;titleStrategy=N(cv);options=N(Xr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=N(wh);createViewTransition=N(uv,{optional:!0});navigationErrorHandler=N(dv,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>H(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new ch(i)),r=i=>this.events.next(new uh(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;Qe(()=>{this.transitions?.next(te(x({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new tt(null),this.transitions.pipe(Ct(r=>r!==null),vt(r=>{let i=!1;return H(r).pipe(vt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",It.SupersededByNewNavigation),Dt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?te(x({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new On(o.id,this.urlSerializer.serialize(o.rawUrl),"",Is.IgnoredSameUrlNavigation)),o.resolve(!1),Dt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return H(o).pipe(vt(u=>(this.events.next(new Jr(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Dt:Promise.resolve(u))),ij(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ke(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let l=new Pc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:m}=o,y=new Jr(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let b=KS(this.rootComponentType).snapshot;return this.currentTransition=r=te(x({},o),{targetSnapshot:b,urlAfterRedirects:l,extras:te(x({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(M=>(M.finalUrl=l,M)),H(r)}else return this.events.next(new On(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Is.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Dt}),Ke(o=>{let s=new ih(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),ce(o=>(this.currentTransition=r=te(x({},o),{guards:DV(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),kV(this.environmentInjector,o=>this.events.next(o)),Ke(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw yh(this.urlSerializer,o.guardsResult);let s=new oh(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Ct(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",It.GuardRejected),!1)),$y(o=>{if(o.guards.canActivateChecks.length!==0)return H(o).pipe(Ke(s=>{let a=new sh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),vt(s=>{let a=!1;return H(s).pipe(oj(this.paramsInheritanceStrategy,this.environmentInjector),Ke({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",It.NoDataFromResolver)}}))}),Ke(s=>{let a=new ah(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),$y(o=>{let s=a=>{let u=[];if(a.routeConfig?.loadComponent){let l=Ss(a)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(Ke(h=>{a.component=h}),ce(()=>{})))}for(let l of a.children)u.push(...s(l));return u};return Fa(s(o.targetSnapshot.root)).pipe(Pr(null),er(1))}),$y(()=>this.afterPreactivation()),vt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?De(a).pipe(ce(()=>r)):H(r)}),ce(o=>{let s=vV(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=te(x({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),Ke(()=>{this.events.next(new xc)}),wV(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),er(1),Fl(new ne(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Ct(()=>!i&&!r.targetRouterState),Ke(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",It.Aborted)}))),Ke({next:o=>{i=!0,this.lastSuccessfulNavigation=Qe(this.currentNavigation),this.events.next(new Qt(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Fl(this.transitionAbortWithErrorSubject.pipe(Ke(o=>{throw o}))),Va(()=>{i||this.cancelNavigationTransition(r,"",It.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Xn(o=>{if(this.destroyed)return r.resolve(!1),Dt;if(i=!0,eA(o))this.events.next(new xn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),IV(o)?this.events.next(new Ts(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new ws(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=je(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Cs){let{message:u,cancellationCode:l}=yh(this.urlSerializer,a);this.events.next(new xn(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new Ts(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Dt}))}))}cancelNavigationTransition(t,r,i){let o=new xn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Qe(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hj(n){return n!==_s}var dA=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>N(fj),providedIn:"root"})}return n})(),_h=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},fj=(()=>{class n extends _h{static \u0275fac=(()=>{let t;return function(i){return(t||(t=bn(n)))(i||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hA=(()=>{class n{urlSerializer=N(no);options=N(Xr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=N(Kr);urlHandlingStrategy=N(wh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new kn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof kn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=KS(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>N(pj),providedIn:"root"})}return n})(),pj=(()=>{class n extends hA{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Jr?this.updateStateMemento():t instanceof On?this.commitTransition(r):t instanceof Pc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof xc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof xn&&t.code!==It.SupersededByNewNavigation&&t.code!==It.Redirect?this.restoreHistory(r):t instanceof ws?this.restoreHistory(r,!0):t instanceof Qt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=x(x({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=x(x({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=bn(n)))(i||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Th(n,e){n.events.pipe(Ct(t=>t instanceof Qt||t instanceof xn||t instanceof ws||t instanceof On),ce(t=>t instanceof Qt||t instanceof On?0:(t instanceof xn?t.code===It.Redirect||t.code===It.SupersededByNewNavigation:!1)?2:1),Ct(t=>t!==2),er(1)).subscribe(()=>{e()})}var gj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ln=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=N(cy);stateManager=N(hA);options=N(Xr,{optional:!0})||{};pendingTasks=N(Dn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=N(Dh);urlSerializer=N(no);location=N(Kr);urlHandlingStrategy=N(wh);injector=N(ke);_events=new Le;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=N(dA);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=N(io,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!N(Uc,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Re;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Qe(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof xn&&r.code!==It.Redirect&&r.code!==It.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Qt)this.navigated=!0;else if(r instanceof Ts){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=x({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||hj(i.source)},s);this.scheduleNavigation(a,_s,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}pV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),_s,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=x({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(bt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Qe(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(av),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=x(x({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=qS(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return zS(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Zr(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,_s,null,r)}navigate(t,r={skipLocationChange:!1}){return yj(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(Or(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=x({},gj):r===!1?i=x({},mj):i=r,Zr(t))return CS(this.currentUrlTree,t,i);let o=this.parseUrl(t);return CS(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return Th(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yj(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new V(4008,!1)}var fA=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Wt(null);get href(){return Qe(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Le;applicationErrorHandler=N(bt);options=N(Xr,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(N(new Ud("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Qt&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Zr(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Zr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(oe(Ln),oe(Fn),hc("tabindex"),oe(ar),oe(Sn),oe(cn))};static \u0275dir=Se({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&cr("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Gr("href",i.reactiveHref(),Bm)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Wr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Wr],replaceUrl:[2,"replaceUrl","replaceUrl",Wr],routerLink:"routerLink"},features:[sr]})}return n})();var $c=class{};var pA=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ct(t=>t instanceof Qt),Mr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=ps(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return De(i).pipe(Qo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=H(null);let o=i.pipe(xe(s=>s===null?H(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(t,r);return De([o,s]).pipe(Qo())}else return o})}static \u0275fac=function(r){return new(r||n)(z(Ln),z(ke),z($c),z(Ih))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gA=new j(""),vj=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=_s;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Jr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Qt?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof On&&t.code===Is.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{if(!(t instanceof Ds))return;let r={behavior:"instant"};t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position,r):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(async()=>{await new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new Ds(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){oy()};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();function _j(n,...e){return Bt([{provide:io,multi:!0,useValue:n},[],{provide:Fn,useFactory:mA,deps:[Ln]},{provide:mc,multi:!0,useFactory:yA},e.map(t=>t.\u0275providers)])}function mA(n){return n.routerState.root}function Hc(n,e){return{\u0275kind:n,\u0275providers:e}}function yA(){let n=N(be);return e=>{let t=n.get(zr);if(e!==t.components[0])return;let r=n.get(Ln),i=n.get(vA);n.get(fv)===1&&r.initialNavigation(),n.get(IA,null,{optional:!0})?.setUpPreloading(),n.get(gA,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var vA=new j("",{factory:()=>new Le}),fv=new j("",{providedIn:"root",factory:()=>1});function _A(){let n=[{provide:Vm,useValue:!0},{provide:fv,useValue:0},Fd(()=>{let e=N(be);return e.get(Sy,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(Ln),o=e.get(vA);Th(i,()=>{r(!0)}),e.get(Dh).afterPreactivation=()=>(r(!0),o.closed?H(void 0):o),i.initialNavigation()}))})];return Hc(2,n)}function EA(){let n=[Fd(()=>{N(Ln).setUpLocationChangeListener()}),{provide:fv,useValue:2}];return Hc(3,n)}var IA=new j("");function wA(n){return Hc(0,[{provide:IA,useExisting:pA},{provide:$c,useExisting:n}])}function DA(){return Hc(8,[ov,{provide:Uc,useExisting:ov}])}function TA(n){Rn("NgRouterViewTransitions");let e=[{provide:uv,useValue:lA},{provide:lv,useValue:x({skipNextTransition:!!n?.skipInitialTransition},n)}];return Hc(9,e)}var CA=[Kr,{provide:no,useClass:Yr},Ln,ro,{provide:Fn,useFactory:mA,deps:[Ln]},Ih,[]],Ej=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[CA,[],{provide:io,multi:!0,useValue:t},[],r?.errorHandler?{provide:dv,useValue:r.errorHandler}:[],{provide:Xr,useValue:r||{}},r?.useHash?wj():Dj(),Ij(),r?.preloadingStrategy?wA(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Tj(r):[],r?.bindToComponentInputs?DA().\u0275providers:[],r?.enableViewTransitions?TA().\u0275providers:[],Cj()]}}static forChild(t){return{ngModule:n,providers:[{provide:io,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Nn({type:n});static \u0275inj=tn({})}return n})();function Ij(){return{provide:gA,useFactory:()=>{let n=N(mS),e=N(pe),t=N(Xr),r=N(Dh),i=N(no);return t.scrollOffset&&n.setOffset(t.scrollOffset),new vj(i,r,n,e,t)}}}function wj(){return{provide:cn,useClass:Ay}}function Dj(){return{provide:cn,useClass:qd}}function Tj(n){return[n.initialNavigation==="disabled"?EA().\u0275providers:[],n.initialNavigation==="enabledBlocking"?_A().\u0275providers:[]]}var hv=new j("");function Cj(){return[{provide:hv,useFactory:yA},{provide:mc,multi:!0,useExisting:hv}]}var kA=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(oe(ar),oe(Sn))};static \u0275dir=Se({type:n})}return n})(),mv=(()=>{class n extends kA{static \u0275fac=(()=>{let t;return function(i){return(t||(t=bn(n)))(i||n)}})();static \u0275dir=Se({type:n,features:[St]})}return n})(),xh=new j("");var bj={provide:xh,useExisting:xt(()=>OA),multi:!0};function Sj(){let n=Kt()?Kt().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Aj=new j(""),OA=(()=>{class n extends kA{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!Sj())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(oe(ar),oe(Sn),oe(Aj,8))};static \u0275dir=Se({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&cr("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Mn([bj]),St]})}return n})();function Rj(n){return n==null||FA(n)===0}function FA(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Qc=new j(""),LA=new j("");function Nj(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function Mj(n){return Rj(n.value)?{required:!0}:null}function Pj(n){return e=>{let t=e.value?.length??FA(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function bA(n){return null}function VA(n){return n!=null}function jA(n){return qr(n)?De(n):n}function UA(n){let e={};return n.forEach(t=>{e=t!=null?x(x({},e),t):e}),Object.keys(e).length===0?null:e}function BA(n,e){return e.map(t=>t(n))}function xj(n){return!n.validate}function $A(n){return n.map(e=>xj(e)?e:t=>e.validate(t))}function kj(n){if(!n)return null;let e=n.filter(VA);return e.length==0?null:function(t){return UA(BA(t,e))}}function yv(n){return n!=null?kj($A(n)):null}function Oj(n){if(!n)return null;let e=n.filter(VA);return e.length==0?null:function(t){let r=BA(t,e).map(jA);return og(r).pipe(ce(UA))}}function vv(n){return n!=null?Oj($A(n)):null}function SA(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Fj(n){return n._rawValidators}function Lj(n){return n._rawAsyncValidators}function pv(n){return n?Array.isArray(n)?n:[n]:[]}function bh(n,e){return Array.isArray(n)?n.includes(e):n===e}function AA(n,e){let t=pv(e);return pv(n).forEach(i=>{bh(t,i)||t.push(i)}),t}function RA(n,e){return pv(e).filter(t=>!bh(n,t))}var Sh=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=yv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=vv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Ms=class extends Sh{name;get formDirective(){return null}get path(){return null}},Ps=class extends Sh{_parent=null;name=null;valueAccessor=null},Ah=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Vj={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Yne=te(x({},Vj),{"[class.ng-submitted]":"isSubmitted"}),Zne=(()=>{class n extends Ah{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(oe(Ps,2))};static \u0275dir=Se({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&vc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[St]})}return n})(),Jne=(()=>{class n extends Ah{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(oe(Ms,10))};static \u0275dir=Se({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&vc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[St]})}return n})();var qc="VALID",Ch="INVALID",Rs="PENDING",zc="DISABLED",ei=class{},Rh=class extends ei{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Wc=class extends ei{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Kc=class extends ei{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Ns=class extends ei{status;source;constructor(e,t){super(),this.status=e,this.source=t}},gv=class extends ei{source;constructor(e){super(),this.source=e}},Nh=class extends ei{source;constructor(e){super(),this.source=e}};function HA(n){return(kh(n)?n.validators:n)||null}function jj(n){return Array.isArray(n)?yv(n):n||null}function qA(n,e){return(kh(e)?e.asyncValidators:n)||null}function Uj(n){return Array.isArray(n)?vv(n):n||null}function kh(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Bj(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new V(1e3,"");if(!r[t])throw new V(1001,"")}function $j(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new V(1002,"")})}var Mh=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Qe(this.statusReactive)}set status(e){Qe(()=>this.statusReactive.set(e))}_status=gs(()=>this.statusReactive());statusReactive=Wt(void 0);get valid(){return this.status===qc}get invalid(){return this.status===Ch}get pending(){return this.status==Rs}get disabled(){return this.status===zc}get enabled(){return this.status!==zc}errors;get pristine(){return Qe(this.pristineReactive)}set pristine(e){Qe(()=>this.pristineReactive.set(e))}_pristine=gs(()=>this.pristineReactive());pristineReactive=Wt(!0);get dirty(){return!this.pristine}get touched(){return Qe(this.touchedReactive)}set touched(e){Qe(()=>this.touchedReactive.set(e))}_touched=gs(()=>this.touchedReactive());touchedReactive=Wt(!1);get untouched(){return!this.touched}_events=new Le;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(AA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(AA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(RA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(RA(e,this._rawAsyncValidators))}hasValidator(e){return bh(this._rawValidators,e)}hasAsyncValidator(e){return bh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(te(x({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Kc(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Kc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(te(x({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Wc(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Wc(!0,r))}markAsPending(e={}){this.status=Rs;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ns(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(te(x({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=zc,this.errors=null,this._forEachChild(i=>{i.disable(te(x({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Rh(this.value,r)),this._events.next(new Ns(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(te(x({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=qc,this._forEachChild(r=>{r.enable(te(x({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(te(x({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qc||this.status===Rs)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Rh(this.value,t)),this._events.next(new Ns(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(te(x({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zc:qc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Rs,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=jA(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ns(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Be,this.statusChanges=new Be}_calculateStatus(){return this._allControlsDisabled()?zc:this.errors?Ch:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rs)?Rs:this._anyControlsHaveStatus(Ch)?Ch:qc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Wc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Kc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){kh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=jj(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Uj(this._rawAsyncValidators)}},Ph=class extends Mh{constructor(e,t,r){super(HA(t),qA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){$j(this,!0,e),Object.keys(e).forEach(r=>{Bj(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Nh(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Oh=new j("",{providedIn:"root",factory:()=>Fh}),Fh="always";function Hj(n,e){return[...e.path,n]}function zA(n,e,t=Fh){GA(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),zj(n,e),Wj(n,e),Gj(n,e),qj(n,e)}function NA(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function qj(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function GA(n,e){let t=Fj(n);e.validator!==null?n.setValidators(SA(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=Lj(n);e.asyncValidator!==null?n.setAsyncValidators(SA(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();NA(e._rawValidators,i),NA(e._rawAsyncValidators,i)}function zj(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&WA(n,e)})}function Gj(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&WA(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function WA(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Wj(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function Kj(n,e){n==null,GA(n,e)}function Qj(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Yj(n){return Object.getPrototypeOf(n.constructor)===mv}function Zj(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Jj(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===OA?t=o:Yj(o)?r=o:i=o}),i||r||t||null}var Xj={provide:Ms,useExisting:xt(()=>e2)},Gc=Promise.resolve(),e2=(()=>{class n extends Ms{callSetDisabledState;get submitted(){return Qe(this.submittedReactive)}_submitted=gs(()=>this.submittedReactive());submittedReactive=Wt(!1);_directives=new Set;form;ngSubmit=new Be;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Ph({},yv(t),vv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Gc.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),zA(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Gc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Gc.then(()=>{let r=this._findContainer(t.path),i=new Ph({});Kj(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Gc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Gc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),Zj(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new gv(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(oe(Qc,10),oe(LA,10),oe(Oh,8))};static \u0275dir=Se({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&cr("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Mn([Xj]),St]})}return n})();function MA(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function PA(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var t2=class extends Mh{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(HA(t),qA(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(PA(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Nh(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){MA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){MA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){PA(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var n2={provide:Ps,useExisting:xt(()=>r2)},xA=Promise.resolve(),r2=(()=>{class n extends Ps{_changeDetectorRef;callSetDisabledState;control=new t2;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Be;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Jj(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Qj(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){zA(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){xA.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Wr(r);xA.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Hj(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(oe(Ms,9),oe(Qc,10),oe(LA,10),oe(xh,10),oe(Ji,8),oe(Oh,8))};static \u0275dir=Se({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Mn([n2]),St,sr]})}return n})();var ere=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Se({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),i2={provide:xh,useExisting:xt(()=>o2),multi:!0},o2=(()=>{class n extends mv{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=bn(n)))(i||n)}})();static \u0275dir=Se({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&cr("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Mn([i2]),St]})}return n})(),s2={provide:xh,useExisting:xt(()=>c2),multi:!0};var a2=(()=>{class n{_accessors=[];add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t){this._accessors.splice(r,1);return}}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return t[0].control?t[0]._parent===r._control._parent&&t[1].name===r.name:!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),c2=(()=>{class n extends mv{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=N(Oh,{optional:!0})??Fh;constructor(t,r,i,o){super(t,r),this._registry=i,this._injector=o}ngOnInit(){this._control=this._injector.get(Ps),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(r){return new(r||n)(oe(ar),oe(Sn),oe(a2),oe(be))};static \u0275dir=Se({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&cr("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[Mn([s2]),St]})}return n})();function u2(n){return typeof n=="number"?n:parseInt(n,10)}function l2(n){return typeof n=="number"?n:parseFloat(n)}var _v=(()=>{class n{_validator=bA;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):bA,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Se({type:n,features:[sr]})}return n})();var d2={provide:Qc,useExisting:xt(()=>h2),multi:!0},h2=(()=>{class n extends _v{min;inputName="min";normalizeInput=t=>l2(t);createValidator=t=>Nj(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=bn(n)))(i||n)}})();static \u0275dir=Se({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Gr("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[Mn([d2]),St]})}return n})(),f2={provide:Qc,useExisting:xt(()=>p2),multi:!0};var p2=(()=>{class n extends _v{required;inputName="required";normalizeInput=Wr;createValidator=t=>Mj;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=bn(n)))(i||n)}})();static \u0275dir=Se({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Gr("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Mn([f2]),St]})}return n})();var g2={provide:Qc,useExisting:xt(()=>m2),multi:!0},m2=(()=>{class n extends _v{maxlength;inputName="maxlength";normalizeInput=t=>u2(t);createValidator=t=>Pj(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=bn(n)))(i||n)}})();static \u0275dir=Se({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Gr("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[Mn([g2]),St]})}return n})();var y2=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Nn({type:n});static \u0275inj=tn({})}return n})();var tre=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Oh,useValue:t.callSetDisabledState??Fh}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Nn({type:n});static \u0275inj=tn({imports:[y2]})}return n})();var KA=()=>{};var ZA=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},v2=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Lh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(t[h],t[p],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ZA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):v2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Iv;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let b=l<<6&192|p;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Iv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},_2=function(n){let e=ZA(n);return Lh.encodeByteArray(e,!0)},Zc=function(n){return _2(n).replace(/\./g,"")},Vh=function(n){try{return Lh.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Dv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var E2=()=>Dv().__FIREBASE_DEFAULTS__,I2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},w2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Vh(n[1]);return e&&JSON.parse(e)},jh=()=>{try{return KA()||E2()||I2()||w2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Tv=n=>{var e,t;return(t=(e=jh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},JA=n=>{let e=Tv(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Cv=()=>{var n;return(n=jh())===null||n===void 0?void 0:n.config},bv=n=>{var e;return(e=jh())===null||e===void 0?void 0:e[`_${n}`]};var oo=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function ti(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Uh(n){return(await fetch(n,{credentials:"include"})).ok}function XA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Zc(JSON.stringify(t)),Zc(JSON.stringify(s)),""].join(".")}var Yc={};function D2(){let n={prod:[],emulator:[]};for(let e of Object.keys(Yc))Yc[e]?n.emulator.push(e):n.prod.push(e);return n}function T2(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var QA=!1;function Bh(n,e){if(typeof window>"u"||typeof document>"u"||!ti(window.location.host)||Yc[n]===e||Yc[n]||QA)return;Yc[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=D2().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{QA=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=T2(r),y=t("text"),b=document.getElementById(y)||document.createElement("span"),M=t("learnmore"),R=document.getElementById(M)||document.createElement("a"),F=t("preprendIcon"),G=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let W=m.element;a(W),h(R,M);let Ee=l();u(G,F),W.append(G,b,R,Ee),document.body.appendChild(W)}o?(b.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Ye(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function e0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function C2(){var n;let e=(n=jh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function t0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function n0(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function r0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function i0(){let n=Ye();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function o0(){return!C2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jc(){try{return typeof indexedDB=="object"}catch{return!1}}function s0(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var b2="FirebaseError",Vt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=b2,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ln.prototype.create)}},ln=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?S2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Vt(i,a,r)}};function S2(n,e){return n.replace(A2,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var A2=/\{\$([^}]+)}/g;function a0(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Vn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(YA(o)&&YA(s)){if(!Vn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function YA(n){return n!==null&&typeof n=="object"}function Xc(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xs(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ks(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function c0(n,e){let t=new wv(n,e);return t.subscribe.bind(t)}var wv=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");R2(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Ev),i.error===void 0&&(i.error=Ev),i.complete===void 0&&(i.complete=Ev);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function R2(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ev(){}var sre=14400*1e3;function Oe(n){return n&&n._delegate?n._delegate:n}var wt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var so="[DEFAULT]";var Sv=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new oo;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(M2(e))try{this.getOrInitializeService({instanceIdentifier:so})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=so){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=so){return this.instances.has(e)}getOptions(e=so){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:N2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=so){return this.component?this.component.multipleInstances?e:so:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function N2(n){return n===so?void 0:n}function M2(n){return n.instantiationMode==="EAGER"}var $h=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Sv(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var P2=[],se=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(se||{}),x2={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},k2=se.INFO,O2={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},F2=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=O2[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},jn=class{constructor(e){this.name=e,this._logLevel=k2,this._logHandler=F2,this._userLogHandler=null,P2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?x2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}};var L2=(n,e)=>e.some(t=>n instanceof t),u0,l0;function V2(){return u0||(u0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j2(){return l0||(l0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var d0=new WeakMap,Rv=new WeakMap,h0=new WeakMap,Av=new WeakMap,Mv=new WeakMap;function U2(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Un(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&d0.set(t,n)}).catch(()=>{}),Mv.set(e,n),e}function B2(n){if(Rv.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Rv.set(n,e)}var Nv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Rv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||h0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Un(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function f0(n){Nv=n(Nv)}function $2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Hh(this),e,...t);return h0.set(r,e.sort?e.sort():[e]),Un(r)}:j2().includes(n)?function(...e){return n.apply(Hh(this),e),Un(d0.get(this))}:function(...e){return Un(n.apply(Hh(this),e))}}function H2(n){return typeof n=="function"?$2(n):(n instanceof IDBTransaction&&B2(n),L2(n,V2())?new Proxy(n,Nv):n)}function Un(n){if(n instanceof IDBRequest)return U2(n);if(Av.has(n))return Av.get(n);let e=H2(n);return e!==n&&(Av.set(n,e),Mv.set(e,n)),e}var Hh=n=>Mv.get(n);function g0(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Un(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Un(s.result),u.oldVersion,u.newVersion,Un(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var q2=["get","getKey","getAll","getAllKeys","count"],z2=["put","add","delete","clear"],Pv=new Map;function p0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Pv.get(e))return Pv.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=z2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||q2.includes(t)))return;let o=async function(s,...a){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[t](...a),i&&u.done]))[0]};return Pv.set(e,o),o}f0(n=>te(x({},n),{get:(e,t,r)=>p0(e,t)||n.get(e,t,r),has:(e,t)=>!!p0(e,t)||n.has(e,t)}));var kv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(G2(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function G2(n){let e=n.getComponent();return e?.type==="VERSION"}var Ov="@firebase/app",m0="0.13.2";var dr=new jn("@firebase/app"),W2="@firebase/app-compat",K2="@firebase/analytics-compat",Q2="@firebase/analytics",Y2="@firebase/app-check-compat",Z2="@firebase/app-check",J2="@firebase/auth",X2="@firebase/auth-compat",eU="@firebase/database",tU="@firebase/data-connect",nU="@firebase/database-compat",rU="@firebase/functions",iU="@firebase/functions-compat",oU="@firebase/installations",sU="@firebase/installations-compat",aU="@firebase/messaging",cU="@firebase/messaging-compat",uU="@firebase/performance",lU="@firebase/performance-compat",dU="@firebase/remote-config",hU="@firebase/remote-config-compat",fU="@firebase/storage",pU="@firebase/storage-compat",gU="@firebase/firestore",mU="@firebase/ai",yU="@firebase/firestore-compat",vU="firebase",_U="11.10.0";var Fv="[DEFAULT]",EU={[Ov]:"fire-core",[W2]:"fire-core-compat",[Q2]:"fire-analytics",[K2]:"fire-analytics-compat",[Z2]:"fire-app-check",[Y2]:"fire-app-check-compat",[J2]:"fire-auth",[X2]:"fire-auth-compat",[eU]:"fire-rtdb",[tU]:"fire-data-connect",[nU]:"fire-rtdb-compat",[rU]:"fire-fn",[iU]:"fire-fn-compat",[oU]:"fire-iid",[sU]:"fire-iid-compat",[aU]:"fire-fcm",[cU]:"fire-fcm-compat",[uU]:"fire-perf",[lU]:"fire-perf-compat",[dU]:"fire-rc",[hU]:"fire-rc-compat",[fU]:"fire-gcs",[pU]:"fire-gcs-compat",[gU]:"fire-fst",[yU]:"fire-fst-compat",[mU]:"fire-vertex","fire-js":"fire-js",[vU]:"fire-js-all"};var eu=new Map,IU=new Map,Lv=new Map;function y0(n,e){try{n.container.addComponent(e)}catch(t){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function dn(n){let e=n.name;if(Lv.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;Lv.set(e,n);for(let t of eu.values())y0(t,n);for(let t of IU.values())y0(t,n);return!0}function Os(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function At(n){return n==null?!1:n.settings!==void 0}var wU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ni=new ln("app","Firebase",wU);var Vv=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ni.create("app-deleted",{appName:this._name})}};var ri=_U;function Bv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Fv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ni.create("bad-app-name",{appName:String(i)});if(t||(t=Cv()),!t)throw ni.create("no-options");let o=eu.get(i);if(o){if(Vn(t,o.options)&&Vn(r,o.config))return o;throw ni.create("duplicate-app",{appName:i})}let s=new $h(i);for(let u of Lv.values())s.addComponent(u);let a=new Vv(t,r,s);return eu.set(i,a),a}function ao(n=Fv){let e=eu.get(n);if(!e&&n===Fv&&Cv())return Bv();if(!e)throw ni.create("no-app",{appName:n});return e}function qh(){return Array.from(eu.values())}function Me(n,e,t){var r;let i=(r=EU[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(a.join(" "));return}dn(new wt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var DU="firebase-heartbeat-database",TU=1,tu="firebase-heartbeat-store",xv=null;function I0(){return xv||(xv=g0(DU,TU,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(tu)}catch(t){console.warn(t)}}}}).catch(n=>{throw ni.create("idb-open",{originalErrorMessage:n.message})})),xv}async function CU(n){try{let t=(await I0()).transaction(tu),r=await t.objectStore(tu).get(w0(n));return await t.done,r}catch(e){if(e instanceof Vt)dr.warn(e.message);else{let t=ni.create("idb-get",{originalErrorMessage:e?.message});dr.warn(t.message)}}}async function v0(n,e){try{let r=(await I0()).transaction(tu,"readwrite");await r.objectStore(tu).put(e,w0(n)),await r.done}catch(t){if(t instanceof Vt)dr.warn(t.message);else{let r=ni.create("idb-set",{originalErrorMessage:t?.message});dr.warn(r.message)}}}function w0(n){return`${n.name}!${n.options.appId}`}var bU=1024,SU=30,jv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Uv(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=_0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>SU){let s=RU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){dr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=_0(),{heartbeatsToSend:r,unsentEntries:i}=AU(this._heartbeatsCache.heartbeats),o=Zc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return dr.warn(t),""}}};function _0(){return new Date().toISOString().substring(0,10)}function AU(n,e=bU){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),E0(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),E0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Uv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jc()?s0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await CU(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return v0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return v0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function E0(n){return Zc(JSON.stringify({version:2,heartbeats:n})).length}function RU(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function NU(n){dn(new wt("platform-logger",e=>new kv(e),"PRIVATE")),dn(new wt("heartbeat",e=>new jv(e),"PRIVATE")),Me(Ov,m0,n),Me(Ov,m0,"esm2017"),Me("fire-js","")}NU("");var MU="firebase",PU="11.10.0";Me(MU,PU,"app");function D0(n){n===void 0&&(n=N(be));let e=n.get(ss);return t=>new ne(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var ii=new xr("ANGULARFIRE2_VERSION");function nu(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Ls=(n,e)=>{let t=e?[e]:qh(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Fs=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(Fs||{}),T0=Ty()&&typeof Zone<"u"?Fs.WARN:Fs.SILENT;var zh=class{zone;delegate;constructor(e,t=ng){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},oi=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=N(pe);this.outsideAngular=t.runOutsideAngular(()=>new zh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new zh(typeof Zone>"u"?void 0:Zone.current,tg))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),C0=!1;function xU(n,e){!C0&&(T0>Fs.SILENT||Ty())&&(C0=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),T0>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function kU(n){let e=N(pe,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function co(n){let e=N(pe,{optional:!0});return e?e.run(()=>n()):n()}var OU=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),je(t,()=>co(()=>n.apply(void 0,r)))),Fe=(n,e,t)=>(t||=e?Fs.WARN:Fs.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=N(oi),s=N(ss),a=N(ke)}catch{return xU(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=co(()=>s.add())),i[l]=OU(i[l],r,a));let u=kU(()=>n.apply(this,i));return e?u instanceof ne?u.pipe(Nr(o.outsideAngular),Rr(o.insideAngular),D0(a)):u instanceof Promise?co(()=>{let l=s.add();return new Promise((h,p)=>{u.then(m=>je(a,()=>co(()=>h(m))),m=>je(a,()=>co(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:co(()=>u):u instanceof ne?u.pipe(Nr(o.outsideAngular),Rr(o.insideAngular)):co(()=>u)});var hr=class{constructor(e){return e}},uo=class{constructor(){return qh()}};function FU(n){return n&&n.length===1?n[0]:new hr(ao())}var $v=new j("angularfire2._apps"),LU={provide:hr,useFactory:FU,deps:[[new Ot,$v]]},VU={provide:uo,deps:[[new Ot,$v]]};function jU(n){return(e,t)=>{let r=t.get(Qi);Me("angularfire",ii.full,"core"),Me("angularfire",ii.full,"app"),Me("angular",Ig.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new hr(i)}}function Jre(n,...e){return Bt([LU,VU,{provide:$v,useFactory:jU(n),multi:!0,deps:[pe,be,oi,...e]}])}var Xre=Fe(Bv,!0);var UU=new Map,BU={activated:!1,tokenObservers:[]},$U={initialized:!1,enabled:!1};function hn(n){return UU.get(n)||Object.assign({},BU)}function R0(){return $U}var HU="https://content-firebaseappcheck.googleapis.com/v1";var qU="exchangeDebugToken",b0={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},cie=1440*60*1e3;var zv=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new oo,this.pending.promise.catch(t=>{}),await zU(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new oo,this.pending.promise.catch(t=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function zU(n){return new Promise(e=>{setTimeout(e,n)})}var GU={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},si=new ln("appCheck","AppCheck",GU);function N0(n){if(!hn(n).activated)throw si.create("use-before-activation",{appName:n.name})}async function M0({url:n,body:e},t){let r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){let p=await i.getHeartbeatsHeader();p&&(r["X-Firebase-Client"]=p)}let o={method:"POST",body:JSON.stringify(e),headers:r},s;try{s=await fetch(n,o)}catch(p){throw si.create("fetch-network-error",{originalErrorMessage:p?.message})}if(s.status!==200)throw si.create("fetch-status-error",{httpStatus:s.status});let a;try{a=await s.json()}catch(p){throw si.create("fetch-parse-error",{originalErrorMessage:p?.message})}let u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw si.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});let l=Number(u[1])*1e3,h=Date.now();return{token:a.token,expireTimeMillis:h+l,issuedAtTimeMillis:h}}function P0(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${HU}/projects/${t}/apps/${r}:${qU}?key=${i}`,body:{debug_token:e}}}var WU="firebase-app-check-database",KU=1,Gv="firebase-app-check-store";var Gh=null;function QU(){return Gh||(Gh=new Promise((n,e)=>{try{let t=indexedDB.open(WU,KU);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(si.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Gv,{keyPath:"compositeKey"})}}}catch(t){e(si.create("storage-open",{originalErrorMessage:t?.message}))}}),Gh)}function YU(n,e){return ZU(JU(n),e)}async function ZU(n,e){let r=(await QU()).transaction(Gv,"readwrite"),o=r.objectStore(Gv).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(si.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})}function JU(n){return`${n.options.appId}-${n.name}`}var ru=new jn("@firebase/app-check");function Hv(n,e){return Jc()?YU(n,e).catch(t=>{ru.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function x0(){return R0().enabled}async function k0(){let n=R0();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var XU={error:"UNKNOWN_ERROR"};function eB(n){return Lh.encodeString(JSON.stringify(n),!1)}async function Wv(n,e=!1,t=!1){let r=n.app;N0(r);let i=hn(r),o=i.token,s;if(o&&!iu(o)&&(i.token=void 0,o=void 0),!o){let l=await i.cachedTokenPromise;l&&(iu(l)?o=l:await Hv(r,void 0))}if(!e&&o&&iu(o))return{token:o.token};let a=!1;if(x0())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=M0(P0(r,await k0()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=await i.exchangeTokenPromise;return await Hv(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?ru.warn(l.message):t&&ru.error(l),qv(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=await hn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?ru.warn(l.message):t&&ru.error(l),s=l}let u;return o?s?iu(o)?u={token:o.token,internalError:s}:u=qv(s):(u={token:o.token},i.token=o,await Hv(r,o)):u=qv(s),a&&iB(r,u),u}async function tB(n){let e=n.app;N0(e);let{provider:t}=hn(e);if(x0()){let r=await k0(),{token:i}=await M0(P0(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await t.getToken();return{token:r}}}function nB(n,e,t,r){let{app:i}=n,o=hn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&iu(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),S0(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>S0(n))}function O0(n,e){let t=hn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function S0(n){let{app:e}=n,t=hn(e),r=t.tokenRefresher;r||(r=rB(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function rB(n){let{app:e}=n;return new zv(async()=>{let t=hn(e),r;if(t.token?r=await Wv(n,!0):r=await Wv(n),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let t=hn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},b0.RETRIAL_MIN_WAIT,b0.RETRIAL_MAX_WAIT)}function iB(n,e){let t=hn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function iu(n){return n.expireTimeMillis-Date.now()>0}function qv(n){return{token:eB(XU),error:n}}var Kv=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=hn(this.app);for(let t of e)O0(this.app,t.next);return Promise.resolve()}};function oB(n,e){return new Kv(n,e)}function sB(n){return{getToken:e=>Wv(n,e),getLimitedUseToken:()=>tB(n),addTokenListener:e=>nB(n,"INTERNAL",e),removeTokenListener:e=>O0(n.app,e)}}var aB="@firebase/app-check",cB="0.10.1";var uB="app-check",A0="app-check-internal";function lB(){dn(new wt(uB,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return oB(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(A0).initialize()})),dn(new wt(A0,n=>{let e=n.getProvider("app-check").getImmediate();return sB(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Me(aB,cB)}lB();var dB="app-check";var Vs=class{constructor(){return Ls(dB)}};var hB=["localhost","0.0.0.0","127.0.0.1"],Eie=typeof window<"u"&&hB.includes(window.location.hostname);function Z0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var J0=Z0,X0=new ln("auth","Firebase",Z0());var Jh=new jn("@firebase/auth");function fB(n,...e){Jh.logLevel<=se.WARN&&Jh.warn(`Auth (${ri}): ${n}`,...e)}function Kh(n,...e){Jh.logLevel<=se.ERROR&&Jh.error(`Auth (${ri}): ${n}`,...e)}function $n(n,...e){throw __(n,...e)}function lo(n,...e){return __(n,...e)}function eR(n,e,t){let r=Object.assign(Object.assign({},J0()),{[e]:t});return new ln("auth","Firebase",r).create(e,{appName:n.name})}function gr(n){return eR(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function __(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return X0.create(n,...e)}function q(n,e,...t){if(!n)throw __(e,...t)}function fr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Kh(e),new Error(e)}function ui(n,e){n||fr(e)}function Jv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function pB(){return F0()==="http:"||F0()==="https:"}function F0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function gB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pB()||n0()||"connection"in navigator)?navigator.onLine:!0}function mB(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ho=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,ui(t>e,"Short delay should be less than long delay!"),this.isMobile=e0()||r0()}get(){return gB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function E_(n,e){ui(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Xh=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var yB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var vB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_B=new ho(3e4,6e4);function li(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function di(n,e,t,r,i={}){return tR(n,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let a=Xc(Object.assign({key:n.config.apiKey},s)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);let l=Object.assign({method:e,headers:u},o);return t0()||(l.referrerPolicy="no-referrer"),n.emulatorConfig&&ti(n.emulatorConfig.host)&&(l.credentials="include"),Xh.fetch()(await nR(n,n.config.apiHost,t,a),l)})}async function tR(n,e,t){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},yB),e);try{let i=new Xv(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw Wh(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wh(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Wh(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Wh(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw eR(n,h,l);$n(n,h)}}catch(i){if(i instanceof Vt)throw i;$n(n,"network-request-failed",{message:String(i)})}}async function fu(n,e,t,r,i={}){let o=await di(n,e,t,r,i);return"mfaPendingCredential"in o&&$n(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function nR(n,e,t,r){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?E_(n.config,i):`${n.config.apiScheme}://${i}`;return vB.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function EB(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Xv=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(lo(this.auth,"network-request-failed")),_B.get())})}};function Wh(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=lo(n,e,r);return i.customData._tokenResponse=t,i}function L0(n){return n!==void 0&&n.enterprise!==void 0}var e_=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return EB(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function IB(n,e){return di(n,"GET","/v2/recaptchaConfig",li(n,e))}async function wB(n,e){return di(n,"POST","/v1/accounts:delete",e)}async function ef(n,e){return di(n,"POST","/v1/accounts:lookup",e)}function su(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function I_(n,e=!1){let t=Oe(n),r=await t.getIdToken(e),i=w_(r);q(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:su(Qv(i.auth_time)),issuedAtTime:su(Qv(i.iat)),expirationTime:su(Qv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Qv(n){return Number(n)*1e3}function w_(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Kh("JWT malformed, contained fewer than 3 sections"),null;try{let i=Vh(t);return i?JSON.parse(i):(Kh("Failed to decode base64 JWT payload"),null)}catch(i){return Kh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function V0(n){let e=w_(n);return q(e,"internal-error"),q(typeof e.exp<"u","internal-error"),q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function cu(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Vt&&DB(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function DB({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var t_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var uu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=su(this.lastLoginAt),this.creationTime=su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function tf(n){var e;let t=n.auth,r=await n.getIdToken(),i=await cu(n,ef(t,{idToken:r}));q(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?rR(o.providerUserInfo):[],a=TB(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new uu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)}async function D_(n){let e=Oe(n);await tf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TB(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function rR(n){return n.map(e=>{var{providerId:t}=e,r=rg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function CB(n,e){let t=await tR(n,{},async()=>{let r=Xc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=await nR(n,i,"/v1/token",`key=${o}`),a=await n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&ti(n.emulatorConfig.host)&&(u.credentials="include"),Xh.fetch()(s,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function bB(n,e){return di(n,"POST","/v2/accounts:revokeToken",li(n,e))}var au=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){q(e.idToken,"internal-error"),q(typeof e.idToken<"u","internal-error"),q(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):V0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){q(e.length!==0,"internal-error");let t=V0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:i,expiresIn:o}=await CB(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(q(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(q(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(q(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return fr("not implemented")}};function ai(n,e){q(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var ci=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=rg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new t_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new uu(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){let t=await cu(this,this.stsTokenManager.getToken(this.auth,e));return q(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return I_(this,e)}reload(){return D_(this)}_assign(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await tf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(At(this.auth.app))return Promise.reject(gr(this.auth));let e=await this.getIdToken();return await cu(this,wB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,b=(s=t.photoURL)!==null&&s!==void 0?s:void 0,M=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=t.createdAt)!==null&&l!==void 0?l:void 0,G=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:W,emailVerified:Ee,isAnonymous:gt,providerData:ve,stsTokenManager:w}=t;q(W&&w,e,"internal-error");let v=au.fromJSON(this.name,w);q(typeof W=="string",e,"internal-error"),ai(p,e.name),ai(m,e.name),q(typeof Ee=="boolean",e,"internal-error"),q(typeof gt=="boolean",e,"internal-error"),ai(y,e.name),ai(b,e.name),ai(M,e.name),ai(R,e.name),ai(F,e.name),ai(G,e.name);let E=new n({uid:W,auth:e,email:m,emailVerified:Ee,displayName:p,isAnonymous:gt,photoURL:b,phoneNumber:y,tenantId:M,stsTokenManager:v,createdAt:F,lastLoginAt:G});return ve&&Array.isArray(ve)&&(E.providerData=ve.map(I=>Object.assign({},I))),R&&(E._redirectEventId=R),E}static async _fromIdTokenResponse(e,t,r=!1){let i=new au;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await tf(o),o}static async _fromGetAccountInfoResponse(e,t,r){let i=t.users[0];q(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?rR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new au;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new uu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u}};var j0=new Map;function pr(n){ui(n instanceof Function,"Expected a class definition");let e=j0.get(n);return e?(ui(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,j0.set(n,e),e)}var SB=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){let r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),n_=SB;function Qh(n,e,t){return`firebase:${n}:${e}:${t}`}var nf=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Qh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Qh("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=await ef(this.auth,{idToken:e}).catch(()=>{});return t?ci._fromGetAccountInfoResponse(this.auth,t,e):null}return ci._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new n(pr(n_),e,r);let i=(await Promise.all(t.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),o=i[0]||pr(n_),s=Qh(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=await l._get(s);if(h){let p;if(typeof h=="string"){let m=await ef(e,{idToken:h}).catch(()=>{});if(!m)break;p=await ci._fromGetAccountInfoResponse(e,m,h)}else p=ci._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&await o._set(s,a.toJSON()),await Promise.all(t.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new n(o,e,r))}};function U0(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uR(e))return"Blackberry";if(lR(e))return"Webos";if(oR(e))return"Safari";if((e.includes("chrome/")||sR(e))&&!e.includes("edge/"))return"Chrome";if(cR(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function iR(n=Ye()){return/firefox\//i.test(n)}function oR(n=Ye()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sR(n=Ye()){return/crios\//i.test(n)}function aR(n=Ye()){return/iemobile/i.test(n)}function cR(n=Ye()){return/android/i.test(n)}function uR(n=Ye()){return/blackberry/i.test(n)}function lR(n=Ye()){return/webos/i.test(n)}function T_(n=Ye()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function AB(n=Ye()){var e;return T_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function RB(){return i0()&&document.documentMode===10}function dR(n=Ye()){return T_(n)||cR(n)||lR(n)||uR(n)||/windows phone/i.test(n)||aR(n)}function hR(n,e=[]){let t;switch(n){case"Browser":t=U0(Ye());break;case"Worker":t=`${U0(Ye())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ri}/${r}`}var r_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function NB(n,e={}){return di(n,"GET","/v2/passwordPolicy",li(n,e))}var MB=6,i_=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:MB,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var o_=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rf(this),this.idTokenSubscription=new rf(this),this.beforeStateQueue=new r_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=pr(t)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await nf.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await ef(this,{idToken:e}),r=await ci._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(At(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await tf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(At(this.app))return Promise.reject(gr(this));let t=e?Oe(e):null;return t&&q(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return At(this.app)?Promise.reject(gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return At(this.app)?Promise.reject(gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await NB(this),t=new i_(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ln("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await bB(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&pr(e)||this._popupRedirectResolver;q(t,this,"argument-error"),this.redirectPersistenceManager=await nf.create(this,[pr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(q(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(At(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&fB(`Error while retrieving App Check token: ${t.error}`),t?.token}};function po(n){return Oe(n)}var rf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=c0(t=>this.observer=t)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var df={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PB(n){df=n}function fR(n){return df.loadJS(n)}function xB(){return df.recaptchaEnterpriseScript}function kB(){return df.gapiScript}function pR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var s_=class{constructor(){this.enterprise=new a_}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},a_=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var OB="recaptcha-enterprise",gR="NO_RECAPTCHA",c_=class{constructor(e){this.type=OB,this.auth=po(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{IB(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new e_(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})})}function i(o,s,a){let u=window.grecaptcha;L0(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(gR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new s_().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&L0(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=xB();u.length!==0&&(u+=a),fR(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}};async function ou(n,e,t,r=!1,i=!1){let o=new c_(n),s;if(i)s=gR;else try{s=await o.verify(t)}catch{s=await o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function u_(n,e,t,r,i){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=await ou(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=await ou(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=await ou(n,e,t);return r(n,a).catch(async u=>{var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=await ou(n,e,t,!1,!0);return r(n,h)}return Promise.reject(u)})}else{let a=await ou(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")}function C_(n,e){let t=Os(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Vn(o,e??{}))return i;$n(i,"already-initialized")}return t.initialize({options:e})}function FB(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(pr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function b_(n,e,t){let r=po(n);q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=mR(e),{host:s,port:a}=LB(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){q(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),q(Vn(l,r.config.emulator)&&Vn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,ti(s)?(Uh(`${o}//${s}${u}`),Bh("Auth",!0)):i||VB()}function mR(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function LB(n){let e=mR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:B0(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:B0(s)}}}function B0(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function VB(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var lu=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fr("not implemented")}_getIdTokenResponse(e){return fr("not implemented")}_linkToIdToken(e,t){return fr("not implemented")}_getReauthenticationResolver(e){return fr("not implemented")}};async function jB(n,e){return di(n,"POST","/v1/accounts:signUp",e)}async function UB(n,e){return fu(n,"POST","/v1/accounts:signInWithPassword",li(n,e))}async function BB(n,e){return fu(n,"POST","/v1/accounts:signInWithEmailLink",li(n,e))}async function $B(n,e){return fu(n,"POST","/v1/accounts:signInWithEmailLink",li(n,e))}var du=class n extends lu{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return u_(e,t,"signInWithPassword",UB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return BB(e,{email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return u_(e,r,"signUpPassword",jB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return $B(e,{idToken:t,email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function Yv(n,e){return fu(n,"POST","/v1/accounts:signInWithIdp",li(n,e))}function HB(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qB(n){let e=xs(ks(n)).link,t=e?xs(ks(e)).deep_link_id:null,r=xs(ks(n)).deep_link_id;return(r?xs(ks(r)).link:null)||r||t||e||n}var of=class n{constructor(e){var t,r,i,o,s,a;let u=xs(ks(e)),l=(t=u.apiKey)!==null&&t!==void 0?t:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=HB((i=u.mode)!==null&&i!==void 0?i:null);q(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=qB(e);try{return new n(t)}catch{return null}}};var yR=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return du._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=of.parseLink(r);return q(i,"argument-error"),du._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),sf=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var l_=class extends sf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};async function zB(n,e){return fu(n,"POST","/v1/accounts:signUp",li(n,e))}var js=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){let o=await ci._fromIdTokenResponse(e,r,i),s=$0(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);let i=$0(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function $0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var d_=class n extends Vt{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function vR(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?d_._fromErrorAndOperation(n,o,e,r):o})}async function GB(n,e,t=!1){let r=await cu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return js._forOperation(n,"link",r)}async function WB(n,e,t=!1){let{auth:r}=n;if(At(r.app))return Promise.reject(gr(r));let i="reauthenticate";try{let o=await cu(n,vR(r,i,e,n),t);q(o.idToken,r,"internal-error");let s=w_(o.idToken);q(s,r,"internal-error");let{sub:a}=s;return q(n.uid===a,r,"user-mismatch"),js._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&$n(r,"user-mismatch"),o}}async function _R(n,e,t=!1){if(At(n.app))return Promise.reject(gr(n));let r="signIn",i=await vR(n,r,e),o=await js._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function S_(n,e){return _R(po(n),e)}async function ER(n){let e=po(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function A_(n,e,t){if(At(n.app))return Promise.reject(gr(n));let r=po(n),s=await u_(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zB,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&ER(n),u}),a=await js._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function R_(n,e,t){return At(n.app)?Promise.reject(gr(n)):S_(Oe(n),yR.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ER(n),r})}function N_(n,e,t,r){return Oe(n).onIdTokenChanged(e,t,r)}function M_(n,e,t){return Oe(n).beforeAuthStateChanged(e,t)}function P_(n,e,t,r){return Oe(n).onAuthStateChanged(e,t,r)}function x_(n){return Oe(n).signOut()}var af="__sak";var cf=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(af,"1"),this.storage.removeItem(af),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var KB=1e3,QB=10,YB=(()=>{class n extends cf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dR(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);RB()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,QB):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},KB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){let r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}return n.type="LOCAL",n})(),IR=YB;var ZB=(()=>{class n extends cf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),k_=ZB;function JB(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}var XB=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(async h=>h(r.origin,s)),l=await JB(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function wR(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var h_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=wR("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}};function Bn(){return window}function e$(n){Bn().location.href=n}function DR(){return typeof Bn().WorkerGlobalScope<"u"&&typeof Bn().importScripts=="function"}async function t$(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function n$(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function r$(){return DR()?self:null}var TR="firebaseLocalStorageDb",i$=1,uf="firebaseLocalStorage",CR="fbase_key",fo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function hf(n,e){return n.transaction([uf],e?"readwrite":"readonly").objectStore(uf)}function o$(){let n=indexedDB.deleteDatabase(TR);return new fo(n).toPromise()}function f_(){let n=indexedDB.open(TR,i$);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(uf,{keyPath:CR})}catch(i){t(i)}}),n.addEventListener("success",async()=>{let r=n.result;r.objectStoreNames.contains(uf)?e(r):(r.close(),await o$(),e(await f_()))})})}async function H0(n,e,t){let r=hf(n,!0).put({[CR]:e,value:t});return new fo(r).toPromise()}async function s$(n,e){let t=hf(n,!1).get(e),r=await new fo(t).toPromise();return r===void 0?null:r.value}function q0(n,e){let t=hf(n,!0).delete(e);return new fo(t).toPromise()}var a$=800,c$=3,u$=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await f_(),this.db)}async _withRetries(t){let r=0;for(;;)try{let i=await this._openDb();return await t(i)}catch(i){if(r++>c$)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=XB._getInstance(r$()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await t$(),!this.activeServiceWorker)return;this.sender=new h_(this.activeServiceWorker);let i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||n$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let t=await f_();return await H0(t,af,"1"),await q0(t,af),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>H0(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){let r=await this._withRetries(i=>s$(i,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>q0(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){let t=await this._withRetries(o=>{let s=hf(o,!1).getAll();return new fo(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),a$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),bR=u$;var Aie=pR("rcb"),Rie=new ho(3e4,6e4);function l$(n,e){return e?pr(e):(q(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var hu=class extends lu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yv(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Yv(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Yv(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function d$(n){return _R(n.auth,new hu(n),n.bypassAuthState)}function h$(n){let{auth:e,user:t}=n;return q(t,e,"internal-error"),WB(t,new hu(n),n.bypassAuthState)}async function f$(n){let{auth:e,user:t}=n;return q(t,e,"internal-error"),GB(t,new hu(n),n.bypassAuthState)}var p_=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return d$;case"linkViaPopup":case"linkViaRedirect":return f$;case"reauthViaPopup":case"reauthViaRedirect":return h$;default:$n(this.auth,"internal-error")}}resolve(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Nie=new ho(2e3,1e4);var p$="pendingRedirect",Yh=new Map,g_=class extends p_{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Yh.get(this.auth._key());if(!e){try{let r=await g$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Yh.set(this.auth._key(),e)}return this.bypassAuthState||Yh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function g$(n,e){let t=v$(e),r=y$(n);if(!await r._isAvailable())return!1;let i=await r._get(t)==="true";return await r._remove(t),i}function m$(n,e){Yh.set(n._key(),e)}function y$(n){return pr(n._redirectPersistence)}function v$(n){return Qh(p$,n.config.apiKey,n.name)}async function _$(n,e,t=!1){if(At(n.app))return Promise.reject(gr(n));let r=po(n),i=l$(r,e),s=await new g_(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}var E$=600*1e3,m_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!I$(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!SR(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(lo(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=E$&&this.cachedEventUids.clear(),this.cachedEventUids.has(z0(e))}saveEventToCache(e){this.cachedEventUids.add(z0(e)),this.lastProcessedEventTime=Date.now()}};function z0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function SR({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function I$(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SR(n);default:return!1}}async function w$(n,e={}){return di(n,"GET","/v1/projects",e)}var D$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T$=/^https?/;async function C$(n){if(n.config.emulator)return;let{authorizedDomains:e}=await w$(n);for(let t of e)try{if(b$(t))return}catch{}$n(n,"unauthorized-domain")}function b$(n){let e=Jv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!T$.test(t))return!1;if(D$.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var S$=new ho(3e4,6e4);function G0(){let n=Bn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function A$(n){return new Promise((e,t)=>{var r,i,o;function s(){G0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{G0(),t(lo(n,"network-request-failed"))},timeout:S$.get()})}if(!((i=(r=Bn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Bn().gapi)===null||o===void 0)&&o.load)s();else{let a=pR("iframefcb");return Bn()[a]=()=>{gapi.load?s():t(lo(n,"network-request-failed"))},fR(`${kB()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw Zh=null,e})}var Zh=null;function R$(n){return Zh=Zh||A$(n),Zh}var N$=new ho(5e3,15e3),M$="__/auth/iframe",P$="emulator/auth/iframe",x$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},k$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function O$(n){let e=n.config;q(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?E_(e,P$):`https://${n.config.authDomain}/${M$}`,r={apiKey:e.apiKey,appName:n.name,v:ri},i=k$.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Xc(r).slice(1)}`}async function F$(n){let e=await R$(n),t=Bn().gapi;return q(t,n,"internal-error"),e.open({where:document.body,url:O$(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:x$,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});let s=lo(n,"network-request-failed"),a=Bn().setTimeout(()=>{o(s)},N$.get());function u(){Bn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})}))}var L$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},V$=500,j$=600,U$="_blank",B$="http://localhost",lf=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function $$(n,e,t,r=V$,i=j$){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},L$),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Ye().toLowerCase();t&&(a=sR(l)?U$:t),iR(l)&&(e=e||B$,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,b])=>`${m}${y}=${b},`,"");if(AB(l)&&a!=="_self")return H$(e||"",a),new lf(null);let p=window.open(e||"",a,h);q(p,n,"popup-blocked");try{p.focus()}catch{}return new lf(p)}function H$(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var q$="__/auth/handler",z$="emulator/auth/handler",G$=encodeURIComponent("fac");async function W0(n,e,t,r,i,o){q(n.config.authDomain,n,"auth-domain-config-required"),q(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ri,eventId:i};if(e instanceof sf){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",a0(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof l_){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=await n._getAppCheckToken(),l=u?`#${G$}=${encodeURIComponent(u)}`:"";return`${W$(n)}?${Xc(a).slice(1)}${l}`}function W$({config:n}){return n.emulator?E_(n,z$):`https://${n.authDomain}/${q$}`}var Zv="webStorageSupport",y_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=k_,this._completeRedirectFn=_$,this._overrideRedirectResult=m$}async _openPopup(e,t,r,i){var o;ui((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=await W0(e,t,r,Jv(),i);return $$(e,s,wR())}async _openRedirect(e,t,r,i){await this._originValidation(e);let o=await W0(e,t,r,Jv(),i);return e$(o),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(ui(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await F$(e),r=new m_(e);return t.register("authEvent",i=>(q(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Zv,{type:Zv},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Zv];s!==void 0&&t(!!s),$n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=C$(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return dR()||oR()||T_()}},AR=y_;var K0="@firebase/auth",Q0="1.10.8";var v_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function K$(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Q$(n){dn(new wt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;q(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hR(n)},l=new o_(r,i,o,u);return FB(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),dn(new wt("auth-internal",e=>{let t=po(e.getProvider("auth").getImmediate());return(r=>new v_(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Me(K0,Q0,K$(n)),Me(K0,Q0,"esm2017")}var Y$=300,Z$=bv("authIdTokenMaxAge")||Y$,Y0=null,J$=n=>async e=>{let t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Z$)return;let i=t?.token;Y0!==i&&(Y0=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function O_(n=ao()){let e=Os(n,"auth");if(e.isInitialized())return e.getImmediate();let t=C_(n,{popupRedirectResolver:AR,persistence:[bR,IR,k_]}),r=bv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=J$(o.toString());M_(t,s,()=>s(t.currentUser)),N_(t,a=>s(a))}}let i=Tv("auth");return i&&b_(t,`http://${i}`),t}function X$(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}PB({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=lo("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",X$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Q$("Browser");var RR="auth",pu=class{constructor(e){return e}},gu=class{constructor(){return Ls(RR)}};var F_=new j("angularfire2.auth-instances");function BH(n,e){let t=nu(RR,n,e);return t&&new pu(t)}function $H(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new pu(r)}}var HH={provide:gu,deps:[[new Ot,F_]]},qH={provide:pu,useFactory:BH,deps:[[new Ot,F_],hr]};function goe(n,...e){return Me("angularfire",ii.full,"auth"),Bt([qH,HH,{provide:F_,useFactory:$H(n),multi:!0,deps:[pe,be,oi,uo,[new Ot,Vs],...e]}])}var moe=Fe(A_,!0,2);var yoe=Fe(O_,!0);var voe=Fe(P_,!0);var _oe=Fe(R_,!0,2);var Eoe=Fe(x_,!0,2);var NR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},MR={};var mr,L_;(function(){var n;function e(w,v){function E(){}E.prototype=v.prototype,w.D=v.prototype,w.prototype=new E,w.prototype.constructor=w,w.C=function(I,D,C){for(var _=Array(arguments.length-2),Qn=2;Qn<arguments.length;Qn++)_[Qn-2]=arguments[Qn];return v.prototype[D].apply(I,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,E){E||(E=0);var I=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)I[D]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(D=0;16>D;++D)I[D]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=w.g[0],E=w.g[1],D=w.g[2];var C=w.g[3],_=v+(C^E&(D^C))+I[0]+3614090360&4294967295;v=E+(_<<7&4294967295|_>>>25),_=C+(D^v&(E^D))+I[1]+3905402710&4294967295,C=v+(_<<12&4294967295|_>>>20),_=D+(E^C&(v^E))+I[2]+606105819&4294967295,D=C+(_<<17&4294967295|_>>>15),_=E+(v^D&(C^v))+I[3]+3250441966&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(C^E&(D^C))+I[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(D^v&(E^D))+I[5]+1200080426&4294967295,C=v+(_<<12&4294967295|_>>>20),_=D+(E^C&(v^E))+I[6]+2821735955&4294967295,D=C+(_<<17&4294967295|_>>>15),_=E+(v^D&(C^v))+I[7]+4249261313&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(C^E&(D^C))+I[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(D^v&(E^D))+I[9]+2336552879&4294967295,C=v+(_<<12&4294967295|_>>>20),_=D+(E^C&(v^E))+I[10]+4294925233&4294967295,D=C+(_<<17&4294967295|_>>>15),_=E+(v^D&(C^v))+I[11]+2304563134&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(C^E&(D^C))+I[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(D^v&(E^D))+I[13]+4254626195&4294967295,C=v+(_<<12&4294967295|_>>>20),_=D+(E^C&(v^E))+I[14]+2792965006&4294967295,D=C+(_<<17&4294967295|_>>>15),_=E+(v^D&(C^v))+I[15]+1236535329&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(D^C&(E^D))+I[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^D&(v^E))+I[6]+3225465664&4294967295,C=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(C^v))+I[11]+643717713&4294967295,D=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(D^C))+I[0]+3921069994&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(D^C&(E^D))+I[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^D&(v^E))+I[10]+38016083&4294967295,C=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(C^v))+I[15]+3634488961&4294967295,D=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(D^C))+I[4]+3889429448&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(D^C&(E^D))+I[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^D&(v^E))+I[14]+3275163606&4294967295,C=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(C^v))+I[3]+4107603335&4294967295,D=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(D^C))+I[8]+1163531501&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(D^C&(E^D))+I[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^D&(v^E))+I[2]+4243563512&4294967295,C=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(C^v))+I[7]+1735328473&4294967295,D=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(D^C))+I[12]+2368359562&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(E^D^C)+I[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^D)+I[8]+2272392833&4294967295,C=v+(_<<11&4294967295|_>>>21),_=D+(C^v^E)+I[11]+1839030562&4294967295,D=C+(_<<16&4294967295|_>>>16),_=E+(D^C^v)+I[14]+4259657740&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(E^D^C)+I[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^D)+I[4]+1272893353&4294967295,C=v+(_<<11&4294967295|_>>>21),_=D+(C^v^E)+I[7]+4139469664&4294967295,D=C+(_<<16&4294967295|_>>>16),_=E+(D^C^v)+I[10]+3200236656&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(E^D^C)+I[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^D)+I[0]+3936430074&4294967295,C=v+(_<<11&4294967295|_>>>21),_=D+(C^v^E)+I[3]+3572445317&4294967295,D=C+(_<<16&4294967295|_>>>16),_=E+(D^C^v)+I[6]+76029189&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(E^D^C)+I[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^D)+I[12]+3873151461&4294967295,C=v+(_<<11&4294967295|_>>>21),_=D+(C^v^E)+I[15]+530742520&4294967295,D=C+(_<<16&4294967295|_>>>16),_=E+(D^C^v)+I[2]+3299628645&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(D^(E|~C))+I[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~D))+I[7]+1126891415&4294967295,C=v+(_<<10&4294967295|_>>>22),_=D+(v^(C|~E))+I[14]+2878612391&4294967295,D=C+(_<<15&4294967295|_>>>17),_=E+(C^(D|~v))+I[5]+4237533241&4294967295,E=D+(_<<21&4294967295|_>>>11),_=v+(D^(E|~C))+I[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~D))+I[3]+2399980690&4294967295,C=v+(_<<10&4294967295|_>>>22),_=D+(v^(C|~E))+I[10]+4293915773&4294967295,D=C+(_<<15&4294967295|_>>>17),_=E+(C^(D|~v))+I[1]+2240044497&4294967295,E=D+(_<<21&4294967295|_>>>11),_=v+(D^(E|~C))+I[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~D))+I[15]+4264355552&4294967295,C=v+(_<<10&4294967295|_>>>22),_=D+(v^(C|~E))+I[6]+2734768916&4294967295,D=C+(_<<15&4294967295|_>>>17),_=E+(C^(D|~v))+I[13]+1309151649&4294967295,E=D+(_<<21&4294967295|_>>>11),_=v+(D^(E|~C))+I[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~D))+I[11]+3174756917&4294967295,C=v+(_<<10&4294967295|_>>>22),_=D+(v^(C|~E))+I[2]+718787259&4294967295,D=C+(_<<15&4294967295|_>>>17),_=E+(C^(D|~v))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(D+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+D&4294967295,w.g[3]=w.g[3]+C&4294967295}r.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var E=v-this.blockSize,I=this.B,D=this.h,C=0;C<v;){if(D==0)for(;C<=E;)i(this,w,C),C+=this.blockSize;if(typeof w=="string"){for(;C<v;)if(I[D++]=w.charCodeAt(C++),D==this.blockSize){i(this,I),D=0;break}}else for(;C<v;)if(I[D++]=w[C++],D==this.blockSize){i(this,I),D=0;break}}this.h=D,this.o+=v},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var E=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=E&255,E/=256;for(this.u(w),w=Array(16),v=E=0;4>v;++v)for(var I=0;32>I;I+=8)w[E++]=this.g[v]>>>I&255;return w};function o(w,v){var E=a;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=v(w)}function s(w,v){this.h=v;for(var E=[],I=!0,D=w.length-1;0<=D;D--){var C=w[D]|0;I&&C==v||(E[D]=C,I=!1)}this.g=E}var a={};function u(w){return-128<=w&&128>w?o(w,function(v){return new s([v|0],0>v?-1:0)}):new s([w|0],0>w?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return R(l(-w));for(var v=[],E=1,I=0;w>=E;I++)v[I]=w/E|0,E*=4294967296;return new s(v,0)}function h(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return R(h(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),I=p,D=0;D<w.length;D+=8){var C=Math.min(8,w.length-D),_=parseInt(w.substring(D,D+C),v);8>C?(C=l(Math.pow(v,C)),I=I.j(C).add(l(_))):(I=I.j(E),I=I.add(l(_)))}return I}var p=u(0),m=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(M(this))return-R(this).m();for(var w=0,v=1,E=0;E<this.g.length;E++){var I=this.i(E);w+=(0<=I?I:4294967296+I)*v,v*=4294967296}return w},n.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(b(this))return"0";if(M(this))return"-"+R(this).toString(w);for(var v=l(Math.pow(w,6)),E=this,I="";;){var D=Ee(E,v).g;E=F(E,D.j(v));var C=((0<E.g.length?E.g[0]:E.h)>>>0).toString(w);if(E=D,b(E))return C+I;for(;6>C.length;)C="0"+C;I=C+I}},n.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function b(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function M(w){return w.h==-1}n.l=function(w){return w=F(this,w),M(w)?-1:b(w)?0:1};function R(w){for(var v=w.g.length,E=[],I=0;I<v;I++)E[I]=~w.g[I];return new s(E,~w.h).add(m)}n.abs=function(){return M(this)?R(this):this},n.add=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0,D=0;D<=v;D++){var C=I+(this.i(D)&65535)+(w.i(D)&65535),_=(C>>>16)+(this.i(D)>>>16)+(w.i(D)>>>16);I=_>>>16,C&=65535,_&=65535,E[D]=_<<16|C}return new s(E,E[E.length-1]&-2147483648?-1:0)};function F(w,v){return w.add(R(v))}n.j=function(w){if(b(this)||b(w))return p;if(M(this))return M(w)?R(this).j(R(w)):R(R(this).j(w));if(M(w))return R(this.j(R(w)));if(0>this.l(y)&&0>w.l(y))return l(this.m()*w.m());for(var v=this.g.length+w.g.length,E=[],I=0;I<2*v;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var D=0;D<w.g.length;D++){var C=this.i(I)>>>16,_=this.i(I)&65535,Qn=w.i(D)>>>16,da=w.i(D)&65535;E[2*I+2*D]+=_*da,G(E,2*I+2*D),E[2*I+2*D+1]+=C*da,G(E,2*I+2*D+1),E[2*I+2*D+1]+=_*Qn,G(E,2*I+2*D+1),E[2*I+2*D+2]+=C*Qn,G(E,2*I+2*D+2)}for(I=0;I<v;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=v;I<2*v;I++)E[I]=0;return new s(E,0)};function G(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function W(w,v){this.g=w,this.h=v}function Ee(w,v){if(b(v))throw Error("division by zero");if(b(w))return new W(p,p);if(M(w))return v=Ee(R(w),v),new W(R(v.g),R(v.h));if(M(v))return v=Ee(w,R(v)),new W(R(v.g),v.h);if(30<w.g.length){if(M(w)||M(v))throw Error("slowDivide_ only works with positive integers.");for(var E=m,I=v;0>=I.l(w);)E=gt(E),I=gt(I);var D=ve(E,1),C=ve(I,1);for(I=ve(I,2),E=ve(E,2);!b(I);){var _=C.add(I);0>=_.l(w)&&(D=D.add(E),C=_),I=ve(I,1),E=ve(E,1)}return v=F(w,D.j(v)),new W(D,v)}for(D=p;0<=w.l(v);){for(E=Math.max(1,Math.floor(w.m()/v.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),C=l(E),_=C.j(v);M(_)||0<_.l(w);)E-=I,C=l(E),_=C.j(v);b(C)&&(C=m),D=D.add(C),w=F(w,_)}return new W(D,w)}n.A=function(w){return Ee(this,w).h},n.and=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)&w.i(I);return new s(E,this.h&w.h)},n.or=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)|w.i(I);return new s(E,this.h|w.h)},n.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)^w.i(I);return new s(E,this.h^w.h)};function gt(w){for(var v=w.g.length+1,E=[],I=0;I<v;I++)E[I]=w.i(I)<<1|w.i(I-1)>>>31;return new s(E,w.h)}function ve(w,v){var E=v>>5;v%=32;for(var I=w.g.length-E,D=[],C=0;C<I;C++)D[C]=0<v?w.i(C+E)>>>v|w.i(C+E+1)<<32-v:w.i(C+E);return new s(D,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,L_=MR.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,mr=MR.Integer=s}).apply(typeof NR<"u"?NR:typeof self<"u"?self:typeof window<"u"?window:{});var ff=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yr={};var V_,zH,Us,j_,mu,pf,U_,B_,$_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ff=="object"&&ff];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var T=c[g];if(!(T in f))break e;f=f[T]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,T={next:function(){if(!g&&f<c.length){var S=f++;return{value:d(S,c[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,g),c.apply(d,T)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function b(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,T,S){for(var k=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)k[Ie-2]=arguments[Ie];return d.prototype[T].apply(g,k)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let T=c.length||0,S=g.length||0;c.length=T+S;for(let k=0;k<S;k++)c[T+k]=g[k]}else c.push(g)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function G(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Ee(c){return Ee[" "](c),c}Ee[" "]=function(){};var gt=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function ve(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function w(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,d){let f,g;for(let T=1;T<arguments.length;T++){g=arguments[T];for(f in g)c[f]=g[f];for(let S=0;S<E.length;S++)f=E[S],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function C(c){a.setTimeout(()=>{throw c},0)}function _(){var c=hp;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Qn{constructor(){this.h=this.g=null}add(d,f){let g=da.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var da=new F(()=>new lP,c=>c.reset());class lP{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ha,fa=!1,hp=new Qn,ow=()=>{let c=a.Promise.resolve(void 0);ha=()=>{c.then(dP)}};var dP=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(f){C(f)}var d=da;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}fa=!1};function Tr(){this.s=this.s,this.C=this.C}Tr.prototype.s=!1,Tr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Tr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var hP=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c})();function pa(c,d){if(ot.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(gt){e:{try{Ee(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:fP[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&pa.aa.h.call(this)}}b(pa,ot);var fP={2:"touch",3:"pen",4:"mouse"};pa.prototype.h=function(){pa.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ga="closure_listenable_"+(1e6*Math.random()|0),pP=0;function gP(c,d,f,g,T){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=T,this.key=++pP,this.da=this.fa=!1}function ju(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Uu(c){this.src=c,this.g={},this.h=0}Uu.prototype.add=function(c,d,f,g,T){var S=c.toString();c=this.g[S],c||(c=this.g[S]=[],this.h++);var k=pp(c,d,g,T);return-1<k?(d=c[k],f||(d.fa=!1)):(d=new gP(d,this.src,S,!!g,T),d.fa=f,c.push(d)),d};function fp(c,d){var f=d.type;if(f in c.g){var g=c.g[f],T=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=T)&&Array.prototype.splice.call(g,T,1),S&&(ju(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function pp(c,d,f,g){for(var T=0;T<c.length;++T){var S=c[T];if(!S.da&&S.listener==d&&S.capture==!!f&&S.ha==g)return T}return-1}var gp="closure_lm_"+(1e6*Math.random()|0),mp={};function sw(c,d,f,g,T){if(g&&g.once)return cw(c,d,f,g,T);if(Array.isArray(d)){for(var S=0;S<d.length;S++)sw(c,d[S],f,g,T);return null}return f=Ep(f),c&&c[ga]?c.K(d,f,l(g)?!!g.capture:!!g,T):aw(c,d,f,!1,g,T)}function aw(c,d,f,g,T,S){if(!d)throw Error("Invalid event type");var k=l(T)?!!T.capture:!!T,Ie=vp(c);if(Ie||(c[gp]=Ie=new Uu(c)),f=Ie.add(d,f,g,k,S),f.proxy)return f;if(g=mP(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)hP||(T=k),T===void 0&&(T=!1),c.addEventListener(d.toString(),g,T);else if(c.attachEvent)c.attachEvent(lw(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function mP(){function c(f){return d.call(c.src,c.listener,f)}let d=yP;return c}function cw(c,d,f,g,T){if(Array.isArray(d)){for(var S=0;S<d.length;S++)cw(c,d[S],f,g,T);return null}return f=Ep(f),c&&c[ga]?c.L(d,f,l(g)?!!g.capture:!!g,T):aw(c,d,f,!0,g,T)}function uw(c,d,f,g,T){if(Array.isArray(d))for(var S=0;S<d.length;S++)uw(c,d[S],f,g,T);else g=l(g)?!!g.capture:!!g,f=Ep(f),c&&c[ga]?(c=c.i,d=String(d).toString(),d in c.g&&(S=c.g[d],f=pp(S,f,g,T),-1<f&&(ju(S[f]),Array.prototype.splice.call(S,f,1),S.length==0&&(delete c.g[d],c.h--)))):c&&(c=vp(c))&&(d=c.g[d.toString()],c=-1,d&&(c=pp(d,f,g,T)),(f=-1<c?d[c]:null)&&yp(f))}function yp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[ga])fp(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(lw(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=vp(d))?(fp(f,c),f.h==0&&(f.src=null,d[gp]=null)):ju(c)}}}function lw(c){return c in mp?mp[c]:mp[c]="on"+c}function yP(c,d){if(c.da)c=!0;else{d=new pa(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&yp(c),c=f.call(g,d)}return c}function vp(c){return c=c[gp],c instanceof Uu?c:null}var _p="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ep(c){return typeof c=="function"?c:(c[_p]||(c[_p]=function(d){return c.handleEvent(d)}),c[_p])}function st(){Tr.call(this),this.i=new Uu(this),this.M=this,this.F=null}b(st,Tr),st.prototype[ga]=!0,st.prototype.removeEventListener=function(c,d,f,g){uw(this,c,d,f,g)};function mt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new ot(d,c);else if(d instanceof ot)d.target=d.target||c;else{var T=d;d=new ot(g,c),I(d,T)}if(T=!0,f)for(var S=f.length-1;0<=S;S--){var k=d.g=f[S];T=Bu(k,g,!0,d)&&T}if(k=d.g=c,T=Bu(k,g,!0,d)&&T,T=Bu(k,g,!1,d)&&T,f)for(S=0;S<f.length;S++)k=d.g=f[S],T=Bu(k,g,!1,d)&&T}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)ju(f[g]);delete c.g[d],c.h--}}this.F=null},st.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},st.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Bu(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,S=0;S<d.length;++S){var k=d[S];if(k&&!k.da&&k.capture==f){var Ie=k.listener,et=k.ha||k.src;k.fa&&fp(c.i,k),T=Ie.call(et,g)!==!1&&T}}return T&&!g.defaultPrevented}function dw(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function hw(c){c.g=dw(()=>{c.g=null,c.i&&(c.i=!1,hw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class vP extends Tr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:hw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ma(c){Tr.call(this),this.h=c,this.g={}}b(ma,Tr);var fw=[];function pw(c){ve(c.g,function(d,f){this.g.hasOwnProperty(f)&&yp(d)},c),c.g={}}ma.prototype.N=function(){ma.aa.N.call(this),pw(this)},ma.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ip=a.JSON.stringify,_P=a.JSON.parse,EP=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function wp(){}wp.prototype.h=null;function gw(c){return c.h||(c.h=c.i())}function mw(){}var ya={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dp(){ot.call(this,"d")}b(Dp,ot);function Tp(){ot.call(this,"c")}b(Tp,ot);var wi={},yw=null;function $u(){return yw=yw||new st}wi.La="serverreachability";function vw(c){ot.call(this,wi.La,c)}b(vw,ot);function va(c){let d=$u();mt(d,new vw(d))}wi.STAT_EVENT="statevent";function _w(c,d){ot.call(this,wi.STAT_EVENT,c),this.stat=d}b(_w,ot);function yt(c){let d=$u();mt(d,new _w(d,c))}wi.Ma="timingevent";function Ew(c,d){ot.call(this,wi.Ma,c),this.size=d}b(Ew,ot);function _a(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Ea(){this.g=!0}Ea.prototype.xa=function(){this.g=!1};function IP(c,d,f,g,T,S){c.info(function(){if(c.g)if(S)for(var k="",Ie=S.split("&"),et=0;et<Ie.length;et++){var he=Ie[et].split("=");if(1<he.length){var at=he[0];he=he[1];var ct=at.split("_");k=2<=ct.length&&ct[1]=="type"?k+(at+"="+he+"&"):k+(at+"=redacted&")}}else k=null;else k=S;return"XMLHTTP REQ ("+g+") [attempt "+T+"]: "+d+`
`+f+`
`+k})}function wP(c,d,f,g,T,S,k){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+T+"]: "+d+`
`+f+`
`+S+" "+k})}function Ao(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+TP(c,f)+(g?" "+g:"")})}function DP(c,d){c.info(function(){return"TIMEOUT: "+d})}Ea.prototype.info=function(){};function TP(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var T=g[1];if(Array.isArray(T)&&!(1>T.length)){var S=T[0];if(S!="noop"&&S!="stop"&&S!="close")for(var k=1;k<T.length;k++)T[k]=""}}}}return Ip(f)}catch{return d}}var Hu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Iw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cp;function qu(){}b(qu,wp),qu.prototype.g=function(){return new XMLHttpRequest},qu.prototype.i=function(){return{}},Cp=new qu;function Cr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new ma(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ww}function ww(){this.i=null,this.g="",this.h=!1}var Dw={},bp={};function Sp(c,d,f){c.L=1,c.v=Ku(Yn(d)),c.m=f,c.P=!0,Tw(c,null)}function Tw(c,d){c.F=Date.now(),zu(c),c.A=Yn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),Vw(f.i,"t",g),c.C=0,f=c.j.J,c.h=new ww,c.g=nD(c.j,f?d:null,!c.m),0<c.O&&(c.M=new vP(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var T="readystatechange";Array.isArray(T)||(T&&(fw[0]=T.toString()),T=fw);for(var S=0;S<T.length;S++){var k=sw(f,T[S],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),va(),IP(c.i,c.u,c.A,c.l,c.R,c.m)}Cr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Zn(c)==3?d.j():this.Y(c)},Cr.prototype.Y=function(c){try{if(c==this.g)e:{let ct=Zn(this.g);var d=this.g.Ba();let Mo=this.g.Z();if(!(3>ct)&&(ct!=3||this.g&&(this.h.h||this.g.oa()||zw(this.g)))){this.J||ct!=4||d==7||(d==8||0>=Mo?va(3):va(2)),Ap(this);var f=this.g.Z();this.X=f;t:if(Cw(this)){var g=zw(this.g);c="";var T=g.length,S=Zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Di(this),Ia(this);var k="";break t}this.h.i=new a.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(S&&d==T-1)});g.length=0,this.h.g+=c,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=f==200,wP(this.i,this.u,this.A,this.l,this.R,ct,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ie,et=this.g;if((Ie=et.g?et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Ie)){var he=Ie;break t}}he=null}if(f=he)Ao(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rp(this,f);else{this.o=!1,this.s=3,yt(12),Di(this),Ia(this);break e}}if(this.P){f=!0;let Jt;for(;!this.J&&this.C<k.length;)if(Jt=CP(this,k),Jt==bp){ct==4&&(this.s=4,yt(14),f=!1),Ao(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==Dw){this.s=4,yt(15),Ao(this.i,this.l,k,"[Invalid Chunk]"),f=!1;break}else Ao(this.i,this.l,Jt,null),Rp(this,Jt);if(Cw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||k.length!=0||this.h.h||(this.s=1,yt(16),f=!1),this.o=this.o&&f,!f)Ao(this.i,this.l,k,"[Invalid Chunked Response]"),Di(this),Ia(this);else if(0<k.length&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.ba&&!at.M&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Op(at),at.M=!0,yt(11))}}else Ao(this.i,this.l,k,null),Rp(this,k);ct==4&&Di(this),this.o&&!this.J&&(ct==4?Jw(this.j,this):(this.o=!1,zu(this)))}else $P(this.g),f==400&&0<k.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),Di(this),Ia(this)}}}catch{}finally{}};function Cw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function CP(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?bp:(f=Number(d.substring(f,g)),isNaN(f)?Dw:(g+=1,g+f>d.length?bp:(d=d.slice(g,g+f),c.C=g+f,d)))}Cr.prototype.cancel=function(){this.J=!0,Di(this)};function zu(c){c.S=Date.now()+c.I,bw(c,c.I)}function bw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=_a(m(c.ba,c),d)}function Ap(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Cr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(DP(this.i,this.A),this.L!=2&&(va(),yt(17)),Di(this),this.s=2,Ia(this)):bw(this,this.S-c)};function Ia(c){c.j.G==0||c.J||Jw(c.j,c)}function Di(c){Ap(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,pw(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Rp(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Np(f.h,c))){if(!c.K&&Np(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var T=g;if(T[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Xu(f),Zu(f);else break e;kp(f),yt(18)}}else f.za=T[1],0<f.za-f.T&&37500>T[2]&&f.F&&f.v==0&&!f.C&&(f.C=_a(m(f.Za,f),6e3));if(1>=Rw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ci(f,11)}else if((c.K||f.g==c)&&Xu(f),!G(d))for(T=f.Da.g.parse(d),d=0;d<T.length;d++){let he=T[d];if(f.T=he[0],he=he[1],f.G==2)if(he[0]=="c"){f.K=he[1],f.ia=he[2];let at=he[3];at!=null&&(f.la=at,f.j.info("VER="+f.la));let ct=he[4];ct!=null&&(f.Aa=ct,f.j.info("SVER="+f.Aa));let Mo=he[5];Mo!=null&&typeof Mo=="number"&&0<Mo&&(g=1.5*Mo,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Jt=c.g;if(Jt){let tl=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tl){var S=g.h;S.g||tl.indexOf("spdy")==-1&&tl.indexOf("quic")==-1&&tl.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(Mp(S,S.h),S.h=null))}if(g.D){let Fp=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Fp&&(g.ya=Fp,we(g.I,g.D,Fp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var k=c;if(g.qa=tD(g,g.J?g.ia:null,g.W),k.K){Nw(g.h,k);var Ie=k,et=g.L;et&&(Ie.I=et),Ie.B&&(Ap(Ie),zu(Ie)),g.g=k}else Yw(g);0<f.i.length&&Ju(f)}else he[0]!="stop"&&he[0]!="close"||Ci(f,7);else f.G==3&&(he[0]=="stop"||he[0]=="close"?he[0]=="stop"?Ci(f,7):xp(f):he[0]!="noop"&&f.l&&f.l.ta(he),f.v=0)}}va(4)}catch{}}var bP=class{constructor(c,d){this.g=c,this.map=d}};function Sw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Aw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Rw(c){return c.h?1:c.g?c.g.size:0}function Np(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Mp(c,d){c.g?c.g.add(d):c.h=d}function Nw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Sw.prototype.cancel=function(){if(this.i=Mw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Mw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function SP(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function AP(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function Pw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=AP(c),g=SP(c),T=g.length,S=0;S<T;S++)d.call(void 0,g[S],f&&f[S],c)}var xw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function RP(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),T=null;if(0<=g){var S=c[f].substring(0,g);T=c[f].substring(g+1)}else S=c[f];d(S,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function Ti(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ti){this.h=c.h,Gu(this,c.j),this.o=c.o,this.g=c.g,Wu(this,c.s),this.l=c.l;var d=c.i,f=new Ta;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),kw(this,f),this.m=c.m}else c&&(d=String(c).match(xw))?(this.h=!1,Gu(this,d[1]||"",!0),this.o=wa(d[2]||""),this.g=wa(d[3]||"",!0),Wu(this,d[4]),this.l=wa(d[5]||"",!0),kw(this,d[6]||"",!0),this.m=wa(d[7]||"")):(this.h=!1,this.i=new Ta(null,this.h))}Ti.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Da(d,Ow,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Da(d,Ow,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Da(f,f.charAt(0)=="/"?PP:MP,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Da(f,kP)),c.join("")};function Yn(c){return new Ti(c)}function Gu(c,d,f){c.j=f?wa(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Wu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function kw(c,d,f){d instanceof Ta?(c.i=d,OP(c.i,c.h)):(f||(d=Da(d,xP)),c.i=new Ta(d,c.h))}function we(c,d,f){c.i.set(d,f)}function Ku(c){return we(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function wa(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Da(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,NP),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function NP(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ow=/[#\/\?@]/g,MP=/[#\?:]/g,PP=/[#\?]/g,xP=/[#\?@]/g,kP=/#/g;function Ta(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function br(c){c.g||(c.g=new Map,c.h=0,c.i&&RP(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Ta.prototype,n.add=function(c,d){br(this),this.i=null,c=Ro(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function Fw(c,d){br(c),d=Ro(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Lw(c,d){return br(c),d=Ro(c,d),c.g.has(d)}n.forEach=function(c,d){br(this),this.g.forEach(function(f,g){f.forEach(function(T){c.call(d,T,g,this)},this)},this)},n.na=function(){br(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let T=c[g];for(let S=0;S<T.length;S++)f.push(d[g])}return f},n.V=function(c){br(this);let d=[];if(typeof c=="string")Lw(this,c)&&(d=d.concat(this.g.get(Ro(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return br(this),this.i=null,c=Ro(this,c),Lw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function Vw(c,d,f){Fw(c,d),0<f.length&&(c.i=null,c.g.set(Ro(c,d),M(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let S=encodeURIComponent(String(g)),k=this.V(g);for(g=0;g<k.length;g++){var T=S;k[g]!==""&&(T+="="+encodeURIComponent(String(k[g]))),c.push(T)}}return this.i=c.join("&")};function Ro(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function OP(c,d){d&&!c.j&&(br(c),c.i=null,c.g.forEach(function(f,g){var T=g.toLowerCase();g!=T&&(Fw(this,g),Vw(this,T,f))},c)),c.j=d}function FP(c,d){let f=new Ea;if(a.Image){let g=new Image;g.onload=y(Sr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Sr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(Sr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Sr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function LP(c,d){let f=new Ea,g=new AbortController,T=setTimeout(()=>{g.abort(),Sr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(S=>{clearTimeout(T),S.ok?Sr(f,"TestPingServer: ok",!0,d):Sr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),Sr(f,"TestPingServer: error",!1,d)})}function Sr(c,d,f,g,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),g(f)}catch{}}function VP(){this.g=new EP}function jP(c,d,f){let g=f||"";try{Pw(c,function(T,S){let k=T;l(T)&&(k=Ip(T)),d.push(g+S+"="+encodeURIComponent(k))})}catch(T){throw d.push(g+"type="+encodeURIComponent("_badmap")),T}}function Ca(c){this.l=c.Ub||null,this.j=c.eb||!1}b(Ca,wp),Ca.prototype.g=function(){return new Qu(this.l,this.j)},Ca.prototype.i=(function(c){return function(){return c}})({});function Qu(c,d){st.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Qu,st),n=Qu.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Sa(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ba(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Sa(this)),this.g&&(this.readyState=3,Sa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function jw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ba(this):Sa(this),this.readyState==3&&jw(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,ba(this))},n.Qa=function(c){this.g&&(this.response=c,ba(this))},n.ga=function(){this.g&&ba(this)};function ba(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Sa(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Sa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Qu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Uw(c){let d="";return ve(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Pp(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=Uw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):we(c,d,f))}function Ae(c){st.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Ae,st);var UP=/^https?$/i,BP=["POST","PUT"];n=Ae.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cp.g(),this.v=this.o?gw(this.o):gw(Cp),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(S){Bw(this,S);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var T in g)f.set(T,g[T]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())f.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(S=>S.toLowerCase()=="content-type"),T=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(BP,d,void 0))||g||T||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,k]of f)this.g.setRequestHeader(S,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qw(this),this.u=!0,this.g.send(c),this.u=!1}catch(S){Bw(this,S)}};function Bw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,$w(c),Yu(c)}function $w(c){c.A||(c.A=!0,mt(c,"complete"),mt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,mt(this,"complete"),mt(this,"abort"),Yu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yu(this,!0)),Ae.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Hw(this):this.bb())},n.bb=function(){Hw(this)};function Hw(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Zn(c)!=4||c.Z()!=2)){if(c.u&&Zn(c)==4)dw(c.Ea,0,c);else if(mt(c,"readystatechange"),Zn(c)==4){c.h=!1;try{let k=c.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=k===0){var T=String(c.D).match(xw)[1]||null;!T&&a.self&&a.self.location&&(T=a.self.location.protocol.slice(0,-1)),g=!UP.test(T?T.toLowerCase():"")}f=g}if(f)mt(c,"complete"),mt(c,"success");else{c.m=6;try{var S=2<Zn(c)?c.g.statusText:""}catch{S=""}c.l=S+" ["+c.Z()+"]",$w(c)}}finally{Yu(c)}}}}function Yu(c,d){if(c.g){qw(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||mt(c,"ready");try{f.onreadystatechange=g}catch{}}}function qw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Zn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Zn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),_P(d)}};function zw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function $P(c){let d={};c=(c.g&&2<=Zn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(G(c[g]))continue;var f=D(c[g]);let T=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let S=d[T]||[];d[T]=S,S.push(f)}w(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Aa(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function Gw(c){this.Aa=0,this.i=[],this.j=new Ea,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Aa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Aa("baseRetryDelayMs",5e3,c),this.cb=Aa("retryDelaySeedMs",1e4,c),this.Wa=Aa("forwardChannelMaxRetries",2,c),this.wa=Aa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Sw(c&&c.concurrentRequestLimit),this.Da=new VP,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Gw.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,g){yt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=tD(this,null,this.W),Ju(this)};function xp(c){if(Ww(c),c.G==3){var d=c.U++,f=Yn(c.I);if(we(f,"SID",c.K),we(f,"RID",d),we(f,"TYPE","terminate"),Ra(c,f),d=new Cr(c,c.j,d),d.L=2,d.v=Ku(Yn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=nD(d.j,null),d.g.ea(d.v)),d.F=Date.now(),zu(d)}eD(c)}function Zu(c){c.g&&(Op(c),c.g.cancel(),c.g=null)}function Ww(c){Zu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Xu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Ju(c){if(!Aw(c.h)&&!c.s){c.s=!0;var d=c.Ga;ha||ow(),fa||(ha(),fa=!0),hp.add(d,c),c.B=0}}function HP(c,d){return Rw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=_a(m(c.Ga,c,d),Xw(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let T=new Cr(this,this.j,c),S=this.o;if(this.S&&(S?(S=v(S),I(S,this.S)):S=this.S),this.m!==null||this.O||(T.H=S,S=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Qw(this,T,d),f=Yn(this.I),we(f,"RID",c),we(f,"CVER",22),this.D&&we(f,"X-HTTP-Session-Id",this.D),Ra(this,f),S&&(this.O?d="headers="+encodeURIComponent(String(Uw(S)))+"&"+d:this.m&&Pp(f,this.m,S)),Mp(this.h,T),this.Ua&&we(f,"TYPE","init"),this.P?(we(f,"$req",d),we(f,"SID","null"),T.T=!0,Sp(T,f,null)):Sp(T,f,d),this.G=2}}else this.G==3&&(c?Kw(this,c):this.i.length==0||Aw(this.h)||Kw(this))};function Kw(c,d){var f;d?f=d.l:f=c.U++;let g=Yn(c.I);we(g,"SID",c.K),we(g,"RID",f),we(g,"AID",c.T),Ra(c,g),c.m&&c.o&&Pp(g,c.m,c.o),f=new Cr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Qw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Mp(c.h,f),Sp(f,g,d)}function Ra(c,d){c.H&&ve(c.H,function(f,g){we(d,g,f)}),c.l&&Pw({},function(f,g){we(d,g,f)})}function Qw(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var T=c.i;let S=-1;for(;;){let k=["count="+f];S==-1?0<f?(S=T[0].g,k.push("ofs="+S)):S=0:k.push("ofs="+S);let Ie=!0;for(let et=0;et<f;et++){let he=T[et].g,at=T[et].map;if(he-=S,0>he)S=Math.max(0,T[et].g-100),Ie=!1;else try{jP(at,k,"req"+he+"_")}catch{g&&g(at)}}if(Ie){g=k.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function Yw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;ha||ow(),fa||(ha(),fa=!0),hp.add(d,c),c.v=0}}function kp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=_a(m(c.Fa,c),Xw(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Zw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=_a(m(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),Zu(this),Zw(this))};function Op(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Zw(c){c.g=new Cr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Yn(c.qa);we(d,"RID","rpc"),we(d,"SID",c.K),we(d,"AID",c.T),we(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&we(d,"TO",c.ja),we(d,"TYPE","xmlhttp"),Ra(c,d),c.m&&c.o&&Pp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Ku(Yn(d)),f.m=null,f.P=!0,Tw(f,c)}n.Za=function(){this.C!=null&&(this.C=null,Zu(this),kp(this),yt(19))};function Xu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Jw(c,d){var f=null;if(c.g==d){Xu(c),Op(c),c.g=null;var g=2}else if(Np(c.h,d))f=d.D,Nw(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var T=c.B;g=$u(),mt(g,new Ew(g,f)),Ju(c)}else Yw(c);else if(T=d.s,T==3||T==0&&0<d.X||!(g==1&&HP(c,d)||g==2&&kp(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),T){case 1:Ci(c,5);break;case 4:Ci(c,10);break;case 3:Ci(c,6);break;default:Ci(c,2)}}}function Xw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Ci(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let T=!g;g=new Ti(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Gu(g,"https"),Ku(g),T?FP(g.toString(),f):LP(g.toString(),f)}else yt(2);c.G=0,c.l&&c.l.sa(d),eD(c),Ww(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function eD(c){if(c.G=0,c.ka=[],c.l){let d=Mw(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function tD(c,d,f){var g=f instanceof Ti?Yn(f):new Ti(f);if(g.g!="")d&&(g.g=d+"."+g.g),Wu(g,g.s);else{var T=a.location;g=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var S=new Ti(null);g&&Gu(S,g),d&&(S.g=d),T&&Wu(S,T),f&&(S.l=f),g=S}return f=c.D,d=c.ya,f&&d&&we(g,f,d),we(g,"VER",c.la),Ra(c,g),g}function nD(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ae(new Ca({eb:f})):new Ae(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function rD(){}n=rD.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function el(){}el.prototype.g=function(c,d){return new Rt(c,d)};function Rt(c,d){st.call(this),this.g=new Gw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!G(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!G(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new No(this)}b(Rt,st),Rt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rt.prototype.close=function(){xp(this.g)},Rt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Ip(c),c=f);d.i.push(new bP(d.Ya++,c)),d.G==3&&Ju(d)},Rt.prototype.N=function(){this.g.l=null,delete this.j,xp(this.g),delete this.g,Rt.aa.N.call(this)};function iD(c){Dp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}b(iD,Dp);function oD(){Tp.call(this),this.status=1}b(oD,Tp);function No(c){this.g=c}b(No,rD),No.prototype.ua=function(){mt(this.g,"a")},No.prototype.ta=function(c){mt(this.g,new iD(c))},No.prototype.sa=function(c){mt(this.g,new oD)},No.prototype.ra=function(){mt(this.g,"b")},el.prototype.createWebChannel=el.prototype.g,Rt.prototype.send=Rt.prototype.o,Rt.prototype.open=Rt.prototype.m,Rt.prototype.close=Rt.prototype.close,$_=yr.createWebChannelTransport=function(){return new el},B_=yr.getStatEventTarget=function(){return $u()},U_=yr.Event=wi,pf=yr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hu.NO_ERROR=0,Hu.TIMEOUT=8,Hu.HTTP_ERROR=6,mu=yr.ErrorCode=Hu,Iw.COMPLETE="complete",j_=yr.EventType=Iw,mw.EventType=ya,ya.OPEN="a",ya.CLOSE="b",ya.ERROR="c",ya.MESSAGE="d",st.prototype.listen=st.prototype.K,Us=yr.WebChannel=mw,zH=yr.FetchXmlHttpFactory=Ca,Ae.prototype.listenOnce=Ae.prototype.L,Ae.prototype.getLastError=Ae.prototype.Ka,Ae.prototype.getLastErrorCode=Ae.prototype.Ba,Ae.prototype.getStatus=Ae.prototype.Z,Ae.prototype.getResponseJson=Ae.prototype.Oa,Ae.prototype.getResponseText=Ae.prototype.oa,Ae.prototype.send=Ae.prototype.ea,Ae.prototype.setWithCredentials=Ae.prototype.Ha,V_=yr.XhrIo=Ae}).apply(typeof ff<"u"?ff:typeof self<"u"?self:typeof window<"u"?window:{});var PR="@firebase/firestore",xR="4.8.0";var Ze=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");var aa="11.10.0";var _o=new jn("@firebase/firestore");function Bs(){return _o.logLevel}function L(n,...e){if(_o.logLevel<=se.DEBUG){let t=e.map(MI);_o.debug(`Firestore (${aa}): ${n}`,...t)}}function vr(n,...e){if(_o.logLevel<=se.ERROR){let t=e.map(MI);_o.error(`Firestore (${aa}): ${n}`,...t)}}function mi(n,...e){if(_o.logLevel<=se.WARN){let t=e.map(MI);_o.warn(`Firestore (${aa}): ${n}`,...t)}}function MI(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function $(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,TN(n,r,t)}function TN(n,e,t){let r=`FIRESTORE (${aa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw vr(r),new Error(r)}function ye(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||TN(e,i,r)}function Y(n,e){return n}var A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},O=class extends Vt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var fn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var If=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},W_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ze.UNAUTHENTICATED))}shutdown(){}},K_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Q_=class{constructor(e){this.t=e,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ye(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new fn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new fn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new fn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ye(typeof r.accessToken=="string",31837,{l:r}),new If(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ye(e===null||typeof e=="string",2055,{h:e}),new Ze(e)}},Y_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Z_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Y_(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}},wf=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},J_=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,At(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ye(this.o===void 0,3512);let r=o=>{o.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,L("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new wf(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ye(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new wf(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function GH(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function CN(){return new TextEncoder}var wu=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=GH(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function re(n,e){return n<e?-1:n>e?1:0}function X_(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return re(r,i);{let o=CN(),s=WH(o.encode(kR(n,t)),o.encode(kR(e,t)));return s!==0?s:re(r,i)}}t+=r>65535?2:1}return re(n.length,e.length)}function kR(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function WH(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return re(n[t],e[t]);return re(n.length,e.length)}function Qs(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var OR="__name__",Df=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&$(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&$(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return re(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):X_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mr.fromString(e.substring(4,e.length-2))}},Ce=class n extends Df{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new O(A.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},KH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ut=class n extends Df{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return KH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===OR}static keyField(){return new n([OR])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new O(A.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new O(A.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new O(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new O(A.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var B=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ce.fromString(e))}static fromName(e){return new n(Ce.fromString(e).popFirst(5))}static empty(){return new n(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ce.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ce.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ce(e.slice()))}};function bN(n,e,t){if(!t)throw new O(A.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function QH(n,e,t,r){if(e===!0&&r===!0)throw new O(A.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function FR(n){if(!B.isDocumentKey(n))throw new O(A.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function LR(n){if(B.isDocumentKey(n))throw new O(A.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function SN(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function np(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":$(12329,{type:typeof n})}function pn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new O(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=np(n);throw new O(A.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ze(n,e){let t={typeString:n};return e&&(t.value=e),t}function ku(n,e){if(!SN(n))throw new O(A.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new O(A.INVALID_ARGUMENT,t);return!0}var VR=-62135596800,jR=1e6,Ge=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*jR);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new O(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new O(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<VR)throw new O(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new O(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jR}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ku(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-VR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Ge._jsonSchemaVersion="firestore/timestamp/1.0",Ge._jsonSchema={type:ze("string",Ge._jsonSchemaVersion),seconds:ze("number"),nanoseconds:ze("number")};var ee=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Ge(0,0))}static max(){return new n(new Ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Du=-1,eE=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};eE.UNKNOWN_ID=-1;function YH(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new Ge(t+1,0):new Ge(t,r));return new Eo(i,B.empty(),e)}function ZH(n){return new Eo(n.readTime,n.key,Du)}var Eo=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ee.min(),B.empty(),Du)}static max(){return new n(ee.max(),B.empty(),Du)}};function JH(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=B.comparator(n.documentKey,e.documentKey),t!==0?t:re(n.largestBatchId,e.largestBatchId))}var XH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",tE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function ca(n){if(n.code!==A.FAILED_PRECONDITION||n.message!==XH)throw n;L("LocalStore","Unexpectedly lost primary lease")}var P=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function eq(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ua(n){return n.name==="IndexedDbTransactionError"}var PI=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),xI=-1;function rp(n){return n==null}function Tu(n){return n===0&&1/n==-1/0}function tq(n){return typeof n=="number"&&Number.isInteger(n)&&!Tu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var AN="";function nq(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=UR(e)),e=rq(n.get(t),e);return UR(e)}function rq(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case AN:t+="";break;default:t+=o}}return t}function UR(n){return n+AN+""}var iq="remoteDocuments",RN="owner";var NN="mutationQueues";var MN="mutations";var PN="documentMutations",oq="remoteDocumentsV14";var xN="remoteDocumentGlobal";var kN="targets";var ON="targetDocuments";var FN="targetGlobal",LN="collectionParents";var VN="clientMetadata";var jN="bundles";var UN="namedQueries";var sq="indexConfiguration";var aq="indexState";var cq="indexEntries";var BN="documentOverlays";var uq="globals";var lq=[NN,MN,PN,iq,kN,RN,FN,ON,VN,xN,LN,jN,UN],Ooe=[...lq,BN],dq=[NN,MN,PN,oq,kN,RN,FN,ON,VN,xN,LN,jN,UN,BN],hq=dq,fq=[...hq,sq,aq,cq];var Foe=[...fq,uq];function BR(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ii(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function $N(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Pe=class n{constructor(e,t){this.comparator=e,this.root=t||Hn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Hn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zs(this.root,e,this.comparator,!1)}getReverseIterator(){return new zs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zs(this.root,e,this.comparator,!0)}},zs=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Hn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw $(27949);return e+(this.isRed()?0:1)}};Hn.EMPTY=null,Hn.RED=!0,Hn.BLACK=!1;Hn.EMPTY=new class{constructor(){this.size=0}get key(){throw $(57766)}get value(){throw $(16141)}get color(){throw $(16727)}get left(){throw $(29726)}get right(){throw $(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Hn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Je=class n{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Tf(this.data.getIterator())}getIteratorFrom(e){return new Tf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Tf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Zt=class n{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new n([])}unionWith(e){let t=new Je(Ut.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qs(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Cf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var pt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Cf("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};pt.EMPTY_BYTE_STRING=new pt("");var pq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(n){if(ye(!!n,39018),typeof n=="string"){let e=0,t=pq.exec(n);if(ye(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Te(n.seconds),nanos:Te(n.nanos)}}function Te(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Er(n){return typeof n=="string"?pt.fromBase64String(n):pt.fromUint8Array(n)}var HN="server_timestamp",qN="__type__",zN="__previous_value__",GN="__local_write_time__";function kI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[qN])===null||t===void 0?void 0:t.stringValue)===HN}function ip(n){let e=n.mapValue.fields[zN];return kI(e)?ip(e):e}function Cu(n){let e=_r(n.mapValue.fields[GN].timestampValue);return new Ge(e.seconds,e.nanos)}var nE=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},bf="(default)",Sf=class n{constructor(e,t){this.projectId=e,this.database=t||bf}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===bf}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var OI="__type__",WN="__max__",gf={mapValue:{fields:{__type__:{stringValue:WN}}}},FI="__vector__",Ys="value";function yi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?kI(n)?4:QN(n)?9007199254740991:KN(n)?10:11:$(28295,{value:n})}function Wn(n,e){if(n===e)return!0;let t=yi(n);if(t!==yi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Cu(n).isEqual(Cu(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=_r(i.timestampValue),a=_r(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return Er(i.bytesValue).isEqual(Er(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Te(i.geoPointValue.latitude)===Te(o.geoPointValue.latitude)&&Te(i.geoPointValue.longitude)===Te(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Te(i.integerValue)===Te(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Te(i.doubleValue),a=Te(o.doubleValue);return s===a?Tu(s)===Tu(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return Qs(n.arrayValue.values||[],e.arrayValue.values||[],Wn);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(BR(s)!==BR(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Wn(s[u],a[u])))return!1;return!0})(n,e);default:return $(52216,{left:n})}}function bu(n,e){return(n.values||[]).find(t=>Wn(t,e))!==void 0}function Zs(n,e){if(n===e)return 0;let t=yi(n),r=yi(e);if(t!==r)return re(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return re(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Te(o.integerValue||o.doubleValue),u=Te(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(n,e);case 3:return $R(n.timestampValue,e.timestampValue);case 4:return $R(Cu(n),Cu(e));case 5:return X_(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=Er(o),u=Er(s);return a.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=re(a[l],u[l]);if(h!==0)return h}return re(a.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=re(Te(o.latitude),Te(s.latitude));return a!==0?a:re(Te(o.longitude),Te(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return HR(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p[Ys])===null||a===void 0?void 0:a.arrayValue,b=(u=m[Ys])===null||u===void 0?void 0:u.arrayValue,M=re(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=b?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:HR(y,b)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===gf.mapValue&&s===gf.mapValue)return 0;if(o===gf.mapValue)return 1;if(s===gf.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=X_(u[p],h[p]);if(m!==0)return m;let y=Zs(a[u[p]],l[h[p]]);if(y!==0)return y}return re(u.length,h.length)})(n.mapValue,e.mapValue);default:throw $(23264,{le:t})}}function $R(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return re(n,e);let t=_r(n),r=_r(e),i=re(t.seconds,r.seconds);return i!==0?i:re(t.nanos,r.nanos)}function HR(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Zs(t[i],r[i]);if(o)return o}return re(t.length,r.length)}function Js(n){return rE(n)}function rE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=_r(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Er(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return B.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=rE(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${rE(t.fields[s])}`;return i+"}"})(n.mapValue):$(61005,{value:n})}function vf(n){switch(yi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=ip(n);return e?16+vf(e):16;case 5:return 2*n.stringValue.length;case 6:return Er(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+vf(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Ii(r.fields,(o,s)=>{i+=o.length+vf(s)}),i})(n.mapValue);default:throw $(13486,{value:n})}}function qR(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function iE(n){return!!n&&"integerValue"in n}function LI(n){return!!n&&"arrayValue"in n}function zR(n){return!!n&&"nullValue"in n}function GR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function _f(n){return!!n&&"mapValue"in n}function KN(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[OI])===null||t===void 0?void 0:t.stringValue)===FI}function vu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ii(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=vu(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=vu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function QN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===WN}var Voe={mapValue:{fields:{[OI]:{stringValue:FI},[Ys]:{arrayValue:{}}}}};var jt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!_f(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vu(t)}setAll(e){let t=Ut.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=vu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());_f(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];_f(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ii(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(vu(this.value))}};function YN(n){let e=[];return Ii(n.fields,(t,r)=>{let i=new Ut([t]);if(_f(r)){let o=YN(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Zt(e)}var gn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ee.min(),ee.min(),ee.min(),jt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ee.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ee.min(),ee.min(),jt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ee.min(),ee.min(),jt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Xs=class{constructor(e,t){this.position=e,this.inclusive=t}};function WR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=B.comparator(B.fromName(s.referenceValue),t.key):r=Zs(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function KR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Wn(n.position[t],e.position[t]))return!1;return!0}var Io=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function gq(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Af=class{},qe=class n extends Af{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new sE(e,t,r):t==="array-contains"?new uE(e,r):t==="in"?new lE(e,r):t==="not-in"?new dE(e,r):t==="array-contains-any"?new hE(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new aE(e,r):new cE(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Zs(t,this.value)):t!==null&&yi(this.value)===yi(t)&&this.matchesComparison(Zs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},mn=class n extends Af{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return ZN(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function ZN(n){return n.op==="and"}function JN(n){return mq(n)&&ZN(n)}function mq(n){for(let e of n.filters)if(e instanceof mn)return!1;return!0}function oE(n){if(n instanceof qe)return n.field.canonicalString()+n.op.toString()+Js(n.value);if(JN(n))return n.filters.map(e=>oE(e)).join(",");{let e=n.filters.map(t=>oE(t)).join(",");return`${n.op}(${e})`}}function XN(n,e){return n instanceof qe?(function(r,i){return i instanceof qe&&r.op===i.op&&r.field.isEqual(i.field)&&Wn(r.value,i.value)})(n,e):n instanceof mn?(function(r,i){return i instanceof mn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&XN(s,i.filters[a]),!0):!1})(n,e):void $(19439)}function eM(n){return n instanceof qe?(function(t){return`${t.field.canonicalString()} ${t.op} ${Js(t.value)}`})(n):n instanceof mn?(function(t){return t.op.toString()+" {"+t.getFilters().map(eM).join(" ,")+"}"})(n):"Filter"}var sE=class extends qe{constructor(e,t,r){super(e,t,r),this.key=B.fromName(r.referenceValue)}matches(e){let t=B.comparator(e.key,this.key);return this.matchesComparison(t)}},aE=class extends qe{constructor(e,t){super(e,"in",t),this.keys=tM("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},cE=class extends qe{constructor(e,t){super(e,"not-in",t),this.keys=tM("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function tM(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>B.fromName(r.referenceValue))}var uE=class extends qe{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return LI(t)&&bu(t.arrayValue,this.value)}},lE=class extends qe{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&bu(this.value.arrayValue,t)}},dE=class extends qe{constructor(e,t){super(e,"not-in",t)}matches(e){if(bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!bu(this.value.arrayValue,t)}},hE=class extends qe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!LI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>bu(this.value.arrayValue,r))}};var fE=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function QR(n,e=null,t=[],r=[],i=null,o=null,s=null){return new fE(n,e,t,r,i,o,s)}function VI(n){let e=Y(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>oE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),rp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Js(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Js(r)).join(",")),e.Pe=t}return e.Pe}function jI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!gq(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!XN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!KR(n.startAt,e.startAt)&&KR(n.endAt,e.endAt)}function pE(n){return B.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var vi=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function yq(n,e,t,r,i,o,s,a){return new vi(n,e,t,r,i,o,s,a)}function UI(n){return new vi(n)}function YR(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function nM(n){return n.collectionGroup!==null}function _u(n){let e=Y(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Je(Ut.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Io(o,r))}),t.has(Ut.keyField().canonicalString())||e.Te.push(new Io(Ut.keyField(),r))}return e.Te}function qn(n){let e=Y(n);return e.Ie||(e.Ie=vq(e,_u(n))),e.Ie}function vq(n,e){if(n.limitType==="F")return QR(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Io(i.field,o)});let t=n.endAt?new Xs(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Xs(n.startAt.position,n.startAt.inclusive):null;return QR(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function gE(n,e){let t=n.filters.concat([e]);return new vi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function mE(n,e,t){return new vi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function op(n,e){return jI(qn(n),qn(e))&&n.limitType===e.limitType}function rM(n){return`${VI(qn(n))}|lt:${n.limitType}`}function $s(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>eM(i)).join(", ")}]`),rp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Js(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Js(i)).join(",")),`Target(${r})`})(qn(n))}; limitType=${n.limitType})`}function sp(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):B.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of _u(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=WR(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,_u(r),i)||r.endAt&&!(function(s,a,u){let l=WR(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,_u(r),i))})(n,e)}function _q(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function iM(n){return(e,t)=>{let r=!1;for(let i of _u(n)){let o=Eq(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Eq(n,e,t){let r=n.field.isKeyField()?B.comparator(e.key,t.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Zs(u,l):$(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return $(19790,{direction:n.dir})}}var Ir=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ii(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return $N(this.inner)}size(){return this.innerSize}};var Iq=new Pe(B.comparator);function wr(){return Iq}var oM=new Pe(B.comparator);function yu(...n){let e=oM;for(let t of n)e=e.insert(t.key,t);return e}function sM(n){let e=oM;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function go(){return Eu()}function aM(){return Eu()}function Eu(){return new Ir(n=>n.toString(),(n,e)=>n.isEqual(e))}var wq=new Pe(B.comparator),Dq=new Je(B.comparator);function ue(...n){let e=Dq;for(let t of n)e=e.add(t);return e}var Tq=new Je(re);function Cq(){return Tq}function BI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tu(e)?"-0":e}}function cM(n){return{integerValue:""+n}}function bq(n,e){return tq(e)?cM(e):BI(n,e)}var ea=class{constructor(){this._=void 0}};function Sq(n,e,t){return n instanceof ta?(function(i,o){let s={fields:{[qN]:{stringValue:HN},[GN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&kI(o)&&(o=ip(o)),o&&(s.fields[zN]=o),{mapValue:s}})(t,e):n instanceof wo?lM(n,e):n instanceof Do?dM(n,e):(function(i,o){let s=uM(i,o),a=ZR(s)+ZR(i.Ee);return iE(s)&&iE(i.Ee)?cM(a):BI(i.serializer,a)})(n,e)}function Aq(n,e,t){return n instanceof wo?lM(n,e):n instanceof Do?dM(n,e):t}function uM(n,e){return n instanceof na?(function(r){return iE(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var ta=class extends ea{},wo=class extends ea{constructor(e){super(),this.elements=e}};function lM(n,e){let t=hM(e);for(let r of n.elements)t.some(i=>Wn(i,r))||t.push(r);return{arrayValue:{values:t}}}var Do=class extends ea{constructor(e){super(),this.elements=e}};function dM(n,e){let t=hM(e);for(let r of n.elements)t=t.filter(i=>!Wn(i,r));return{arrayValue:{values:t}}}var na=class extends ea{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function ZR(n){return Te(n.integerValue||n.doubleValue)}function hM(n){return LI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Rq(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof wo&&i instanceof wo||r instanceof Do&&i instanceof Do?Qs(r.elements,i.elements,Wn):r instanceof na&&i instanceof na?Wn(r.Ee,i.Ee):r instanceof ta&&i instanceof ta})(n.transform,e.transform)}var yE=class{constructor(e,t){this.version=e,this.transformResults=t}},zn=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Ef(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var ra=class{};function fM(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Su(n.key,zn.none()):new To(n.key,n.data,zn.none());{let t=n.data,r=jt.empty(),i=new Je(Ut.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Kn(n.key,r,new Zt(i.toArray()),zn.none())}}function Nq(n,e,t){n instanceof To?(function(i,o,s){let a=i.value.clone(),u=XR(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof Kn?(function(i,o,s){if(!Ef(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=XR(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(pM(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function Iu(n,e,t,r){return n instanceof To?(function(o,s,a,u){if(!Ef(o.precondition,s))return a;let l=o.value.clone(),h=eN(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof Kn?(function(o,s,a,u){if(!Ef(o.precondition,s))return a;let l=eN(o.fieldTransforms,u,s),h=s.data;return h.setAll(pM(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,a){return Ef(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function Mq(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=uM(r.transform,i||null);o!=null&&(t===null&&(t=jt.empty()),t.set(r.field,o))}return t||null}function JR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Qs(r,i,(o,s)=>Rq(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var To=class extends ra{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Kn=class extends ra{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function pM(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function XR(n,e,t){let r=new Map;ye(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Aq(s,a,t[i]))}return r}function eN(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,Sq(o,s,e))}return r}var Su=class extends ra{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},vE=class extends ra{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var _E=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&Nq(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Iu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Iu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=aM();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=fM(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ue())}isEqual(e){return this.batchId===e.batchId&&Qs(this.mutations,e.mutations,(t,r)=>JR(t,r))&&Qs(this.baseMutations,e.baseMutations,(t,r)=>JR(t,r))}},EE=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ye(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return wq})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var IE=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var wE=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var $e,de;function Pq(n){switch(n){case A.OK:return $(64938);case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0;default:return $(15467,{code:n})}}function gM(n){if(n===void 0)return vr("GRPC error has no .code"),A.UNKNOWN;switch(n){case $e.OK:return A.OK;case $e.CANCELLED:return A.CANCELLED;case $e.UNKNOWN:return A.UNKNOWN;case $e.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case $e.INTERNAL:return A.INTERNAL;case $e.UNAVAILABLE:return A.UNAVAILABLE;case $e.UNAUTHENTICATED:return A.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case $e.NOT_FOUND:return A.NOT_FOUND;case $e.ALREADY_EXISTS:return A.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return A.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case $e.ABORTED:return A.ABORTED;case $e.OUT_OF_RANGE:return A.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return A.UNIMPLEMENTED;case $e.DATA_LOSS:return A.DATA_LOSS;default:return $(39323,{code:n})}}(de=$e||($e={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";var tN=null;var xq=new mr([4294967295,4294967295],0);function nN(n){let e=CN().encode(n),t=new L_;return t.update(e),new Uint8Array(t.digest())}function rN(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new mr([t,r],0),new mr([i,o],0)]}var DE=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new mo(`Invalid padding: ${t}`);if(r<0)throw new mo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new mo(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new mo(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=mr.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(mr.fromNumber(r)));return i.compare(xq)===1&&(i=new mr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=nN(e),[r,i]=rN(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=nN(e),[r,i]=rN(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},mo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Rf=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Au.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ee.min(),i,new Pe(re),wr(),ue())}},Au=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ue(),ue(),ue())}};var Gs=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},Nf=class{constructor(e,t){this.targetId=e,this.De=t}},Mf=class{constructor(e,t,r=pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Pf=class{constructor(){this.ve=0,this.Ce=iN(),this.Fe=pt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ue(),t=ue(),r=ue();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:$(38017,{changeType:o})}}),new Au(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=iN()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ye(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},TE=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=wr(),this.je=mf(),this.Je=mf(),this.He=new Pe(re)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:$(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(pE(o))if(r===0){let s=new B(o.path);this.Xe(t,s,gn.newNoDocument(s,ee.min()))}else ye(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}tN?.ct((function(h,p,m,y,b){var M,R,F,G,W,Ee;let gt={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},ve=p.unchangedNames;return ve&&(gt.bloomFilter={applied:b===0,hashCount:(M=ve?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(G=(F=(R=ve?.bits)===null||R===void 0?void 0:R.bitmap)===null||F===void 0?void 0:F.length)!==null&&G!==void 0?G:0,padding:(Ee=(W=ve?.bits)===null||W===void 0?void 0:W.padding)!==null&&Ee!==void 0?Ee:0,mightContain:w=>{var v;return(v=y?.mightContain(w))!==null&&v!==void 0&&v}}),gt})(s,e.De,this.We.lt(),a,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Er(r).toUint8Array()}catch(u){if(u instanceof Cf)return mi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new DE(s,i,o)}catch(u){return mi(u instanceof mo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&pE(a.target)){let u=new B(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,gn.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=ue();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new Rf(e,t,this.He,this.ze,r);return this.ze=wr(),this.je=mf(),this.Je=mf(),this.He=new Pe(re),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Pf,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Je(re),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Je(re),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||L("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Pf),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function mf(){return new Pe(B.comparator)}function iN(){return new Pe(B.comparator)}var kq={asc:"ASCENDING",desc:"DESCENDING"},Oq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Fq={and:"AND",or:"OR"},CE=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function bE(n,e){return n.useProto3Json||rp(e)?e:{value:e}}function xf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mM(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Lq(n,e){return xf(n,e.toTimestamp())}function Gn(n){return ye(!!n,49232),ee.fromTimestamp((function(t){let r=_r(t);return new Ge(r.seconds,r.nanos)})(n))}function $I(n,e){return SE(n,e).canonicalString()}function SE(n,e){let t=(function(i){return new Ce(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function yM(n){let e=Ce.fromString(n);return ye(wM(e),10190,{key:e.toString()}),e}function AE(n,e){return $I(n.databaseId,e.path)}function H_(n,e){let t=yM(e);if(t.get(1)!==n.databaseId.projectId)throw new O(A.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new O(A.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new B(_M(t))}function vM(n,e){return $I(n.databaseId,e)}function Vq(n){let e=yM(n);return e.length===4?Ce.emptyPath():_M(e)}function RE(n){return new Ce(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function _M(n){return ye(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function oN(n,e,t){return{name:AE(n,e),fields:t.value.mapValue.fields}}function jq(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:$(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(ye(h===void 0||typeof h=="string",58123),pt.fromBase64String(h||"")):(ye(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),pt.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?A.UNKNOWN:gM(l.code);return new O(h,l.message||"")})(s);t=new Mf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=H_(n,r.document.name),o=Gn(r.document.updateTime),s=r.document.createTime?Gn(r.document.createTime):ee.min(),a=new jt({mapValue:{fields:r.document.fields}}),u=gn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new Gs(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=H_(n,r.document),o=r.readTime?Gn(r.readTime):ee.min(),s=gn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Gs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=H_(n,r.document),o=r.removedTargetIds||[];t=new Gs([],o,i,null)}else{if(!("filter"in e))return $(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new wE(i,o),a=r.targetId;t=new Nf(a,s)}}return t}function Uq(n,e){let t;if(e instanceof To)t={update:oN(n,e.key,e.value)};else if(e instanceof Su)t={delete:AE(n,e.key)};else if(e instanceof Kn)t={update:oN(n,e.key,e.data),updateMask:Qq(e.fieldMask)};else{if(!(e instanceof vE))return $(16599,{Rt:e.type});t={verify:AE(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof ta)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof wo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Do)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof na)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw $(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:Lq(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:$(27497)})(n,e.precondition)),t}function Bq(n,e){return n&&n.length>0?(ye(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?Gn(i.updateTime):Gn(o);return s.isEqual(ee.min())&&(s=Gn(o)),new yE(s,i.transformResults||[])})(t,e))):[]}function $q(n,e){return{documents:[vM(n,e.path)]}}function Hq(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=vM(n,i);let o=(function(l){if(l.length!==0)return IM(mn.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(m){return{field:Hs(m.field),direction:Gq(m.dir)}})(h))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=bE(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:t,parent:i}}function qq(n){let e=Vq(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){ye(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=(function(p){let m=EM(p);return m instanceof mn&&JN(m)?m.getFilters():[m]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(m=>(function(b){return new Io(qs(b.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(m))})(t.orderBy));let a=null;t.limit&&(a=(function(p){let m;return m=typeof p=="object"?p.value:p,rp(m)?null:m})(t.limit));let u=null;t.startAt&&(u=(function(p){let m=!!p.before,y=p.values||[];return new Xs(y,m)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let m=!p.before,y=p.values||[];return new Xs(y,m)})(t.endAt)),yq(e,i,s,o,a,"F",u,l)}function zq(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function EM(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=qs(t.unaryFilter.field);return qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=qs(t.unaryFilter.field);return qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=qs(t.unaryFilter.field);return qe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=qs(t.unaryFilter.field);return qe.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $(61313);default:return $(60726)}})(n):n.fieldFilter!==void 0?(function(t){return qe.create(qs(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $(58110);default:return $(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return mn.create(t.compositeFilter.filters.map(r=>EM(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return $(1026)}})(t.compositeFilter.op))})(n):$(30097,{filter:n})}function Gq(n){return kq[n]}function Wq(n){return Oq[n]}function Kq(n){return Fq[n]}function Hs(n){return{fieldPath:n.canonicalString()}}function qs(n){return Ut.fromServerFormat(n.fieldPath)}function IM(n){return n instanceof qe?(function(t){if(t.op==="=="){if(GR(t.value))return{unaryFilter:{field:Hs(t.field),op:"IS_NAN"}};if(zR(t.value))return{unaryFilter:{field:Hs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(GR(t.value))return{unaryFilter:{field:Hs(t.field),op:"IS_NOT_NAN"}};if(zR(t.value))return{unaryFilter:{field:Hs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hs(t.field),op:Wq(t.op),value:t.value}}})(n):n instanceof mn?(function(t){let r=t.getFilters().map(i=>IM(i));return r.length===1?r[0]:{compositeFilter:{op:Kq(t.op),filters:r}}})(n):$(54877,{filter:n})}function Qq(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function wM(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Ru=class n{constructor(e,t,r,i,o=ee.min(),s=ee.min(),a=pt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var NE=class{constructor(e){this.gt=e}};function Yq(n){let e=qq({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?mE(e,e.limit,"L"):e}var kf=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Te(e.integerValue));else if("doubleValue"in e){let r=Te(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Tu(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=_r(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Er(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?QN(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):KN(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):$(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=Ys,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Te(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),B.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};kf.Ut=new kf;var ME=class{constructor(){this.Dn=new PE}addToCollectionParentIndex(e,t){return this.Dn.add(t),P.resolve()}getCollectionParents(e,t){return P.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return P.resolve()}deleteFieldIndex(e,t){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,t){return P.resolve()}getDocumentsMatchingTarget(e,t){return P.resolve(null)}getIndexType(e,t){return P.resolve(0)}getFieldIndexes(e,t){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,t){return P.resolve(Eo.min())}getMinOffsetFromCollectionGroup(e,t){return P.resolve(Eo.min())}updateCollectionGroup(e,t,r){return P.resolve()}updateIndexEntries(e,t){return P.resolve()}},PE=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Je(Ce.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Je(Ce.comparator)).toArray()}};var joe=new Uint8Array(0);var sN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DM=41943040,Yt=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Yt.DEFAULT_COLLECTION_PERCENTILE=10,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yt.DEFAULT=new Yt(DM,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yt.DISABLED=new Yt(-1,0,0);var Nu=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var aN="LruGarbageCollector",Zq=1048576;function cN([n,e],[t,r]){let i=re(n,t);return i===0?re(e,r):i}var xE=class{constructor(e){this.Tr=e,this.buffer=new Je(cN),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();cN(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},kE=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){L(aN,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ua(t)?L(aN,"Ignoring IndexedDB error during garbage collection: ",t):await ca(t)}await this.Rr(3e5)})}},OE=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return P.resolve(PI.ue);let r=new xE(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(L("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(sN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(L("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sN):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(L("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Bs()<=se.DEBUG&&L("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function Jq(n,e){return new OE(n,e)}var FE=class{constructor(){this.changes=new Ir(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?P.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var LE=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var VE=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Iu(r.mutation,i,Zt.empty(),Ge.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ue()){let i=go();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=yu();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=go();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ue()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=wr(),s=Eu(),a=(function(){return Eu()})();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Kn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Iu(h.mutation,l,h.mutation.getFieldMask(),Ge.now())):s.set(l.key,Zt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new LE(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Eu(),i=new Pe((s,a)=>s-a),o=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||Zt.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ue()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=aM();h.forEach(m=>{if(!o.has(m)){let y=fM(t.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return B.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):nM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):P.resolve(go()),a=Du,u=o;return s.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ue())).next(h=>({batchId:a,changes:sM(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new B(t)).next(r=>{let i=yu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=yu();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,u=>{let l=(function(p,m){return new vi(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,gn.newInvalidDocument(h)))});let a=yu();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Iu(h.mutation,l,Zt.empty(),Ge.now()),sp(t,l)&&(a=a.insert(u,l))}),a})}};var jE=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return P.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Gn(i.createTime)}})(t)),P.resolve()}getNamedQuery(e,t){return P.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:Yq(i.bundledQuery),readTime:Gn(i.readTime)}})(t)),P.resolve()}};var UE=class{constructor(){this.overlays=new Pe(B.comparator),this.kr=new Map}getOverlay(e,t){return P.resolve(this.overlays.get(t))}getOverlays(e,t){let r=go();return P.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),P.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),P.resolve()}getOverlaysForCollection(e,t,r){let i=go(),o=t.length+1,s=new B(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Pe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=go(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=go(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new IE(t,r));let o=this.kr.get(t);o===void 0&&(o=ue(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var BE=class{constructor(){this.sessionToken=pt.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,P.resolve()}};var Mu=class{constructor(){this.qr=new Je(He.Qr),this.$r=new Je(He.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new He(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new He(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new B(new Ce([])),r=new He(t,e),i=new He(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new B(new Ce([])),r=new He(t,e),i=new He(t,e+1),o=ue();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new He(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},He=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return B.comparator(e.key,t.key)||re(e.Hr,t.Hr)}static Ur(e,t){return re(e.Hr,t.Hr)||B.comparator(e.key,t.key)}};var $E=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Je(He.Qr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new _E(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new He(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,t){return P.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?xI:this.er-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new He(t,0),i=new He(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Je(re);return t.forEach(i=>{let o=new He(i,0),s=new He(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),P.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;B.isDocumentKey(o)||(o=o.child(""));let s=new He(new B(o),0),a=new Je(re);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),P.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){ye(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return P.forEach(t.mutations,i=>{let o=new He(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new He(t,0),i=this.Yr.firstAfterOrEqual(r);return P.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var HE=class{constructor(e){this.ni=e,this.docs=(function(){return new Pe(B.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return P.resolve(r?r.document.mutableCopy():gn.newInvalidDocument(t))}getEntries(e,t){let r=wr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():gn.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=wr(),s=t.path,a=new B(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||JH(ZH(h),r)<=0||(i.has(h.key)||sp(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,t,r,i){$(9500)}ri(e,t){return P.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new qE(this)}getSize(e){return P.resolve(this.size)}},qE=class extends FE{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),P.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var zE=class{constructor(e){this.persistence=e,this.ii=new Ir(t=>VI(t),jI),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.si=0,this.oi=new Mu,this.targetCount=0,this._i=Nu.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),P.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Nu(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,P.resolve()}updateTargetData(e,t){return this.hr(t),P.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return P.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),P.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),P.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return P.resolve(r)}containsKey(e,t){return P.resolve(this.oi.containsKey(t))}};var Of=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new PI(0),this.ci=!1,this.ci=!0,this.li=new BE,this.referenceDelegate=e(this),this.hi=new zE(this),this.indexManager=new ME,this.remoteDocumentCache=(function(i){return new HE(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new NE(t),this.Ti=new jE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new UE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new $E(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){L("MemoryPersistence","Starting transaction:",e);let i=new GE(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return P.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},GE=class extends tE{constructor(e){super(),this.currentSequenceNumber=e}},WE=class n{constructor(e){this.persistence=e,this.Ai=new Mu,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw $(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),P.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),P.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.mi,r=>{let i=B.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,ee.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return P.or([()=>P.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},Ff=class n{constructor(e,t){this.persistence=e,this.gi=new Ir(r=>nq(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Jq(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return P.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return P.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?P.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,ee.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),P.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),P.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=vf(e.data.value)),t}Sr(e,t,r){return P.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var KE=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=ue(),i=ue();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var QE=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var YE=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return o0()?8:eq(Ye())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new QE;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(Bs()<=se.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",$s(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),P.resolve()):(Bs()<=se.DEBUG&&L("QueryEngine","Query:",$s(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Bs()<=se.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",$s(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qn(t))):P.resolve())}ps(e,t){if(YR(t))return P.resolve(null);let r=qn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=mE(t,null,"F"),r=qn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ue(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,a);return this.Ds(t,l,s,u.readTime)?this.ps(e,mE(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return YR(t)||i.isEqual(ee.min())?P.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?P.resolve(null):(Bs()<=se.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$s(t)),this.vs(e,s,t,YH(i,Du)).next(a=>a))})}bs(e,t){let r=new Je(iM(e));return t.forEach((i,o)=>{sp(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return Bs()<=se.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",$s(t)),this.gs.getDocumentsMatchingQuery(e,t,Eo.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var HI="LocalStore",Xq=3e8,ZE=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Pe(re),this.Ms=new Ir(o=>VI(o),jI),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VE(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function e4(n,e,t,r){return new ZE(n,e,t,r)}async function TM(n,e){let t=Y(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ue();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})}function t4(n,e){let t=Y(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,h){let p=l.batch,m=p.keys(),y=P.resolve();return m.forEach(b=>{y=y.next(()=>h.getEntry(u,b)).next(M=>{let R=l.docVersions.get(b);ye(R!==null,48541),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=ue();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function CM(n){let e=Y(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function n4(n,e){let t=Y(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(t.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(pt.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(M,R,F){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=Xq?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(m,y,h)&&a.push(t.hi.updateTargetData(o,y))});let u=wr(),l=ue();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(r4(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(ee.min())){let h=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Fs=i,o))}function r4(n,e,t){let r=ue(),i=ue();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=wr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ee.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):L(HI,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function i4(n,e){let t=Y(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=xI),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function o4(n,e){let t=Y(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new Ru(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}async function JE(n,e,t){let r=Y(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ua(s))throw s;L(HI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function uN(n,e,t){let r=Y(n),i=ee.min(),o=ue();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=Y(u),m=p.Ms.get(h);return m!==void 0?P.resolve(p.Fs.get(m)):p.hi.getTargetData(l,h)})(r,s,qn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:ee.min(),t?o:ue())).next(a=>(s4(r,_q(e),a),{documents:a,qs:o})))}function s4(n,e,t){let r=n.xs.get(e)||ee.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var Lf=class{constructor(){this.activeTargetIds=Cq()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var XE=class{constructor(){this.Fo=new Lf,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Lf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var eI=class{xo(e){}shutdown(){}};var lN="ConnectivityMonitor",Vf=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){L(lN,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){L(lN,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var yf=null;function tI(){return yf===null?yf=(function(){return 268435456+Math.round(2147483648*Math.random())})():yf++,"0x"+yf.toString(16)}var q_="RestConnection",a4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},nI=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===bf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=tI(),a=this.Go(e,t.toUriEncodedString());L(q_,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=ti(l);return this.jo(e,a,u,r,h).then(p=>(L(q_,`Received RPC '${e}' ${s}: `,p),p),p=>{throw mi(q_,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+aa})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=a4[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var rI=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var ft="WebChannelConnection",iI=class extends nI{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=tI();return new Promise((a,u)=>{let l=new V_;l.setWithCredentials(!0),l.listenOnce(j_.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case mu.NO_ERROR:let p=l.getResponseJson();L(ft,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case mu.TIMEOUT:L(ft,`RPC '${e}' ${s} timed out`),u(new O(A.DEADLINE_EXCEEDED,"Request time out"));break;case mu.HTTP_ERROR:let m=l.getStatus();if(L(ft,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let b=y?.error;if(b&&b.status&&b.message){let M=(function(F){let G=F.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(G)>=0?G:A.UNKNOWN})(b.status);u(new O(M,b.message))}else u(new O(A.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new O(A.UNAVAILABLE,"Connection failed."));break;default:$(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{L(ft,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);L(ft,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}P_(e,t,r){let i=tI(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=$_(),a=B_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");L(ft,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let m=!1,y=!1,b=new rI({Ho:R=>{y?L(ft,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(L(ft,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),L(ft,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Yo:()=>p.close()}),M=(R,F,G)=>{R.listen(F,W=>{try{G(W)}catch(Ee){setTimeout(()=>{throw Ee},0)}})};return M(p,Us.EventType.OPEN,()=>{y||(L(ft,`RPC '${e}' stream ${i} transport opened.`),b.s_())}),M(p,Us.EventType.CLOSE,()=>{y||(y=!0,L(ft,`RPC '${e}' stream ${i} transport closed`),b.__(),this.I_(p))}),M(p,Us.EventType.ERROR,R=>{y||(y=!0,mi(ft,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),b.__(new O(A.UNAVAILABLE,"The operation could not be completed")))}),M(p,Us.EventType.MESSAGE,R=>{var F;if(!y){let G=R.data[0];ye(!!G,16349);let W=G,Ee=W?.error||((F=W[0])===null||F===void 0?void 0:F.error);if(Ee){L(ft,`RPC '${e}' stream ${i} received error:`,Ee);let gt=Ee.status,ve=(function(E){let I=$e[E];if(I!==void 0)return gM(I)})(gt),w=Ee.message;ve===void 0&&(ve=A.INTERNAL,w="Unknown error status: "+gt+" with message "+Ee.message),y=!0,b.__(new O(ve,w)),p.close()}else L(ft,`RPC '${e}' stream ${i} received:`,G),b.a_(G)}}),M(a,U_.STAT_EVENT,R=>{R.stat===pf.PROXY?L(ft,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===pf.NOPROXY&&L(ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.o_()},0),b}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function z_(){return typeof document<"u"?document:null}function ap(n){return new CE(n,!0)}var jf=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var dN="PersistentStream",Uf=class{constructor(e,t,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new jf(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===A.RESOURCE_EXHAUSTED?(vr(t.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===A.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new O(A.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return L(dN,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(L(dN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},oI=class extends Uf{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=jq(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ee.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?Gn(s.readTime):ee.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=RE(this.serializer),t.addTarget=(function(o,s){let a,u=s.target;if(a=pE(u)?{documents:$q(o,u)}:{query:Hq(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=mM(o,s.resumeToken);let l=bE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ee.min())>0){a.readTime=xf(o,s.snapshotVersion.toTimestamp());let l=bE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=zq(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=RE(this.serializer),t.removeTarget=e,this.k_(t)}},sI=class extends Uf{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=Bq(e.writeResults,e.commitTime),r=Gn(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=RE(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>Uq(this.serializer,r))};this.k_(t)}};var aI=class{},cI=class extends aI{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new O(A.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,SE(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new O(A.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,SE(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new O(A.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},uI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(vr(t),this._a=!1):L("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Co="RemoteStore",lI=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(async()=>{So(this)&&(L(Co,"Restarting streams for network reachability change."),await(async function(u){let l=Y(u);l.Ia.add(4),await Ou(l),l.Aa.set("Unknown"),l.Ia.delete(4),await cp(l)})(this))})}),this.Aa=new uI(r,i)}};async function cp(n){if(So(n))for(let e of n.da)await e(!0)}async function Ou(n){for(let e of n.da)await e(!1)}function bM(n,e){let t=Y(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),WI(t)?GI(t):la(t).x_()&&zI(t,e))}function qI(n,e){let t=Y(n),r=la(t);t.Ta.delete(e),r.x_()&&SM(t,e),t.Ta.size===0&&(r.x_()?r.B_():So(t)&&t.Aa.set("Unknown"))}function zI(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}la(n).H_(e)}function SM(n,e){n.Ra.$e(e),la(n).Y_(e)}function GI(n){n.Ra=new TE({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),la(n).start(),n.Aa.aa()}function WI(n){return So(n)&&!la(n).M_()&&n.Ta.size>0}function So(n){return Y(n).Ia.size===0}function AM(n){n.Ra=void 0}async function c4(n){n.Aa.set("Online")}async function u4(n){n.Ta.forEach((e,t)=>{zI(n,e)})}async function l4(n,e){AM(n),WI(n)?(n.Aa.la(e),GI(n)):n.Aa.set("Unknown")}async function d4(n,e,t){if(n.Aa.set("Online"),e instanceof Mf&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})(n,e)}catch(r){L(Co,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bf(n,r)}else if(e instanceof Gs?n.Ra.Ye(e):e instanceof Nf?n.Ra.it(e):n.Ra.et(e),!t.isEqual(ee.min()))try{let r=await CM(n.localStore);t.compareTo(r)>=0&&await(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(pt.EMPTY_BYTE_STRING,h.snapshotVersion)),SM(o,u);let p=new Ru(h.target,u,l,h.sequenceNumber);zI(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t)}catch(r){L(Co,"Failed to raise snapshot:",r),await Bf(n,r)}}async function Bf(n,e,t){if(!ua(e))throw e;n.Ia.add(1),await Ou(n),n.Aa.set("Offline"),t||(t=()=>CM(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{L(Co,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await cp(n)})}function RM(n,e){return e().catch(t=>Bf(n,t,e))}async function up(n){let e=Y(n),t=_i(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:xI;for(;h4(e);)try{let i=await i4(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,f4(e,i)}catch(i){await Bf(e,i)}NM(e)&&MM(e)}function h4(n){return So(n)&&n.Pa.length<10}function f4(n,e){n.Pa.push(e);let t=_i(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function NM(n){return So(n)&&!_i(n).M_()&&n.Pa.length>0}function MM(n){_i(n).start()}async function p4(n){_i(n).na()}async function g4(n){let e=_i(n);for(let t of n.Pa)e.X_(t.mutations)}async function m4(n,e,t){let r=n.Pa.shift(),i=EE.from(r,e,t);await RM(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await up(n)}async function y4(n,e){e&&_i(n).Z_&&await(async function(r,i){if((function(s){return Pq(s)&&s!==A.ABORTED})(i.code)){let o=r.Pa.shift();_i(r).N_(),await RM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await up(r)}})(n,e),NM(n)&&MM(n)}async function hN(n,e){let t=Y(n);t.asyncQueue.verifyOperationInProgress(),L(Co,"RemoteStore received new credentials");let r=So(t);t.Ia.add(3),await Ou(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await cp(t)}async function v4(n,e){let t=Y(n);e?(t.Ia.delete(2),await cp(t)):e||(t.Ia.add(2),await Ou(t),t.Aa.set("Unknown"))}function la(n){return n.Va||(n.Va=(function(t,r,i){let o=Y(t);return o.ia(),new oI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:c4.bind(null,n),e_:u4.bind(null,n),n_:l4.bind(null,n),J_:d4.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),WI(n)?GI(n):n.Aa.set("Unknown")):(await n.Va.stop(),AM(n))})),n.Va}function _i(n){return n.ma||(n.ma=(function(t,r,i){let o=Y(t);return o.ia(),new sI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:p4.bind(null,n),n_:y4.bind(null,n),ea:g4.bind(null,n),ta:m4.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await up(n)):(await n.ma.stop(),n.Pa.length>0&&(L(Co,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}var dI=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new fn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new O(A.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function KI(n,e){if(vr("AsyncQueue",`${e}: ${n}`),ua(n))return new O(A.UNAVAILABLE,`${e}: ${n}`);throw n}var $f=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||B.comparator(t.key,r.key):(t,r)=>B.comparator(t.key,r.key),this.keyedMap=yu(),this.sortedSet=new Pe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Hf=class{constructor(){this.fa=new Pe(B.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):$(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},ia=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,$f.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&op(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var hI=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},fI=class{constructor(){this.queries=fN(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=Y(t),o=i.queries;i.queries=fN(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new O(A.ABORTED,"Firestore shutting down"))}};function fN(){return new Ir(n=>rM(n),op)}async function PM(n,e){let t=Y(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new hI,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await t.onListen(i,!0);break;case 1:o.ya=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){let a=KI(s,`Initialization of query '${$s(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&QI(t)}async function xM(n,e){let t=Y(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function _4(n,e){let t=Y(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&QI(t)}function E4(n,e,t){let r=Y(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function QI(n){n.Da.forEach(e=>{e.next()})}var pI,pN;(pN=pI||(pI={})).Fa="default",pN.Cache="cache";var qf=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ia(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==pI.Cache}};var zf=class{constructor(e){this.key=e}},Gf=class{constructor(e){this.key=e}},gI=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ue(),this.mutatedKeys=ue(),this.Xa=iM(e),this.eu=new $f(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new Hf,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=sp(this.query,p)?p:null,b=!!m&&this.mutatedKeys.has(m.key),M=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?b!==M&&(r.track({type:3,doc:y}),R=!0):this.iu(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=M?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>(function(y,b){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $(20277,{At:R})}};return M(y)-M(b)})(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new ia(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Hf,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=ue(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new Gf(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new zf(r))}),t}uu(e){this.Ha=e.qs,this.Za=ue();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return ia.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},YI="SyncEngine",mI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},yI=class{constructor(e){this.key=e,this.lu=!1}},vI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Ir(a=>rM(a),op),this.Tu=new Map,this.Iu=new Set,this.du=new Pe(B.comparator),this.Eu=new Map,this.Au=new Mu,this.Ru={},this.Vu=new Map,this.mu=Nu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};async function I4(n,e,t=!0){let r=jM(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await kM(r,e,t,!0),i}async function w4(n,e){let t=jM(n);await kM(t,e,!0,!1)}async function kM(n,e,t,r){let i=await o4(n.localStore,qn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=await D4(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&bM(n.remoteStore,i),a}async function D4(n,e,t,r,i){n.gu=(p,m,y)=>(async function(M,R,F,G){let W=R.view.nu(F);W.Ds&&(W=await uN(M.localStore,R.query,!1).then(({documents:w})=>R.view.nu(w,W)));let Ee=G&&G.targetChanges.get(R.targetId),gt=G&&G.targetMismatches.get(R.targetId)!=null,ve=R.view.applyChanges(W,M.isPrimaryClient,Ee,gt);return mN(M,R.targetId,ve._u),ve.snapshot})(n,p,m,y);let o=await uN(n.localStore,e,!0),s=new gI(e,o.qs),a=s.nu(o.documents),u=Au.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);mN(n,t,l._u);let h=new mI(e,t,s);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot}async function T4(n,e,t){let r=Y(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!op(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await JE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&qI(r.remoteStore,i.targetId),_I(r,i.targetId)}).catch(ca)):(_I(r,i.targetId),await JE(r.localStore,i.targetId,!0))}async function C4(n,e){let t=Y(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),qI(t.remoteStore,r.targetId))}async function b4(n,e,t){let r=x4(n);try{let i=await(function(s,a){let u=Y(s),l=Ge.now(),h=a.reduce((y,b)=>y.add(b.key),ue()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=wr(),M=ue();return u.Os.getEntries(y,h).next(R=>{b=R,b.forEach((F,G)=>{G.isValidDocument()||(M=M.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,b)).next(R=>{p=R;let F=[];for(let G of a){let W=Mq(G,p.get(G.key).overlayedDocument);W!=null&&F.push(new Kn(G.key,W,YN(W.value.mapValue),zn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,F,a)}).next(R=>{m=R;let F=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(y,R.batchId,F)})}).then(()=>({batchId:m.batchId,changes:sM(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new Pe(re)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,t),await Fu(r,i.changes),await up(r.remoteStore)}catch(i){let o=KI(i,"Failed to persist write");t.reject(o)}}async function OM(n,e){let t=Y(n);try{let r=await n4(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?ye(s.lu,14607):i.removedDocuments.size>0&&(ye(s.lu,42227),s.lu=!1))}),await Fu(t,r,e)}catch(r){await ca(r)}}function gN(n,e,t){let r=Y(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=Y(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.wa)m.va(a)&&(l=!0)}),l&&QI(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function S4(n,e,t){let r=Y(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Pe(B.comparator);s=s.insert(o,gn.newNoDocument(o,ee.min()));let a=ue().add(o),u=new Rf(ee.min(),new Map,new Pe(re),s,a);await OM(r,u),r.du=r.du.remove(o),r.Eu.delete(e),ZI(r)}else await JE(r.localStore,e,!1).then(()=>_I(r,e,t)).catch(ca)}async function A4(n,e){let t=Y(n),r=e.batch.batchId;try{let i=await t4(t.localStore,e);LM(t,r,null),FM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Fu(t,i)}catch(i){await ca(i)}}async function R4(n,e,t){let r=Y(n);try{let i=await(function(s,a){let u=Y(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(ye(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})})(r.localStore,e);LM(r,e,t),FM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Fu(r,i)}catch(i){await ca(i)}}function FM(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function LM(n,e,t){let r=Y(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function _I(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||VM(n,r)})}function VM(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(qI(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),ZI(n))}function mN(n,e,t){for(let r of t)r instanceof zf?(n.Au.addReference(r.key,e),N4(n,r)):r instanceof Gf?(L(YI,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||VM(n,r.key)):$(19791,{yu:r})}function N4(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(L(YI,"New document in limbo: "+t),n.Iu.add(r),ZI(n))}function ZI(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new B(Ce.fromString(e)),r=n.mu.next();n.Eu.set(r,new yI(t)),n.du=n.du.insert(t,r),bM(n.remoteStore,new Ru(qn(UI(t.path)),r,"TargetPurposeLimboResolution",PI.ue))}}async function Fu(n,e,t){let r=Y(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=KE.Es(u.targetId,l);o.push(p)}}))}),await Promise.all(s),r.hu.J_(i),await(async function(u,l){let h=Y(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.Is,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!ua(p))throw p;L(HI,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.Fs.get(m),b=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(b);h.Fs=h.Fs.insert(m,M)}}})(r.localStore,o))}async function M4(n,e){let t=Y(n);if(!t.currentUser.isEqual(e)){L(YI,"User change. New user:",e.toKey());let r=await TM(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new O(A.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fu(t,r.Bs)}}function P4(n,e){let t=Y(n),r=t.Eu.get(e);if(r&&r.lu)return ue().add(r.key);{let i=ue(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function jM(n){let e=Y(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=OM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=P4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=S4.bind(null,e),e.hu.J_=_4.bind(null,e.eventManager),e.hu.pu=E4.bind(null,e.eventManager),e}function x4(n){let e=Y(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=A4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=R4.bind(null,e),e}var UM=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ap(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,r){return null}Fu(t,r){return null}vu(t){return e4(this.persistence,new YE,t.initialUser,this.serializer)}Du(t){return new Of(WE.Vi,this.serializer)}bu(t){return new XE}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return n.provider={build:()=>new n},n})(),EI=class extends UM{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){ye(this.persistence.referenceDelegate instanceof Ff,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new kE(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Yt.withCacheSize(this.cacheSizeBytes):Yt.DEFAULT;return new Of(r=>Ff.Vi(r,t),this.serializer)}};var k4=(()=>{class n{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>gN(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=M4.bind(null,this.syncEngine),await v4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new fI})()}createDatastore(t){let r=ap(t.databaseInfo.databaseId),i=(function(s){return new iI(s)})(t.databaseInfo);return(function(s,a,u,l){return new cI(s,a,u,l)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,u){return new lI(i,o,s,a,u)})(this.localStore,this.datastore,t.asyncQueue,r=>gN(this.syncEngine,r,0),(function(){return Vf.C()?new Vf:new eI})())}createSyncEngine(t,r){return(function(o,s,a,u,l,h,p){let m=new vI(o,s,a,u,l,h);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await(async function(o){let s=Y(o);L(Co,"RemoteStore shutting down."),s.Ia.add(5),await Ou(s),s.Ea.shutdown(),s.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}return n.provider={build:()=>new n},n})();var Wf=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Ei="FirestoreClient",II=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ze.UNAUTHENTICATED,this.clientId=wu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{L(Ei,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(L(Ei,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new fn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=KI(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function G_(n,e){n.asyncQueue.verifyOperationInProgress(),L(Ei,"Initializing OfflineComponentProvider");let t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await TM(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{mi("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{L("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{mi("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e}async function yN(n,e){n.asyncQueue.verifyOperationInProgress();let t=await O4(n);L(Ei,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>hN(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>hN(e.remoteStore,i)),n._onlineComponents=e}async function O4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){L(Ei,"Using user provided OfflineComponentProvider");try{await G_(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===A.FAILED_PRECONDITION||i.code===A.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;mi("Error using user provided cache. Falling back to memory cache: "+t),await G_(n,new UM)}}else L(Ei,"Using default OfflineComponentProvider"),await G_(n,new EI(void 0));return n._offlineComponents}async function BM(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(L(Ei,"Using user provided OnlineComponentProvider"),await yN(n,n._uninitializedComponentsProvider._online)):(L(Ei,"Using default OnlineComponentProvider"),await yN(n,new k4))),n._onlineComponents}function F4(n){return BM(n).then(e=>e.syncEngine)}async function $M(n){let e=await BM(n),t=e.eventManager;return t.onListen=I4.bind(null,e.syncEngine),t.onUnlisten=T4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=w4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=C4.bind(null,e.syncEngine),t}function L4(n,e,t={}){let r=new fn;return n.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,u,l){let h=new Wf({next:m=>{h.Ou(),s.enqueueAndForget(()=>xM(o,p));let y=m.docs.has(a);!y&&m.fromCache?l.reject(new O(A.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?l.reject(new O(A.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new qf(UI(a.path),h,{includeMetadataChanges:!0,ka:!0});return PM(o,p)})(await $M(n),n.asyncQueue,e,t,r)),r.promise}function V4(n,e,t={}){let r=new fn;return n.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,u,l){let h=new Wf({next:m=>{h.Ou(),s.enqueueAndForget(()=>xM(o,p)),m.fromCache&&u.source==="server"?l.reject(new O(A.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new qf(a,h,{includeMetadataChanges:!0,ka:!0});return PM(o,p)})(await $M(n),n.asyncQueue,e,t,r)),r.promise}function HM(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var vN=new Map;var qM="firestore.googleapis.com",_N=!0,Kf=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new O(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qM,this.ssl=_N}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:_N;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Zq)throw new O(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new O(A.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new O(A.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new O(A.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},oa=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new O(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new O(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new W_;switch(r.type){case"firstParty":return new Z_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new O(A.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=vN.get(t);r&&(L("ComponentProvider","Removing Datastore"),vN.delete(t),r.terminate())})(this),Promise.resolve()}};function zM(n,e,t,r={}){var i;n=pn(n,oa);let o=ti(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(Uh(`https://${u}`),Bh("Firestore",!0)),s.host!==qM&&s.host!==u&&mi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Vn(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Ze.MOCK_USER;else{h=XA(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new O(A.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ze(m)}n._authCredentials=new K_(new If(h,p))}}var bo=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Xe=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(ku(t,n._jsonSchema))return new n(e,r||null,new B(Ce.fromString(t.referencePath)))}};Xe._jsonSchemaVersion="firestore/documentReference/1.0",Xe._jsonSchema={type:ze("string",Xe._jsonSchemaVersion),referencePath:ze("string")};var hi=class n extends bo{constructor(e,t,r){super(e,t,UI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Xe(this.firestore,null,new B(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function GM(n,e,...t){if(n=Oe(n),bN("collection","path",e),n instanceof oa){let r=Ce.fromString(e,...t);return LR(r),new hi(n,null,r)}{if(!(n instanceof Xe||n instanceof hi))throw new O(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ce.fromString(e,...t));return LR(r),new hi(n.firestore,null,r)}}function JI(n,e,...t){if(n=Oe(n),arguments.length===1&&(e=wu.newId()),bN("doc","path",e),n instanceof oa){let r=Ce.fromString(e,...t);return FR(r),new Xe(n,null,new B(r))}{if(!(n instanceof Xe||n instanceof hi))throw new O(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ce.fromString(e,...t));return FR(r),new Xe(n.firestore,n instanceof hi?n.converter:null,new B(r))}}var EN="AsyncQueue",Qf=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new jf(this,"async_queue_retry"),this.oc=()=>{let r=z_();r&&L(EN,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=z_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=z_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new fn;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ua(e))throw e;L(EN,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,vr("INTERNAL UNHANDLED ERROR: ",IN(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=dI.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&$(47125,{hc:IN(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function IN(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var Dr=class extends oa{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Qf,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Qf(e),this._firestoreClient=void 0,await e}}};function WM(n,e){let t=typeof n=="object"?n:ao(),r=typeof n=="string"?n:e||bf,i=Os(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=JA("firestore");o&&zM(i,...o)}return i}function XI(n){if(n._terminated)throw new O(A.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||j4(n),n._firestoreClient}function j4(n){var e,t,r;let i=n._freezeSettings(),o=(function(a,u,l,h){return new nE(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,HM(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new II(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(n._componentsProvider))}var fi=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(pt.fromBase64String(e))}catch(t){throw new O(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ku(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};fi._jsonSchemaVersion="firestore/bytes/1.0",fi._jsonSchema={type:ze("string",fi._jsonSchemaVersion),bytes:ze("string")};var sa=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new O(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Pu=class{constructor(e){this._methodName=e}};var pi=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new O(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new O(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(ku(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};pi._jsonSchemaVersion="firestore/geoPoint/1.0",pi._jsonSchema={type:ze("string",pi._jsonSchemaVersion),latitude:ze("number"),longitude:ze("number")};var gi=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ku(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new O(A.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};gi._jsonSchemaVersion="firestore/vectorValue/1.0",gi._jsonSchema={type:ze("string",gi._jsonSchemaVersion),vectorValues:ze("object")};var U4=/^__.*__$/,wI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Kn(e,this.data,this.fieldMask,t,this.fieldTransforms):new To(e,this.data,t,this.fieldTransforms)}},Yf=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Kn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function KM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $(40011,{Ec:n})}}var DI=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Jf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(KM(this.Ec)&&U4.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},TI=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ap(e)}Dc(e,t,r,i=!1){return new DI({Ec:e,methodName:t,bc:r,path:Ut.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function lp(n){let e=n._freezeSettings(),t=ap(n._databaseId);return new TI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function QM(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);ew("Data must be an object, but it was:",s,r);let a=YM(r,s),u,l;if(o.merge)u=new Zt(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=CI(e,p,t);if(!s.contains(m))throw new O(A.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);JM(h,m)||h.push(m)}u=new Zt(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new wI(new jt(a),u,l)}var Zf=class n extends Pu{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function B4(n,e,t,r){let i=n.Dc(1,e,t);ew("Data must be an object, but it was:",i,r);let o=[],s=jt.empty();Ii(r,(u,l)=>{let h=tw(e,u,t);l=Oe(l);let p=i.gc(h);if(l instanceof Zf)o.push(h);else{let m=Lu(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new Zt(o);return new Yf(s,a,i.fieldTransforms)}function $4(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[CI(e,r,t)],u=[i];if(o.length%2!=0)throw new O(A.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(CI(e,o[m])),u.push(o[m+1]);let l=[],h=jt.empty();for(let m=a.length-1;m>=0;--m)if(!JM(l,a[m])){let y=a[m],b=u[m];b=Oe(b);let M=s.gc(y);if(b instanceof Zf)l.push(y);else{let R=Lu(b,M);R!=null&&(l.push(y),h.set(y,R))}}let p=new Zt(l);return new Yf(h,p,s.fieldTransforms)}function H4(n,e,t,r=!1){return Lu(t,n.Dc(r?4:3,e))}function Lu(n,e){if(ZM(n=Oe(n)))return ew("Unsupported field value:",e,n),YM(n,e);if(n instanceof Pu)return(function(r,i){if(!KM(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=Lu(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=Oe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ge.fromDate(r);return{timestampValue:xf(i.serializer,o)}}if(r instanceof Ge){let o=new Ge(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xf(i.serializer,o)}}if(r instanceof pi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fi)return{bytesValue:mM(i.serializer,r._byteString)};if(r instanceof Xe){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:$I(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof gi)return(function(s,a){return{mapValue:{fields:{[OI]:{stringValue:FI},[Ys]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return BI(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${np(r)}`)})(n,e)}function YM(n,e){let t={};return $N(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ii(n,(r,i)=>{let o=Lu(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function ZM(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ge||n instanceof pi||n instanceof fi||n instanceof Xe||n instanceof Pu||n instanceof gi)}function ew(n,e,t){if(!ZM(t)||!SN(t)){let r=np(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function CI(n,e,t){if((e=Oe(e))instanceof sa)return e._internalPath;if(typeof e=="string")return tw(n,e);throw Jf("Field path arguments must be of type string or ",n,!1,void 0,t)}var q4=new RegExp("[~\\*/\\[\\]]");function tw(n,e,t){if(e.search(q4)>=0)throw Jf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new sa(...e.split("."))._internalPath}catch{throw Jf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Jf(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new O(A.INVALID_ARGUMENT,a+n+u)}function JM(n,e){return n.some(t=>t.isEqual(e))}var Xf=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new bI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(nw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},bI=class extends Xf{data(){return super.data()}};function nw(n,e){return typeof e=="string"?tw(n,e):e instanceof sa?e._internalPath:e._delegate._internalPath}function z4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new O(A.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var xu=class{},ep=class extends xu{};function XM(n,e,...t){let r=[];e instanceof xu&&r.push(e),r=r.concat(t),(function(o){let s=o.filter(u=>u instanceof AI).length,a=o.filter(u=>u instanceof SI).length;if(s>1||s>0&&a>0)throw new O(A.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)n=i._apply(n);return n}var SI=class n extends ep{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return tP(e._query,t),new bo(e.firestore,e.converter,gE(e._query,t))}_parse(e){let t=lp(e.firestore);return(function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new O(A.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){DN(p,h);let b=[];for(let M of p)b.push(wN(u,o,M));m={arrayValue:{values:b}}}else m=wN(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||DN(p,h),m=H4(a,s,p,h==="in"||h==="not-in");return qe.create(l,h,m)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};var AI=class n extends xu{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:mn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)tP(s,u),s=gE(s,u)})(e._query,t),new bo(e.firestore,e.converter,gE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var RI=class n extends ep{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=(function(i,o,s){if(i.startAt!==null)throw new O(A.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new O(A.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Io(o,s)})(e._query,this._field,this._direction);return new bo(e.firestore,e.converter,(function(i,o){let s=i.explicitOrderBy.concat([o]);return new vi(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}};function eP(n,e="asc"){let t=e,r=nw("orderBy",n);return RI._create(r,t)}function wN(n,e,t){if(typeof(t=Oe(t))=="string"){if(t==="")throw new O(A.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nM(e)&&t.indexOf("/")!==-1)throw new O(A.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Ce.fromString(t));if(!B.isDocumentKey(r))throw new O(A.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return qR(n,new B(r))}if(t instanceof Xe)return qR(n,t._key);throw new O(A.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${np(t)}.`)}function DN(n,e){if(!Array.isArray(n)||n.length===0)throw new O(A.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tP(n,e){let t=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new O(A.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new O(A.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var NI=class{convertValue(e,t="none"){switch(yi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Te(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Er(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw $(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Ii(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Ys].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Te(s.doubleValue));return new gi(o)}convertGeoPoint(e){return new pi(Te(e.latitude),Te(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=ip(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Cu(e));default:return null}}convertTimestamp(e){let t=_r(e);return new Ge(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ce.fromString(e);ye(wM(r),9688,{name:e});let i=new Sf(r.get(1),r.get(3)),o=new B(r.popFirst(5));return i.isEqual(t)||vr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function nP(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var yo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},vo=class n extends Xf{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Ws(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(nw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new O(A.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};vo._jsonSchemaVersion="firestore/documentSnapshot/1.0",vo._jsonSchema={type:ze("string",vo._jsonSchemaVersion),bundleSource:ze("string","DocumentSnapshot"),bundleName:ze("string"),bundle:ze("string")};var Ws=class extends vo{data(e={}){return super.data(e)}},Ks=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new yo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ws(this._firestore,this._userDataWriter,r.key,r,new yo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new O(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Ws(i._firestore,i._userDataWriter,a.doc.key,a.doc,new yo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Ws(i._firestore,i._userDataWriter,a.doc.key,a.doc,new yo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:G4(a.type),doc:u,oldIndex:l,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new O(A.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wu.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function G4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $(61501,{type:n})}}function rP(n){n=pn(n,Xe);let e=pn(n.firestore,Dr);return L4(XI(e),n._key).then(t=>W4(e,n,t))}Ks._jsonSchemaVersion="firestore/querySnapshot/1.0",Ks._jsonSchema={type:ze("string",Ks._jsonSchemaVersion),bundleSource:ze("string","QuerySnapshot"),bundleName:ze("string"),bundle:ze("string")};var tp=class extends NI{constructor(e){super(),this.firestore=e}convertBytes(e){return new fi(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xe(this.firestore,null,t)}};function iP(n){n=pn(n,bo);let e=pn(n.firestore,Dr),t=XI(e),r=new tp(e);return z4(n._query),V4(t,n._query).then(i=>new Ks(e,r,n,i))}function oP(n,e,t){n=pn(n,Xe);let r=pn(n.firestore,Dr),i=nP(n.converter,e,t);return dp(r,[QM(lp(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,zn.none())])}function sP(n,e,t,...r){n=pn(n,Xe);let i=pn(n.firestore,Dr),o=lp(i),s;return s=typeof(e=Oe(e))=="string"||e instanceof sa?$4(o,"updateDoc",n._key,e,t,r):B4(o,"updateDoc",n._key,e),dp(i,[s.toMutation(n._key,zn.exists(!0))])}function aP(n){return dp(pn(n.firestore,Dr),[new Su(n._key,zn.none())])}function cP(n,e){let t=pn(n.firestore,Dr),r=JI(n),i=nP(n.converter,e);return dp(t,[QM(lp(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,zn.exists(!1))]).then(()=>r)}function dp(n,e){return(function(r,i){let o=new fn;return r.asyncQueue.enqueueAndForget(async()=>b4(await F4(r),i,o)),o.promise})(XI(n),e)}function W4(n,e,t){let r=t.docs.get(e._key),i=new tp(n);return new vo(n,i,e._key,r,new yo(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){aa=i})(ri),dn(new wt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Dr(new Q_(r.getProvider("auth-internal")),new J_(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new O(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sf(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Me(PR,xR,e),Me(PR,xR,"esm2017")})();var Vu=class{constructor(e){return e}},uP="firestore",rw=class{constructor(){return Ls(uP)}};var iw=new j("angularfire2.firestore-instances");function K4(n,e){let t=nu(uP,n,e);return t&&new Vu(t)}function Q4(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Vu(r)}}var Y4={provide:rw,deps:[[new Ot,iw]]},Z4={provide:Vu,useFactory:K4,deps:[[new Ot,iw],hr]};function Hse(n,...e){return Me("angularfire",ii.full,"fst"),Bt([Z4,Y4,{provide:iw,useFactory:Q4(n),multi:!0,deps:[pe,be,oi,uo,[new Ot,gu],[new Ot,Vs],...e]}])}var qse=Fe(cP,!0,2);var zse=Fe(GM,!0,2);var Gse=Fe(aP,!0,2);var Wse=Fe(JI,!0,2);var Kse=Fe(rP,!0);var Qse=Fe(iP,!0);var Yse=Fe(WM,!0);var Zse=Fe(eP,!0,2),Jse=Fe(XM,!0,2);var Xse=Fe(oP,!0,2);var eae=Fe(sP,!0,2);export{x as a,ne as b,U as c,z as d,JD as e,yT as f,vT as g,Wt as h,GC as i,eO as j,oe as k,ay as l,jb as m,oF as n,sF as o,$b as p,py as q,gy as r,Ld as s,uF as t,cr as u,dF as v,vc as w,AF as x,zb as y,my as z,Gb as A,PF as B,Wb as C,LF as D,UF as E,Ji as F,fS as G,IL as H,pS as I,FL as J,iv as K,Ln as L,fA as M,_j as N,Ej as O,OA as P,Zne as Q,Jne as R,e2 as S,r2 as T,ere as U,o2 as V,c2 as W,h2 as X,p2 as Y,m2 as Z,tre as _,Jre as $,Xre as aa,pu as ba,goe as ca,moe as da,yoe as ea,voe as fa,_oe as ga,Eoe as ha,Vu as ia,Hse as ja,qse as ka,zse as la,Gse as ma,Wse as na,Kse as oa,Qse as pa,Yse as qa,Zse as ra,Jse as sa,Xse as ta,eae as ua};
