var HP=Object.defineProperty,qP=Object.defineProperties;var zP=Object.getOwnPropertyDescriptors;var oD=Object.getOwnPropertySymbols;var GP=Object.prototype.hasOwnProperty,WP=Object.prototype.propertyIsEnumerable;var sD=(n,e,t)=>e in n?HP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,x=(n,e)=>{for(var t in e||={})GP.call(e,t)&&sD(n,t,e[t]);if(oD)for(var t of oD(e))WP.call(e,t)&&sD(n,t,e[t]);return n},te=(n,e)=>qP(n,zP(e));var Lp;function tl(){return Lp}function yn(n){let e=Lp;return Lp=n,e}var aD=Symbol("NotFound");function Po(n){return n===aD||n?.name==="\u0275NotFound"}var ut=null,nl=!1,Vp=1,KP=null,lt=Symbol("SIGNAL");function Z(n){let e=ut;return ut=n,e}function sl(){return ut}var xo={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ko(n){if(nl)throw new Error("");if(ut===null)return;ut.consumerOnSignalRead(n);let e=ut.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=ut.recomputing;if(r&&(t=e!==void 0?e.nextProducer:ut.producers,t!==void 0&&t.producer===n)){ut.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===ut&&(!r||YP(i,ut)))return;let o=Fo(ut),s={producer:n,consumer:ut,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};ut.producersTail=s,e!==void 0?e.nextProducer=s:ut.producers=s,o&&dD(n,s)}function cD(){Vp++}function al(n){if(!(Fo(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Vp)){if(!n.producerMustRecompute(n)&&!Pa(n)){ol(n);return}n.producerRecomputeValue(n),ol(n)}}function jp(n){if(n.consumers===void 0)return;let e=nl;nl=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||QP(r)}}finally{nl=e}}function Up(){return ut?.consumerAllowSignalWrites!==!1}function QP(n){n.dirty=!0,jp(n),n.consumerMarkedDirty?.(n)}function ol(n){n.dirty=!1,n.lastCleanEpoch=Vp}function Oo(n){return n&&uD(n),Z(n)}function uD(n){n.producersTail=void 0,n.recomputing=!0}function Ma(n,e){Z(e),n&&lD(n)}function lD(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(Fo(n))do t=Bp(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function Pa(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(al(t),r!==t.version))return!0}return!1}function xa(n){if(Fo(n)){let e=n.producers;for(;e!==void 0;)e=Bp(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function dD(n,e){let t=n.consumersTail,r=Fo(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)dD(i.producer,i)}function Bp(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Fo(e)){let o=e.producers;for(;o!==void 0;)o=Bp(o)}return t}function Fo(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function cl(n){KP?.(n)}function YP(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function ul(n,e){return Object.is(n,e)}function ll(n,e){let t=Object.create(ZP);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(al(t),ko(t),t.value===Na)throw t.error;return t.value};return r[lt]=t,cl(t),r}var rl=Symbol("UNSET"),il=Symbol("COMPUTING"),Na=Symbol("ERRORED"),ZP=te(x({},xo),{value:rl,dirty:!0,error:null,equal:ul,kind:"computed",producerMustRecompute(n){return n.value===rl||n.value===il},producerRecomputeValue(n){if(n.value===il)throw new Error("");let e=n.value;n.value=il;let t=Oo(n),r,i=!1;try{r=n.computation(),Z(null),i=e!==rl&&e!==Na&&r!==Na&&n.equal(e,r)}catch(o){r=Na,n.error=o}finally{Ma(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function JP(){throw new Error}var hD=JP;function fD(n){hD(n)}function $p(n){hD=n}var XP=null;function Hp(n,e){let t=Object.create(dl);t.value=n,e!==void 0&&(t.equal=e);let r=()=>pD(t);return r[lt]=t,cl(t),[r,s=>Lo(t,s),s=>qp(t,s)]}function pD(n){return ko(n),n.value}function Lo(n,e){Up()||fD(n),n.equal(n.value,e)||(n.value=e,ex(n))}function qp(n,e){Up()||fD(n),Lo(n,e(n.value))}var dl=te(x({},xo),{equal:ul,value:void 0,kind:"signal"});function ex(n){n.version++,cD(),jp(n),XP?.(n)}function J(n){return typeof n=="function"}function Vo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var hl=Vo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ci(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ae=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(J(r))try{r()}catch(o){e=o instanceof hl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{gD(o)}catch(s){e=e??[],s instanceof hl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new hl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)gD(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ci(t,e)}remove(e){let{_finalizers:t}=this;t&&Ci(t,e),e instanceof n&&e._removeParent(this)}};Ae.EMPTY=(()=>{let n=new Ae;return n.closed=!0,n})();var zp=Ae.EMPTY;function fl(n){return n instanceof Ae||n&&"closed"in n&&J(n.remove)&&J(n.add)&&J(n.unsubscribe)}function gD(n){J(n)?n():n.unsubscribe()}var Xt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var jo={setTimeout(n,e,...t){let{delegate:r}=jo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=jo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function pl(n){jo.setTimeout(()=>{let{onUnhandledError:e}=Xt;if(e)e(n);else throw n})}function ka(){}var mD=Gp("C",void 0,void 0);function yD(n){return Gp("E",void 0,n)}function vD(n){return Gp("N",n,void 0)}function Gp(n,e,t){return{kind:n,value:e,error:t}}var bi=null;function Uo(n){if(Xt.useDeprecatedSynchronousErrorHandling){let e=!bi;if(e&&(bi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=bi;if(bi=null,t)throw r}}else n()}function _D(n){Xt.useDeprecatedSynchronousErrorHandling&&bi&&(bi.errorThrown=!0,bi.error=n)}var Si=class extends Ae{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,fl(e)&&e.add(this)):this.destination=rx}static create(e,t,r){return new Bo(e,t,r)}next(e){this.isStopped?Kp(vD(e),this):this._next(e)}error(e){this.isStopped?Kp(yD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Kp(mD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},tx=Function.prototype.bind;function Wp(n,e){return tx.call(n,e)}var Qp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){gl(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){gl(r)}else gl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){gl(t)}}},Bo=class extends Si{constructor(e,t,r){super();let i;if(J(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Xt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Wp(e.next,o),error:e.error&&Wp(e.error,o),complete:e.complete&&Wp(e.complete,o)}):i=e}this.destination=new Qp(i)}};function gl(n){Xt.useDeprecatedSynchronousErrorHandling?_D(n):pl(n)}function nx(n){throw n}function Kp(n,e){let{onStoppedNotification:t}=Xt;t&&jo.setTimeout(()=>t(n,e))}var rx={closed:!0,next:ka,error:nx,complete:ka};var $o=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Rt(n){return n}function Yp(...n){return Zp(n)}function Zp(n){return n.length===0?Rt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ne=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=ox(t)?t:new Bo(t,r,i);return Uo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=ED(r),new r((i,o)=>{let s=new Bo({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[$o](){return this}pipe(...t){return Zp(t)(this)}toPromise(t){return t=ED(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function ED(n){var e;return(e=n??Xt.Promise)!==null&&e!==void 0?e:Promise}function ix(n){return n&&J(n.next)&&J(n.error)&&J(n.complete)}function ox(n){return n&&n instanceof Si||ix(n)&&fl(n)}function Jp(n){return J(n?.lift)}function le(n){return e=>{if(Jp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ae(n,e,t,r,i){return new Xp(n,e,t,r,i)}var Xp=class extends Si{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ho(){return le((n,e)=>{let t=null;n._refCount++;let r=ae(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var qo=class extends ne{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Jp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ae;let t=this.getSubject();e.add(this.source.subscribe(ae(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ae.EMPTY)}return e}refCount(){return Ho()(this)}};var ID=Vo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Le=(()=>{class n extends ne{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new ml(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new ID}next(t){Uo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Uo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Uo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?zp:(this.currentObservers=null,o.push(t),new Ae(()=>{this.currentObservers=null,Ci(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ne;return t.source=this,t}}return n.create=(e,t)=>new ml(e,t),n})(),ml=class extends Le{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:zp}};var tt=class extends Le{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var eg={now(){return(eg.delegate||Date).now()},delegate:void 0};var yl=class extends Ae{constructor(e,t){super()}schedule(e,t=0){return this}};var Oa={setInterval(n,e,...t){let{delegate:r}=Oa;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Oa;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var zo=class extends yl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Oa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Oa.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ci(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Go=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Go.now=eg.now;var Wo=class extends Go{constructor(e,t=Go.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var tg=new Wo(zo);var vl=class extends zo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var _l=class extends Wo{};var ng=new _l(vl);var Dt=new ne(n=>n.complete());function wD(n){return n&&J(n.schedule)}function DD(n){return n[n.length-1]}function El(n){return J(DD(n))?n.pop():void 0}function Ar(n){return wD(DD(n))?n.pop():void 0}function rg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function CD(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function TD(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ai(n){return this instanceof Ai?(this.v=n,this):new Ai(n)}function bD(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(b){return Promise.resolve(b).then(y,p)}}function a(y,b){r[y]&&(i[y]=function(M){return new Promise(function(R,F){o.push([y,M,R,F])>1||u(y,M)})},b&&(i[y]=b(i[y])))}function u(y,b){try{l(r[y](b))}catch(M){m(o[0][3],M)}}function l(y){y.value instanceof Ai?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,b){y(b),o.shift(),o.length&&u(o[0][0],o[0][1])}}function SD(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof TD=="function"?TD(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Il=n=>n&&typeof n.length=="number"&&typeof n!="function";function wl(n){return J(n?.then)}function Dl(n){return J(n[$o])}function Tl(n){return Symbol.asyncIterator&&J(n?.[Symbol.asyncIterator])}function Cl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function sx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var bl=sx();function Sl(n){return J(n?.[bl])}function Al(n){return bD(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ai(t.read());if(i)return yield Ai(void 0);yield yield Ai(r)}}finally{t.releaseLock()}})}function Rl(n){return J(n?.getReader)}function Ve(n){if(n instanceof ne)return n;if(n!=null){if(Dl(n))return ax(n);if(Il(n))return cx(n);if(wl(n))return ux(n);if(Tl(n))return AD(n);if(Sl(n))return lx(n);if(Rl(n))return dx(n)}throw Cl(n)}function ax(n){return new ne(e=>{let t=n[$o]();if(J(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function cx(n){return new ne(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function ux(n){return new ne(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,pl)})}function lx(n){return new ne(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function AD(n){return new ne(e=>{hx(n,e).catch(t=>e.error(t))})}function dx(n){return AD(Al(n))}function hx(n,e){var t,r,i,o;return CD(this,void 0,void 0,function*(){try{for(t=SD(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Tt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Rr(n,e=0){return le((t,r)=>{t.subscribe(ae(r,i=>Tt(r,n,()=>r.next(i),e),()=>Tt(r,n,()=>r.complete(),e),i=>Tt(r,n,()=>r.error(i),e)))})}function Nr(n,e=0){return le((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function RD(n,e){return Ve(n).pipe(Nr(e),Rr(e))}function ND(n,e){return Ve(n).pipe(Nr(e),Rr(e))}function MD(n,e){return new ne(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function PD(n,e){return new ne(t=>{let r;return Tt(t,e,()=>{r=n[bl](),Tt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>J(r?.return)&&r.return()})}function Nl(n,e){if(!n)throw new Error("Iterable cannot be null");return new ne(t=>{Tt(t,e,()=>{let r=n[Symbol.asyncIterator]();Tt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function xD(n,e){return Nl(Al(n),e)}function kD(n,e){if(n!=null){if(Dl(n))return RD(n,e);if(Il(n))return MD(n,e);if(wl(n))return ND(n,e);if(Tl(n))return Nl(n,e);if(Sl(n))return PD(n,e);if(Rl(n))return xD(n,e)}throw Cl(n)}function De(n,e){return e?kD(n,e):Ve(n)}function H(...n){let e=Ar(n);return De(n,e)}function Ko(n,e){let t=J(n)?n:()=>n,r=i=>i.error(t());return new ne(e?i=>e.schedule(r,0,i):r)}function ig(n){return!!n&&(n instanceof ne||J(n.lift)&&J(n.subscribe))}var Yn=Vo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ce(n,e){return le((t,r)=>{let i=0;t.subscribe(ae(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:fx}=Array;function px(n,e){return fx(e)?n(...e):n(e)}function Ml(n){return ce(e=>px(n,e))}var{isArray:gx}=Array,{getPrototypeOf:mx,prototype:yx,keys:vx}=Object;function Pl(n){if(n.length===1){let e=n[0];if(gx(e))return{args:e,keys:null};if(_x(e)){let t=vx(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function _x(n){return n&&typeof n=="object"&&mx(n)===yx}function xl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Fa(...n){let e=Ar(n),t=El(n),{args:r,keys:i}=Pl(n);if(r.length===0)return De([],e);let o=new ne(Ex(r,e,i?s=>xl(i,s):Rt));return t?o.pipe(Ml(t)):o}function Ex(n,e,t=Rt){return r=>{OD(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)OD(e,()=>{let l=De(n[u],e),h=!1;l.subscribe(ae(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function OD(n,e,t){n?Tt(t,n,e):e()}function FD(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=M=>l<r?b(M):u.push(M),b=M=>{o&&e.next(M),l++;let R=!1;Ve(t(M,h++)).subscribe(ae(e,F=>{i?.(F),o?y(F):e.next(F)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let F=u.shift();s?Tt(e,s,()=>b(F)):b(F)}m()}catch(F){e.error(F)}}))};return n.subscribe(ae(e,y,()=>{p=!0,m()})),()=>{a?.()}}function xe(n,e,t=1/0){return J(e)?xe((r,i)=>ce((o,s)=>e(r,o,i,s))(Ve(n(r,i))),t):(typeof e=="number"&&(t=e),le((r,i)=>FD(r,i,n,t)))}function Qo(n=1/0){return xe(Rt,n)}function LD(){return Qo(1)}function Yo(...n){return LD()(De(n,Ar(n)))}function La(n){return new ne(e=>{Ve(n()).subscribe(e)})}function og(...n){let e=El(n),{args:t,keys:r}=Pl(n),i=new ne(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Ve(t[h]).subscribe(ae(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?xl(r,a):a),o.complete())}))}});return e?i.pipe(Ml(e)):i}function Ct(n,e){return le((t,r)=>{let i=0;t.subscribe(ae(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Zn(n){return le((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ae(t,void 0,void 0,s=>{o=Ve(n(s,Zn(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function VD(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(ae(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Mr(n,e){return J(e)?xe(n,e,1):xe(n,1)}function Pr(n){return le((e,t)=>{let r=!1;e.subscribe(ae(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Jn(n){return n<=0?()=>Dt:le((e,t)=>{let r=0;e.subscribe(ae(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function kl(n=Ix){return le((e,t)=>{let r=!1;e.subscribe(ae(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Ix(){return new Yn}function Va(n){return le((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Xn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ct((i,o)=>n(i,o,r)):Rt,Jn(1),t?Pr(e):kl(()=>new Yn))}function Zo(n){return n<=0?()=>Dt:le((e,t)=>{let r=[];e.subscribe(ae(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function sg(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Ct((i,o)=>n(i,o,r)):Rt,Zo(1),t?Pr(e):kl(()=>new Yn))}function ag(n,e){return le(VD(n,e,arguments.length>=2,!0))}function cg(...n){let e=Ar(n);return le((t,r)=>{(e?Yo(n,t,e):Yo(n,t)).subscribe(r)})}function vt(n,e){return le((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(ae(r,u=>{i?.unsubscribe();let l=0,h=o++;Ve(n(u,h)).subscribe(i=ae(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ol(n){return le((e,t)=>{Ve(n).subscribe(ae(t,()=>t.complete(),ka)),!t.closed&&e.subscribe(t)})}function Ke(n,e,t){let r=J(n)||e||t?{next:n,error:e,complete:t}:n;return r?le((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ae(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Rt}function jD(n){let e=Z(null);try{return n()}finally{Z(e)}}var xr=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Ig=new xr("20.3.15");var jl="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",V=class extends Error{code;constructor(e,t){super(Or(e,t)),this.code=e}};function wx(n){return`NG0${Math.abs(n)}`}function Or(n,e){return`${wx(n)}${e?": "+e:""}`}var $a=globalThis;function me(n){for(let e in n)if(n[e]===me)return e;throw Error("")}function $D(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function tr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(tr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function wg(n,e){return n?e?`${n} ${e}`:n:e||""}var Dx=me({__forward_ref__:me});function Ut(n){return n.__forward_ref__=Ut,n.toString=function(){return tr(this())},n}function nt(n){return Dg(n)?n():n}function Dg(n){return typeof n=="function"&&n.hasOwnProperty(Dx)&&n.__forward_ref__===Ut}function U(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function tn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ha(n){return Tx(n,Ul)}function Tg(n){return Ha(n)!==null}function Tx(n,e){return n.hasOwnProperty(e)&&n[e]||null}function Cx(n){let e=n?.[Ul]??null;return e||null}function lg(n){return n&&n.hasOwnProperty(Ll)?n[Ll]:null}var Ul=me({\u0275prov:me}),Ll=me({\u0275inj:me}),j=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=U({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Cg(n){return n&&!!n.\u0275providers}var bg=me({\u0275cmp:me}),Sg=me({\u0275dir:me}),Ag=me({\u0275pipe:me}),Rg=me({\u0275mod:me}),Ua=me({\u0275fac:me}),ki=me({__NG_ELEMENT_ID__:me}),UD=me({__NG_ENV_ID__:me});function qa(n){return typeof n=="string"?n:n==null?"":String(n)}function HD(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():qa(n)}var qD=me({ngErrorCode:me}),bx=me({ngErrorMessage:me}),Sx=me({ngTokenPath:me});function Ng(n,e){return zD("",-200,e)}function Bl(n,e){throw new V(-201,!1)}function zD(n,e,t){let r=new V(e,n);return r[qD]=e,r[bx]=n,t&&(r[Sx]=t),r}function Ax(n){return n[qD]}var dg;function GD(){return dg}function Nt(n){let e=dg;return dg=n,e}function Mg(n,e,t){let r=Ha(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Bl(n,"Injector")}var Rx={},Ri=Rx,hg="__NG_DI_FLAG__",fg=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Ni(t)||0;try{return this.injector.get(e,r&8?null:Ri,r)}catch(i){if(Po(i))return i;throw i}}};function Nx(n,e=0){let t=tl();if(t===void 0)throw new V(-203,!1);if(t===null)return Mg(n,void 0,e);{let r=Mx(e),i=t.retrieve(n,r);if(Po(i)){if(r.optional)return null;throw i}return i}}function z(n,e=0){return(GD()||Nx)(nt(n),e)}function N(n,e){return z(n,Ni(e))}function Ni(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Mx(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function pg(n){let e=[];for(let t=0;t<n.length;t++){let r=nt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new V(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=Px(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(z(i,o))}else e.push(z(r))}return e}function WD(n,e){return n[hg]=e,n.prototype[hg]=e,n}function Px(n){return n[hg]}function Mi(n,e){let t=n.hasOwnProperty(Ua);return t?n[Ua]:null}function $l(n,e){n.forEach(t=>Array.isArray(t)?$l(t,e):e(t))}function Pg(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function za(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function KD(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function QD(n,e,t){let r=Xo(n,e);return r>=0?n[r|1]=t:(r=~r,KD(n,r,e,t)),r}function Hl(n,e){let t=Xo(n,e);if(t>=0)return n[t|1]}function Xo(n,e){return xx(n,e,1)}function xx(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Fr={},Mt=[],Lr=new j(""),xg=new j("",-1),kg=new j(""),Ba=class{get(e,t=Ri){if(t===Ri){let i=zD("",-201);throw i.name="\u0275NotFound",i}return t}};function Og(n){return n[Rg]||null}function nr(n){return n[bg]||null}function Fg(n){return n[Sg]||null}function YD(n){return n[Ag]||null}function Bt(n){return{\u0275providers:n}}function ZD(...n){return{\u0275providers:Lg(!0,n),\u0275fromNgModule:!0}}function Lg(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return $l(e,s=>{let a=s;Vl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&JD(i,o),t}function JD(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Vg(i,o=>{e(o,r)})}}function Vl(n,e,t,r){if(n=nt(n),!n)return!1;let i=null,o=lg(n),s=!o&&nr(n);if(!o&&!s){let u=n.ngModule;if(o=lg(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Vl(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{$l(o.imports,h=>{Vl(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&JD(l,e)}if(!a){let l=Mi(i)||(()=>new i);e({provide:i,useFactory:l,deps:Mt},i),e({provide:kg,useValue:i,multi:!0},i),e({provide:Lr,useValue:()=>z(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;Vg(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Vg(n,e){for(let t of n)Cg(t)&&(t=t.\u0275providers),Array.isArray(t)?Vg(t,e):e(t)}var kx=me({provide:String,useValue:me});function XD(n){return n!==null&&typeof n=="object"&&kx in n}function Ox(n){return!!(n&&n.useExisting)}function Fx(n){return!!(n&&n.useFactory)}function Pi(n){return typeof n=="function"}function eT(n){return!!n.useClass}var Ga=new j(""),Fl={},BD={},ug;function Wa(){return ug===void 0&&(ug=new Ba),ug}var ke=class{},xi=class extends ke{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,mg(e,s=>this.processProvider(s)),this.records.set(xg,Jo(void 0,this)),i.has("environment")&&this.records.set(ke,Jo(void 0,this));let o=this.records.get(Ga);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(kg,Mt,{self:!0}))}retrieve(e,t){let r=Ni(t)||0;try{return this.get(e,Ri,r)}catch(i){if(Po(i))return i;throw i}}destroy(){ja(this),this._destroyed=!0;let e=Z(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Z(e)}}onDestroy(e){return ja(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ja(this);let t=yn(this),r=Nt(void 0),i;try{return e()}finally{yn(t),Nt(r)}}get(e,t=Ri,r){if(ja(this),e.hasOwnProperty(UD))return e[UD](this);let i=Ni(r),o,s=yn(this),a=Nt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=Bx(e)&&Ha(e);h&&this.injectableDefInScope(h)?l=Jo(gg(e),Fl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?Wa():this.parent;return t=i&8&&t===Ri?null:t,u.get(e,t)}catch(u){let l=Ax(u);throw l===-200||l===-201?new V(l,null):u}finally{Nt(a),yn(s)}}resolveInjectorInitializers(){let e=Z(null),t=yn(this),r=Nt(void 0),i;try{let o=this.get(Lr,Mt,{self:!0});for(let s of o)s()}finally{yn(t),Nt(r),Z(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(tr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=nt(e);let t=Pi(e)?e:nt(e&&e.provide),r=Vx(e);if(!Pi(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Jo(void 0,Fl,!0),i.factory=()=>pg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=Z(null);try{if(t.value===BD)throw Ng(tr(e));return t.value===Fl&&(t.value=BD,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&Ux(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Z(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=nt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function gg(n){let e=Ha(n),t=e!==null?e.factory:Mi(n);if(t!==null)return t;if(n instanceof j)throw new V(204,!1);if(n instanceof Function)return Lx(n);throw new V(204,!1)}function Lx(n){if(n.length>0)throw new V(204,!1);let t=Cx(n);return t!==null?()=>t.factory(n):()=>new n}function Vx(n){if(XD(n))return Jo(void 0,n.useValue);{let e=jg(n);return Jo(e,Fl)}}function jg(n,e,t){let r;if(Pi(n)){let i=nt(n);return Mi(i)||gg(i)}else if(XD(n))r=()=>nt(n.useValue);else if(Fx(n))r=()=>n.useFactory(...pg(n.deps||[]));else if(Ox(n))r=(i,o)=>z(nt(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=nt(n&&(n.useClass||n.provide));if(jx(n))r=()=>new i(...pg(n.deps));else return Mi(i)||gg(i)}return r}function ja(n){if(n.destroyed)throw new V(205,!1)}function Jo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function jx(n){return!!n.deps}function Ux(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function Bx(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function mg(n,e){for(let t of n)Array.isArray(t)?mg(t,e):t&&Cg(t)?mg(t.\u0275providers,e):e(t)}function je(n,e){let t;n instanceof xi?(ja(n),t=n):t=new fg(n);let r,i=yn(t),o=Nt(void 0);try{return e()}finally{yn(i),Nt(o)}}function tT(){return GD()!==void 0||tl()!=null}var nn=0,X=1,K=2,rt=3,$t=4,Ht=5,Ka=6,es=7,it=8,Vr=9,_n=10,Re=11,ts=12,Ug=13,Oi=14,qt=15,Fi=16,Li=17,Vi=18,Qa=19,Bg=20,er=21,ql=22,Ya=23,Pt=24,ji=25,Za=26,dt=27,nT=1;var jr=7,Ja=8,Xa=9,_t=10;function En(n){return Array.isArray(n)&&typeof n[nT]=="object"}function rn(n){return Array.isArray(n)&&n[nT]===!0}function $g(n){return(n.flags&4)!==0}function Ur(n){return n.componentOffset>-1}function ec(n){return(n.flags&1)===1}function In(n){return!!n.template}function ns(n){return(n[K]&512)!==0}function Ui(n){return(n[K]&256)===256}var rT="svg",iT="math";function zt(n){for(;Array.isArray(n);)n=n[nn];return n}function Hg(n,e){return zt(e[n])}function on(n,e){return zt(e[n.index])}function tc(n,e){return n.data[e]}function Gt(n,e){let t=e[n];return En(t)?t:t[nn]}function zl(n){return(n[K]&128)===128}function oT(n){return rn(n[rt])}function Br(n,e){return e==null?null:n[e]}function qg(n){n[Li]=0}function zg(n){n[K]&1024||(n[K]|=1024,zl(n)&&rs(n))}function sT(n,e){for(;n>0;)e=e[Oi],n--;return e}function nc(n){return!!(n[K]&9216||n[Pt]?.dirty)}function Gl(n){n[_n].changeDetectionScheduler?.notify(8),n[K]&64&&(n[K]|=1024),nc(n)&&rs(n)}function rs(n){n[_n].changeDetectionScheduler?.notify(0);let e=kr(n);for(;e!==null&&!(e[K]&8192||(e[K]|=8192,!zl(e)));)e=kr(e)}function Gg(n,e){if(Ui(n))throw new V(911,!1);n[er]===null&&(n[er]=[]),n[er].push(e)}function aT(n,e){if(n[er]===null)return;let t=n[er].indexOf(e);t!==-1&&n[er].splice(t,1)}function kr(n){let e=n[rt];return rn(e)?e[rt]:e}function cT(n){return n[es]??=[]}function uT(n){return n.cleanup??=[]}var ie={lFrame:AT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var yg=!1;function lT(){return ie.lFrame.elementDepthCount}function dT(){ie.lFrame.elementDepthCount++}function hT(){ie.lFrame.elementDepthCount--}function Wg(){return ie.bindingsEnabled}function fT(){return ie.skipHydrationRootTNode!==null}function pT(n){return ie.skipHydrationRootTNode===n}function gT(){ie.skipHydrationRootTNode=null}function fe(){return ie.lFrame.lView}function Et(){return ie.lFrame.tView}function mT(n){return ie.lFrame.contextLView=n,n[it]}function yT(n){return ie.lFrame.contextLView=null,n}function ht(){let n=Kg();for(;n!==null&&n.type===64;)n=n.parent;return n}function Kg(){return ie.lFrame.currentTNode}function vT(){let n=ie.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function is(n,e){let t=ie.lFrame;t.currentTNode=n,t.isParent=e}function Qg(){return ie.lFrame.isParent}function _T(){ie.lFrame.isParent=!1}function Yg(){return yg}function Zg(n){let e=yg;return yg=n,e}function ET(){let n=ie.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function IT(n){return ie.lFrame.bindingIndex=n}function os(){return ie.lFrame.bindingIndex++}function wT(n){let e=ie.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function DT(){return ie.lFrame.inI18n}function TT(n,e){let t=ie.lFrame;t.bindingIndex=t.bindingRootIndex=n,Wl(e)}function CT(){return ie.lFrame.currentDirectiveIndex}function Wl(n){ie.lFrame.currentDirectiveIndex=n}function bT(n){let e=ie.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Jg(n){ie.lFrame.currentQueryIndex=n}function $x(n){let e=n[X];return e.type===2?e.declTNode:e.type===1?n[Ht]:null}function Xg(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=$x(o),i===null||(o=o[Oi],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ie.lFrame=ST();return r.currentTNode=e,r.lView=n,!0}function Kl(n){let e=ST(),t=n[X];ie.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function ST(){let n=ie.lFrame,e=n===null?null:n.child;return e===null?AT(n):e}function AT(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function RT(){let n=ie.lFrame;return ie.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var em=RT;function Ql(){let n=RT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function NT(n){return(ie.lFrame.contextLView=sT(n,ie.lFrame.contextLView))[it]}function Bi(){return ie.lFrame.selectedIndex}function $r(n){ie.lFrame.selectedIndex=n}function Yl(){let n=ie.lFrame;return tc(n.tView,n.selectedIndex)}function MT(){return ie.lFrame.currentNamespace}var PT=!0;function Zl(){return PT}function Jl(n){PT=n}function vg(n,e=null,t=null,r){let i=tm(n,e,t,r);return i.resolveInjectorInitializers(),i}function tm(n,e=null,t=null,r,i=new Set){let o=[t||Mt,ZD(n)];return r=r||(typeof n=="object"?void 0:tr(n)),new xi(o,e||Wa(),r||null,i)}var be=class n{static THROW_IF_NOT_FOUND=Ri;static NULL=new Ba;static create(e,t){if(Array.isArray(e))return vg({name:""},t,e,"");{let r=e.name??"";return vg({name:r},e.parent,e.providers,r)}}static \u0275prov=U({token:n,providedIn:"any",factory:()=>z(xg)});static __NG_ELEMENT_ID__=-1},Ue=new j(""),wn=(()=>{class n{static __NG_ELEMENT_ID__=Hx;static __NG_ENV_ID__=t=>t}return n})(),_g=class extends wn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Ui(this._lView)}onDestroy(e){let t=this._lView;return Gg(t,e),()=>aT(t,e)}};function Hx(){return new _g(fe())}var en=class{_console=console;handleError(e){this._console.error("ERROR",e)}},bt=new j("",{providedIn:"root",factory:()=>{let n=N(ke),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(en),e.handleError(t))}}}),xT={provide:Lr,useValue:()=>void N(en),multi:!0};function nm(n){return typeof n=="function"&&n[lt]!==void 0}function Wt(n,e){let[t,r,i]=Hp(n,e?.equal),o=t,s=o[lt];return o.set=r,o.update=i,o.asReadonly=kT.bind(o),o}function kT(){let n=this[lt];if(n.readonlyFn===void 0){let e=()=>this();e[lt]=n,n.readonlyFn=e}return n.readonlyFn}function rm(n){return nm(n)&&typeof n.set=="function"}var Xl=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=qx}return n})();function qx(){return new Xl(fe(),ht())}var vn=class{},rc=new j("",{providedIn:"root",factory:()=>!1});var im=new j(""),ed=new j(""),Dn=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new tt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ne(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})(),ss=(()=>{class n{internalPendingTasks=N(Dn);scheduler=N(vn);errorHandler=N(bt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})();function ic(...n){}var om=(()=>{class n{static \u0275prov=U({token:n,providedIn:"root",factory:()=>new Eg})}return n})(),Eg=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function hs(n){return{toString:n}.toString()}var td="__parameters__";function Xx(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function ek(n,e,t){return hs(()=>{let r=Xx(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(td)?u[td]:Object.defineProperty(u,td,{value:[]})[td];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var xt=WD(ek("Optional"),8);function tk(n){return typeof n=="function"}var ad=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function fC(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var ir=(()=>{let n=()=>pC;return n.ngInherit=!0,n})();function pC(n){return n.type.prototype.ngOnChanges&&(n.setInput=rk),nk}function nk(){let n=mC(this),e=n?.current;if(e){let t=n.previous;if(t===Fr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function rk(n,e,t,r,i){let o=this.declaredInputs[r],s=mC(n)||ik(n,{previous:Fr,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new ad(l&&l.currentValue,t,u===Fr),fC(n,e,i,t)}var gC="__ngSimpleChanges__";function mC(n){return n[gC]||null}function ik(n,e){return n[gC]=e}var OT=[];var _e=function(n,e=null,t){for(let r=0;r<OT.length;r++){let i=OT[r];i(n,e,t)}};function ok(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=pC(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function yC(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function id(n,e,t){vC(n,e,3,t)}function od(n,e,t,r){(n[K]&3)===t&&vC(n,e,t,r)}function sm(n,e){let t=n[K];(t&3)===e&&(t&=16383,t+=1,n[K]=t)}function vC(n,e,t,r){let i=r!==void 0?n[Li]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[Li]+=65536),(a<o||o==-1)&&(sk(n,t,e,u),n[Li]=(n[Li]&4294901760)+u+2),u++}function FT(n,e){_e(4,n,e);let t=Z(null);try{e.call(n)}finally{Z(t),_e(5,n,e)}}function sk(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[K]>>14<n[Li]>>16&&(n[K]&3)===e&&(n[K]+=16384,FT(a,o)):FT(a,o)}var cs=-1,Hi=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function ak(n){return(n.flags&8)!==0}function ck(n){return(n.flags&16)!==0}function uk(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];lk(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function _C(n){return n===3||n===4||n===6}function lk(n){return n.charCodeAt(0)===64}function ac(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?LT(n,t,i,null,e[++r]):LT(n,t,i,null,null))}}return n}function LT(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function EC(n){return n!==cs}function cd(n){return n&32767}function dk(n){return n>>16}function ud(n,e){let t=dk(n),r=e;for(;t>0;)r=r[Oi],t--;return r}var mm=!0;function VT(n){let e=mm;return mm=n,e}var hk=256,IC=hk-1,wC=5,fk=0,Tn={};function pk(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ki)&&(r=t[ki]),r==null&&(r=t[ki]=fk++);let i=r&IC,o=1<<i;e.data[n+(i>>wC)]|=o}function ld(n,e){let t=DC(n,e);if(t!==-1)return t;let r=e[X];r.firstCreatePass&&(n.injectorIndex=e.length,am(r.data,n),am(e,null),am(r.blueprint,null));let i=Om(n,e),o=n.injectorIndex;if(EC(i)){let s=cd(i),a=ud(i,e),u=a[X].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function am(n,e){n.push(0,0,0,0,0,0,0,0,e)}function DC(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Om(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=AC(i),r===null)return cs;if(t++,i=i[Oi],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return cs}function ym(n,e,t){pk(n,e,t)}function gk(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(_C(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function TC(n,e,t){if(t&8||n!==void 0)return n;Bl(e,"NodeInjector")}function CC(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Vr],o=Nt(void 0);try{return i?i.get(e,r,t&8):Mg(e,r,t&8)}finally{Nt(o)}}return TC(r,e,t)}function bC(n,e,t,r=0,i){if(n!==null){if(e[K]&2048&&!(r&2)){let s=Ek(n,e,t,r,Tn);if(s!==Tn)return s}let o=SC(n,e,t,r,Tn);if(o!==Tn)return o}return CC(e,t,r,i)}function SC(n,e,t,r,i){let o=vk(t);if(typeof o=="function"){if(!Xg(e,n,r))return r&1?TC(i,t,r):CC(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Bl(t);else return s}finally{em()}}else if(typeof o=="number"){let s=null,a=DC(n,e),u=cs,l=r&1?e[qt][Ht]:null;for((a===-1||r&4)&&(u=a===-1?Om(n,e):e[a+8],u===cs||!UT(r,!1)?a=-1:(s=e[X],a=cd(u),e=ud(u,e)));a!==-1;){let h=e[X];if(jT(o,a,h.data)){let p=mk(a,e,t,s,r,l);if(p!==Tn)return p}u=e[a+8],u!==cs&&UT(r,e[X].data[a+8]===l)&&jT(o,a,e)?(s=h,a=cd(u),e=ud(u,e)):a=-1}}return i}function mk(n,e,t,r,i,o){let s=e[X],a=s.data[n+8],u=r==null?Ur(a)&&mm:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=yk(a,s,t,u,l);return h!==null?dd(e,s,h,a,i):Tn}function yk(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let b=s[y];if(y<u&&t===b||y>=u&&b.type===t)return y}if(i){let y=s[u];if(y&&In(y)&&y.type===t)return u}return null}function dd(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Hi){let a=o;if(a.resolving){let y=HD(s[t]);throw Ng(y)}let u=VT(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],h,p=a.injectImpl?Nt(a.injectImpl):null,m=Xg(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&ok(t,s[t],e)}finally{p!==null&&Nt(p),VT(u),a.resolving=!1,em()}}return o}function vk(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ki)?n[ki]:void 0;return typeof e=="number"?e>=0?e&IC:_k:e}function jT(n,e,t){let r=1<<n;return!!(t[e+(n>>wC)]&r)}function UT(n,e){return!(n&2)&&!(n&1&&e)}var $i=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return bC(this._tNode,this._lView,e,Ni(r),t)}};function _k(){return new $i(ht(),fe())}function or(n){return hs(()=>{let e=n.prototype.constructor,t=e[Ua]||vm(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Ua]||vm(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function vm(n){return Dg(n)?()=>{let e=vm(nt(n));return e&&e()}:Mi(n)}function Ek(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[K]&2048&&!ns(s);){let a=SC(o,s,t,r|2,Tn);if(a!==Tn)return a;let u=o.parent;if(!u){let l=s[Bg];if(l){let h=l.get(t,Tn,r);if(h!==Tn)return h}u=AC(s),s=s[Oi]}o=u}return i}function AC(n){let e=n[X],t=e.type;return t===2?e.declTNode:t===1?n[Ht]:null}function hc(n){return gk(ht(),n)}function Ik(){return Dd(ht(),fe())}function Dd(n,e){return new bn(on(n,e))}var bn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=Ik}return n})();function RC(n){return(n.flags&128)===128}var Fm=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(Fm||{}),NC=new Map,wk=0;function Dk(){return wk++}function Tk(n){NC.set(n[Qa],n)}function _m(n){NC.delete(n[Qa])}var BT="__ngContext__";function us(n,e){En(e)?(n[BT]=e[Qa],Tk(e)):n[BT]=e}function MC(n){return xC(n[ts])}function PC(n){return xC(n[$t])}function xC(n){for(;n!==null&&!rn(n);)n=n[$t];return n}var Em;function Lm(n){Em=n}function kC(){if(Em!==void 0)return Em;if(typeof document<"u")return document;throw new V(210,!1)}var Td=new j("",{providedIn:"root",factory:()=>Ck}),Ck="ng",Cd=new j(""),Ki=new j("",{providedIn:"platform",factory:()=>"unknown"});var bd=new j("",{providedIn:"root",factory:()=>kC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var bk="h",Sk="b";var OC=!1,FC=new j("",{providedIn:"root",factory:()=>OC});var Vm=new j("");var Ak=(n,e,t,r)=>{};function Rk(n,e,t,r){Ak(n,e,t,r)}function jm(n){return(n.flags&32)===32}var Nk=()=>null;function LC(n,e,t=!1){return Nk(n,e,t)}function VC(n,e){let t=n.contentQueries;if(t!==null){let r=Z(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Jg(o),a.contentQueries(2,e[s],s)}}}finally{Z(r)}}}function Im(n,e,t){Jg(0);let r=Z(null);try{e(n,t)}finally{Z(r)}}function jC(n,e,t){if($g(e)){let r=Z(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{Z(r)}}}var rr=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(rr||{});var nd;function Mk(){if(nd===void 0&&(nd=null,$a.trustedTypes))try{nd=$a.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return nd}function $T(n){return Mk()?.createScriptURL(n)||n}var hd=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${jl})`}};function fc(n){return n instanceof hd?n.changingThisBreaksApplicationSecurity:n}function Um(n,e){let t=UC(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${jl})`)}return t===e}function UC(n){return n instanceof hd&&n.getTypeName()||null}var Pk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function BC(n){return n=String(n),n.match(Pk)?n:"unsafe:"+n}function xk(n,e){return n.createText(e)}function kk(n,e,t){n.setValue(e,t)}function $C(n,e,t){return n.createElement(e,t)}function fd(n,e,t,r,i){n.insertBefore(e,t,r,i)}function HC(n,e,t){n.appendChild(e,t)}function HT(n,e,t,r,i){r!==null?fd(n,e,t,r,i):HC(n,e,t)}function Ok(n,e,t,r){n.removeChild(null,e,t,r)}function Fk(n,e,t){n.setAttribute(e,"style",t)}function Lk(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function qC(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&uk(n,e,r),i!==null&&Lk(n,e,i),o!==null&&Fk(n,e,o)}var Sd=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Sd||{});function zC(n){let e=WC();return e?e.sanitize(Sd.URL,n)||"":Um(n,"URL")?fc(n):BC(qa(n))}function GC(n){let e=WC();if(e)return $T(e.sanitize(Sd.RESOURCE_URL,n)||"");if(Um(n,"ResourceURL"))return $T(fc(n));throw new V(904,!1)}function Vk(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?GC:zC}function Bm(n,e,t){return Vk(e,t)(n)}function WC(){let n=fe();return n&&n[_n].sanitizer}function KC(n){return n instanceof Function?n():n}function jk(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var QC="ng-template";function Uk(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&jk(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if($m(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function $m(n){return n.type===4&&n.value!==QC}function Bk(n,e,t){let r=n.type===4&&!t?QC:n.value;return e===r}function $k(n,e,t){let r=4,i=n.attrs,o=i!==null?zk(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!sn(r)&&!sn(u))return!1;if(s&&sn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!Bk(n,u,t)||u===""&&e.length===1){if(sn(r))return!1;s=!0}}else if(r&8){if(i===null||!Uk(n,i,u,t)){if(sn(r))return!1;s=!0}}else{let l=e[++a],h=Hk(u,i,$m(n),t);if(h===-1){if(sn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(sn(r))return!1;s=!0}}}}return sn(r)||s}function sn(n){return(n&1)===0}function Hk(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Gk(e,n)}function qk(n,e,t=!1){for(let r=0;r<e.length;r++)if($k(n,e[r],t))return!0;return!1}function zk(n){for(let e=0;e<n.length;e++){let t=n[e];if(_C(t))return e}return n.length}function Gk(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function qT(n,e){return n?":not("+e.trim()+")":e}function Wk(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!sn(s)&&(e+=qT(o,i),i=""),r=s,o=o||!sn(r);t++}return i!==""&&(e+=qT(o,i)),e}function Kk(n){return n.map(Wk).join(",")}function Qk(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!sn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Sn={};function Hm(n,e,t,r,i,o,s,a,u,l,h){let p=dt+r,m=p+i,y=Yk(p,m),b=typeof l=="function"?l():l;return y[X]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:b,incompleteFirstPass:!1,ssrId:h}}function Yk(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Sn);return t}function Zk(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Hm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function qm(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[nn]=i,p[K]=r|4|128|8|64|1024,(l!==null||n&&n[K]&2048)&&(p[K]|=2048),qg(p),p[rt]=p[Oi]=n,p[it]=t,p[_n]=s||n&&n[_n],p[Re]=a||n&&n[Re],p[Vr]=u||n&&n[Vr]||null,p[Ht]=o,p[Qa]=Dk(),p[Ka]=h,p[Bg]=l,p[qt]=e.type==2?n[qt]:p,p}function Jk(n,e,t){let r=on(e,n),i=Zk(t),o=n[_n].rendererFactory,s=zm(n,qm(n,i,null,YC(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function YC(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function ZC(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function zm(n,e){return n[ts]?n[Ug][$t]=e:n[ts]=e,n[Ug]=e,e}function Xk(n=1){JC(Et(),fe(),Bi()+n,!1)}function JC(n,e,t,r){if(!r)if((e[K]&3)===3){let o=n.preOrderCheckHooks;o!==null&&id(e,o,t)}else{let o=n.preOrderHooks;o!==null&&od(e,o,0,t)}$r(t)}var Ad=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Ad||{});function wm(n,e,t,r){let i=Z(null);try{let[o,s,a]=n.inputs[t],u=null;(s&Ad.SignalBased)!==0&&(u=e[o][lt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):fC(e,u,o,r)}finally{Z(i)}}var Cn=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Cn||{}),eO;function Gm(n,e){return eO(n,e)}var ls=new Set,Rd=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(Rd||{}),Qi=new j(""),zT=new Set;function An(n){zT.has(n)||(zT.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var XC=!1,Dm=class extends Le{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,tT()&&(this.destroyRef=N(wn,{optional:!0})??void 0,this.pendingTasks=N(Dn,{optional:!0})??void 0)}emit(e){let t=Z(null);try{super.next(e)}finally{Z(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ae&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Be=Dm;function eb(n){let e,t;function r(){n=ic;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function GT(n){return queueMicrotask(()=>n()),()=>{n=ic}}var Wm="isAngularZone",pd=Wm+"_ID",tO=0,pe=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Be(!1);onMicrotaskEmpty=new Be(!1);onStable=new Be(!1);onError=new Be(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=XC}=e;if(typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,iO(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Wm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new V(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,nO,ic,ic);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},nO={};function Km(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function rO(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){eb(()=>{n.callbackScheduled=!1,Tm(n),n.isCheckStableRunning=!0,Km(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Tm(n)}function iO(n){let e=()=>{rO(n)},t=tO++;n._inner=n._inner.fork({name:"angular",properties:{[Wm]:!0,[pd]:t,[pd+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(oO(u))return r.invokeTask(o,s,a,u);try{return WT(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),KT(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return WT(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!sO(u)&&e(),KT(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Tm(n),Km(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Tm(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function WT(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function KT(n){n._nesting--,Km(n)}var cc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Be;onMicrotaskEmpty=new Be;onStable=new Be;onError=new Be;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function oO(n){return tb(n,"__ignore_ng_zone__")}function sO(n){return tb(n,"__scheduler_tick__")}function tb(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Qm=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})(),nb=[0,1,2,3],rb=(()=>{class n{ngZone=N(pe);scheduler=N(vn);errorHandler=N(en,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){N(Qi,{optional:!0})}execute(){let t=this.sequences.size>0;t&&_e(16),this.executing=!0;for(let r of nb)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&_e(17)}register(t){let{view:r}=t;r!==void 0?((r[ji]??=[]).push(t),rs(r),r[K]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Rd.AFTER_NEXT_RENDER,t):t()}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})(),gd=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[ji];e&&(this.view[ji]=e.filter(t=>t!==this))}};function Nd(n,e){let t=e?.injector??N(be);return An("NgAfterNextRender"),cO(n,t,e,!0)}function aO(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function cO(n,e,t,r){let i=e.get(Qm);i.impl??=e.get(rb);let o=e.get(Qi,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(wn):null,a=e.get(Xl,null,{optional:!0}),u=new gd(i.impl,aO(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var uO=new j("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function ib(n,e,t){let r=n.get(uO);if(Array.isArray(e))for(let i of e)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(n)}function lO(n,e){for(let[t,r]of e)ib(n,r.animateFns)}function QT(n,e,t,r){let i=n?.[Za]?.enter;e!==null&&i&&i.has(t.index)&&lO(r,i)}function as(n,e,t,r,i,o,s,a){if(i!=null){let u,l=!1;rn(i)?u=i:En(i)&&(l=!0,i=i[nn]);let h=zt(i);n===0&&r!==null?(QT(a,r,o,t),s==null?HC(e,r,h):fd(e,r,h,s||null,!0)):n===1&&r!==null?(QT(a,r,o,t),fd(e,r,h,s||null,!0)):n===2?YT(a,o,t,p=>{Ok(e,h,l,p)}):n===3&&YT(a,o,t,()=>{e.destroyNode(h)}),u!=null&&DO(e,n,t,u,o,r,s)}}function dO(n,e){ob(n,e),e[nn]=null,e[Ht]=null}function hO(n,e,t,r,i,o){r[nn]=i,r[Ht]=e,Md(n,r,t,1,i,o)}function ob(n,e){e[_n].changeDetectionScheduler?.notify(9),Md(n,e,e[Re],2,null,null)}function fO(n){let e=n[ts];if(!e)return cm(n[X],n);for(;e;){let t=null;if(En(e))t=e[ts];else{let r=e[_t];r&&(t=r)}if(!t){for(;e&&!e[$t]&&e!==n;)En(e)&&cm(e[X],e),e=e[rt];e===null&&(e=n),En(e)&&cm(e[X],e),t=e&&e[$t]}e=t}}function Ym(n,e){let t=n[Xa],r=t.indexOf(e);t.splice(r,1)}function Zm(n,e){if(Ui(e))return;let t=e[Re];t.destroyNode&&Md(n,e,t,3,null,null),fO(e)}function cm(n,e){if(Ui(e))return;let t=Z(null);try{e[K]&=-129,e[K]|=256,e[Pt]&&xa(e[Pt]),mO(n,e),gO(n,e),e[X].type===1&&e[Re].destroy();let r=e[Fi];if(r!==null&&rn(e[rt])){r!==e[rt]&&Ym(r,e);let i=e[Vi];i!==null&&i.detachView(n)}_m(e)}finally{Z(t)}}function YT(n,e,t,r){let i=n?.[Za];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);n&&ls.add(n),ib(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:h}=l();a.push(h)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),pO(n,r)}else n&&ls.delete(n),r(!1)},i)}function pO(n,e){let t=n[Za]?.running;if(t){t.then(()=>{n[Za].running=void 0,ls.delete(n),e(!0)});return}e(!1)}function gO(n,e){let t=n.cleanup,r=e[es];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[es]=null);let i=e[er];if(i!==null){e[er]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Ya];if(o!==null){e[Ya]=null;for(let s of o)s.destroy()}}function mO(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Hi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];_e(4,a,u);try{u.call(a)}finally{_e(5,a,u)}}else{_e(4,i,o);try{o.call(i)}finally{_e(5,i,o)}}}}}function yO(n,e,t){return vO(n,e.parent,t)}function vO(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[nn];if(Ur(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===rr.None||i===rr.Emulated)return null}return on(r,t)}function _O(n,e,t){return IO(n,e,t)}function EO(n,e,t){return n.type&40?on(n,t):null}var IO=EO,ZT;function Jm(n,e,t,r){let i=yO(n,r,e),o=e[Re],s=r.parent||e[Ht],a=_O(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)HT(o,i,t[u],a,!1);else HT(o,i,t,a,!1);ZT!==void 0&&ZT(o,r,e,t,i)}function oc(n,e){if(e!==null){let t=e.type;if(t&3)return on(e,n);if(t&4)return Cm(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return oc(n,r);{let i=n[e.index];return rn(i)?Cm(-1,i):zt(i)}}else{if(t&128)return oc(n,e.next);if(t&32)return Gm(e,n)()||zt(n[e.index]);{let r=sb(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=kr(n[qt]);return oc(i,r)}else return oc(n,e.next)}}}return null}function sb(n,e){if(e!==null){let r=n[qt][Ht],i=e.projection;return r.projection[i]}return null}function Cm(n,e){let t=_t+n+1;if(t<e.length){let r=e[t],i=r[X].firstChild;if(i!==null)return oc(r,i)}return e[jr]}function Xm(n,e,t,r,i,o,s){for(;t!=null;){let a=r[Vr];if(t.type===128){t=t.next;continue}let u=r[t.index],l=t.type;if(s&&e===0&&(u&&us(zt(u),r),t.flags|=2),!jm(t))if(l&8)Xm(n,e,t.child,r,i,o,!1),as(e,n,a,i,u,t,o,r);else if(l&32){let h=Gm(t,r),p;for(;p=h();)as(e,n,a,i,p,t,o,r);as(e,n,a,i,u,t,o,r)}else l&16?wO(n,e,r,t,i,o):as(e,n,a,i,u,t,o,r);t=s?t.projectionNext:t.next}}function Md(n,e,t,r,i,o){Xm(t,r,n.firstChild,e,i,o,!1)}function wO(n,e,t,r,i,o){let s=t[qt],u=s[Ht].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];as(e,n,t[Vr],i,h,r,o,t)}else{let l=u,h=s[rt];RC(r)&&(l.flags|=128),Xm(n,e,l,h,i,o,!0)}}function DO(n,e,t,r,i,o,s){let a=r[jr],u=zt(r);a!==u&&as(e,n,t,o,a,i,s);for(let l=_t;l<r.length;l++){let h=r[l];Md(h[X],h,n,e,o,a)}}function TO(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Cn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Cn.Important),n.setStyle(t,r,i,o))}}function ab(n,e,t,r,i){let o=Bi(),s=r&2;try{$r(-1),s&&e.length>dt&&JC(n,e,dt,!1),_e(s?2:0,i,t),t(r,i)}finally{$r(o),_e(s?3:1,i,t)}}function ey(n,e,t){MO(n,e,t),(t.flags&64)===64&&PO(n,e,t)}function ty(n,e,t=on){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function CO(n,e,t,r){let o=r.get(FC,OC)||t===rr.ShadowDom,s=n.selectRootElement(e,o);return bO(s),s}function bO(n){SO(n)}var SO=()=>null;function AO(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function cb(n,e,t,r,i,o){let s=e[X];if(ny(n,s,e,t,r)){Ur(n)&&NO(e,n.index);return}n.type&3&&(t=AO(t)),RO(n,e,t,r,i,o)}function RO(n,e,t,r,i,o){if(n.type&3){let s=on(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function NO(n,e){let t=Gt(e,n);t[K]&16||(t[K]|=64)}function MO(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Ur(t)&&Jk(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||ld(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=dd(e,n,s,t);if(us(u,e),o!==null&&FO(e,s-r,u,a,t,o),In(a)){let l=Gt(t.index,e);l[it]=dd(e,n,s,t)}}}function PO(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=CT();try{$r(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Wl(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&xO(u,l)}}finally{$r(-1),Wl(s)}}function xO(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function ub(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];qk(e,o.selectors,!1)&&(r??=[],In(o)?r.unshift(o):r.push(o))}return r}function kO(n,e,t,r,i,o){let s=on(n,e);OO(e[Re],s,o,n.value,t,r,i)}function OO(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?qa(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function FO(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];wm(r,t,u,l)}}function LO(n,e,t,r,i){let o=dt+t,s=e[X],a=i(s,e,n,r,t);e[o]=a,is(n,!0);let u=n.type===2;return u?(qC(e[Re],a,n),(lT()===0||ec(n))&&us(a,e),dT()):us(a,e),Zl()&&(!u||!jm(n))&&Jm(s,e,a,n),n}function VO(n){let e=n;return Qg()?_T():(e=e.parent,is(e,!1)),e}function jO(n,e){let t=n[Vr];if(!t)return;let r;try{r=t.get(bt,null)}catch{r=null}r?.(e)}function ny(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];wm(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];wm(h,l,r,i),a=!0}return a}function UO(n,e){let t=Gt(e,n),r=t[X];BO(r,t);let i=t[nn];i!==null&&t[Ka]===null&&(t[Ka]=LC(i,t[Vr])),_e(18),ry(r,t,t[it]),_e(19,t[it])}function BO(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function ry(n,e,t){Kl(e);try{let r=n.viewQuery;r!==null&&Im(1,r,t);let i=n.template;i!==null&&ab(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Vi]?.finishViewCreation(n),n.staticContentQueries&&VC(n,e),n.staticViewQueries&&Im(2,n.viewQuery,t);let o=n.components;o!==null&&$O(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[K]&=-5,Ql()}}function $O(n,e){for(let t=0;t<e.length;t++)UO(n,e[t])}function lb(n,e,t,r){let i=Z(null);try{let o=e.tView,a=n[K]&4096?4096:16,u=qm(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Fi]=l;let h=n[Vi];return h!==null&&(u[Vi]=h.createEmbeddedView(o)),ry(o,u,t),u}finally{Z(i)}}function bm(n,e){return!e||e.firstChild===null||RC(n)}function uc(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(zt(o)),rn(o)&&db(o,r);let s=t.type;if(s&8)uc(n,e,t.child,r);else if(s&32){let a=Gm(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=sb(e,t);if(Array.isArray(a))r.push(...a);else{let u=kr(e[qt]);uc(u[X],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function db(n,e){for(let t=_t;t<n.length;t++){let r=n[t],i=r[X].firstChild;i!==null&&uc(r[X],r,i,e)}n[jr]!==n[nn]&&e.push(n[jr])}function hb(n){if(n[ji]!==null){for(let e of n[ji])e.impl.addSequence(e);n[ji].length=0}}var fb=[];function HO(n){return n[Pt]??qO(n)}function qO(n){let e=fb.pop()??Object.create(GO);return e.lView=n,e}function zO(n){n.lView[Pt]!==n&&(n.lView=null,fb.push(n))}var GO=te(x({},xo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{rs(n.lView)},consumerOnSignalRead(){this.lView[Pt]=this}});function WO(n){let e=n[Pt]??Object.create(KO);return e.lView=n,e}var KO=te(x({},xo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=kr(n.lView);for(;e&&!pb(e[X]);)e=kr(e);e&&zg(e)},consumerOnSignalRead(){this.lView[Pt]=this}});function pb(n){return n.type!==2}function gb(n){if(n[Ya]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Ya])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[K]&8192)}}var QO=100;function mb(n,e=0){let r=n[_n].rendererFactory,i=!1;i||r.begin?.();try{YO(n,e)}finally{i||r.end?.()}}function YO(n,e){let t=Yg();try{Zg(!0),Sm(n,e);let r=0;for(;nc(n);){if(r===QO)throw new V(103,!1);r++,Sm(n,1)}}finally{Zg(t)}}function ZO(n,e,t,r){if(Ui(e))return;let i=e[K],o=!1,s=!1;Kl(e);let a=!0,u=null,l=null;o||(pb(n)?(l=HO(e),u=Oo(l)):sl()===null?(a=!1,l=WO(e),u=Oo(l)):e[Pt]&&(xa(e[Pt]),e[Pt]=null));try{qg(e),IT(n.bindingStartIndex),t!==null&&ab(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&id(e,y,null)}else{let y=n.preOrderHooks;y!==null&&od(e,y,0,null),sm(e,0)}if(s||JO(e),gb(e),yb(e,0),n.contentQueries!==null&&VC(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&id(e,y)}else{let y=n.contentHooks;y!==null&&od(e,y,1),sm(e,1)}e1(n,e);let p=n.components;p!==null&&_b(e,p,0);let m=n.viewQuery;if(m!==null&&Im(2,m,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&id(e,y)}else{let y=n.viewHooks;y!==null&&od(e,y,2),sm(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[ql]){for(let y of e[ql])y();e[ql]=null}o||(hb(e),e[K]&=-73)}catch(h){throw o||rs(e),h}finally{l!==null&&(Ma(l,u),a&&zO(l)),Ql()}}function yb(n,e){for(let t=MC(n);t!==null;t=PC(t))for(let r=_t;r<t.length;r++){let i=t[r];vb(i,e)}}function JO(n){for(let e=MC(n);e!==null;e=PC(e)){if(!(e[K]&2))continue;let t=e[Xa];for(let r=0;r<t.length;r++){let i=t[r];zg(i)}}}function XO(n,e,t){_e(18);let r=Gt(e,n);vb(r,t),_e(19,r[it])}function vb(n,e){zl(n)&&Sm(n,e)}function Sm(n,e){let r=n[X],i=n[K],o=n[Pt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Pa(o)),s||=!1,o&&(o.dirty=!1),n[K]&=-9217,s)ZO(r,n,r.template,n[it]);else if(i&8192){let a=Z(null);try{gb(n),yb(n,1);let u=r.components;u!==null&&_b(n,u,1),hb(n)}finally{Z(a)}}}function _b(n,e,t){for(let r=0;r<e.length;r++)XO(n,e[r],t)}function e1(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)$r(~i);else{let o=i,s=t[++r],a=t[++r];TT(s,o);let u=e[o];_e(24,u),a(2,u),_e(25,u)}}}finally{$r(-1)}}function iy(n,e){let t=Yg()?64:1088;for(n[_n].changeDetectionScheduler?.notify(e);n;){n[K]|=t;let r=kr(n);if(ns(n)&&!r)return n;n=r}return null}function Eb(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function t1(n,e){let t=_t+e;if(t<n.length)return n[t]}function Ib(n,e,t,r=!0){let i=e[X];if(r1(i,e,n,t),r){let s=Cm(t,n),a=e[Re],u=a.parentNode(n[jr]);u!==null&&hO(i,n[Ht],a,e,u,s)}let o=e[Ka];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function n1(n,e){let t=md(n,e);return t!==void 0&&Zm(t[X],t),t}function md(n,e){if(n.length<=_t)return;let t=_t+e,r=n[t];if(r){let i=r[Fi];i!==null&&i!==n&&Ym(i,r),e>0&&(n[t-1][$t]=r[$t]);let o=za(n,_t+e);dO(r[X],r);let s=o[Vi];s!==null&&s.detachView(o[X]),r[rt]=null,r[$t]=null,r[K]&=-129}return r}function r1(n,e,t,r){let i=_t+r,o=t.length;r>0&&(t[i-1][$t]=e),r<o-_t?(e[$t]=t[i],Pg(t,_t+r,e)):(t.push(e),e[$t]=null),e[rt]=t;let s=e[Fi];s!==null&&t!==s&&wb(s,e);let a=e[Vi];a!==null&&a.insertView(n),Gl(e),e[K]|=128}function wb(n,e){let t=n[Xa],r=e[rt];if(En(r))n[K]|=2;else{let i=r[rt][qt];e[qt]!==i&&(n[K]|=2)}t===null?n[Xa]=[e]:t.push(e)}var Hr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[X];return uc(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[it]}set context(e){this._lView[it]=e}get destroyed(){return Ui(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[rt];if(rn(e)){let t=e[Ja],r=t?t.indexOf(this):-1;r>-1&&(md(e,r),za(t,r))}this._attachedToViewContainer=!1}Zm(this._lView[X],this._lView)}onDestroy(e){Gg(this._lView,e)}markForCheck(){iy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[K]&=-129}reattach(){Gl(this._lView),this._lView[K]|=128}detectChanges(){this._lView[K]|=1024,mb(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ns(this._lView),t=this._lView[Fi];t!==null&&!e&&Ym(t,this._lView),ob(this._lView[X],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=e;let t=ns(this._lView),r=this._lView[Fi];r!==null&&!t&&wb(r,this._lView),Gl(this._lView)}};var pc=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=i1;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=lb(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Hr(o)}}return n})();function i1(){return o1(ht(),fe())}function o1(n,e){return n.type&4?new pc(e,n,Dd(n,e)):null}function Pd(n,e,t,r,i){let o=n.data[e];if(o===null)o=s1(n,e,t,r,i),DT()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=vT();o.injectorIndex=s===null?-1:s.injectorIndex}return is(o,!0),o}function s1(n,e,t,r,i){let o=Kg(),s=Qg(),a=s?o:o&&o.parent,u=n.data[e]=c1(n,a,t,e,r,i);return a1(n,u,o,s),u}function a1(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function c1(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return fT()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var G5=new RegExp(`^(\\d+)*(${Sk}|${bk})*(.*)`);var u1=()=>null,l1=()=>null;function JT(n,e){return u1(n,e)}function d1(n,e,t){return l1(n,e,t)}var Db=class{},xd=class{},Am=class{resolveComponentFactory(e){throw new V(917,!1)}},gc=class{static NULL=new Am},qi=class{},sr=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>h1()}return n})();function h1(){let n=fe(),e=ht(),t=Gt(e.index,n);return(En(t)?t:n)[Re]}var Tb=(()=>{class n{static \u0275prov=U({token:n,providedIn:"root",factory:()=>null})}return n})();var sd={},Rm=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,sd,r);return i!==sd||t===sd?i:this.parentInjector.get(e,t,r)}};function XT(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=wg(i,a);else if(o==2){let u=a,l=e[++s];r=wg(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function oe(n,e=0){let t=fe();if(t===null)return z(n,e);let r=ht();return bC(r,t,nt(n),e)}function oy(){let n="invalid";throw new Error(n)}function Cb(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}g1(n,e,t,a,o,u,l)}o!==null&&r!==null&&f1(t,r,o)}function f1(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new V(-301,!1);r.push(e[i],o)}}function p1(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function g1(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let y=r[m];!u&&In(y)&&(u=!0,p1(n,t,m)),ym(ld(t,e),n,y.type)}I1(t,n.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=ZC(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(t.mergedAttrs=ac(t.mergedAttrs,y.hostAttrs),y1(n,t,e,p,y),E1(p,y,i),s!==null&&s.has(y)){let[M,R]=s.get(y);t.directiveToIndex.set(y.type,[p,M+t.directiveStart,R+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let b=y.type.prototype;!l&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(b.ngOnChanges||b.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}m1(n,t,o)}function m1(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))eC(0,e,i,r),eC(1,e,i,r),nC(e,r,!1);else{let o=t.get(i);tC(0,e,o,r),tC(1,e,o,r),nC(e,r,!0)}}}function eC(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),bb(e,o)}}function tC(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),bb(e,s)}}function bb(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function nC(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||$m(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function y1(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Mi(i.type,!0)),s=new Hi(o,In(i),oe,null);n.blueprint[r]=s,t[r]=s,v1(n,e,r,ZC(n,t,i.hostVars,Sn),i)}function v1(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;_1(s)!=a&&s.push(a),s.push(t,r,o)}}function _1(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function E1(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;In(e)&&(t[""]=n)}}function I1(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Sb(n,e,t,r,i,o,s,a){let u=e[X],l=u.consts,h=Br(l,s),p=Pd(u,n,t,r,h);return o&&Cb(u,e,p,Br(l,a),i),p.mergedAttrs=ac(p.mergedAttrs,p.attrs),p.attrs!==null&&XT(p,p.attrs,!1),p.mergedAttrs!==null&&XT(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function Ab(n,e){yC(n,e),$g(e)&&n.queries.elementEnd(e)}function sy(n){return Nb(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function Rb(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function Nb(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function w1(n,e,t){return n[e]=t}function D1(n,e){return n[e]}function fs(n,e,t){if(t===Sn)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function um(n,e,t){return function r(i){let o=Ur(n)?Gt(n.index,e):e;iy(o,5);let s=e[it],a=rC(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=rC(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function rC(n,e,t,r){let i=Z(null);try{return _e(6,e,t),t(r)!==!1}catch(o){return jO(n,o),!1}finally{_e(7,e,t),Z(i)}}function T1(n,e,t,r,i,o,s,a){let u=ec(n),l=!1,h=null;if(!r&&u&&(h=b1(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=on(n,t),m=r?r(p):p;Rk(t,m,o,a);let y=i.listen(m,o,a);if(!C1(o)){let b=r?M=>r(zt(M[n.index])):n.index;Mb(b,e,t,o,a,y,!1)}}return l}function C1(n){return n.startsWith("animation")||n.startsWith("transition")}function b1(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[es],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function Mb(n,e,t,r,i,o,s){let a=e.firstCreatePass?uT(e):null,u=cT(t),l=u.length;u.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function iC(n,e,t,r,i,o){let s=e[t],a=e[X],l=a.data[t].outputs[r],p=s[l].subscribe(o);Mb(n.index,a,e,i,o,p,!0)}var Nm=Symbol("BINDING");var yd=class extends gc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=nr(e);return new zi(t,this.ngModule)}};function S1(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Ad.SignalBased)!==0};return i&&(o.transform=i),o})}function A1(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function R1(n,e,t){let r=e instanceof ke?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Rm(t,r):t}function N1(n){let e=n.get(qi,null);if(e===null)throw new V(407,!1);let t=n.get(Tb,null),r=n.get(vn,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function M1(n,e){let t=Pb(n);return $C(e,t,t==="svg"?rT:t==="math"?iT:null)}function Pb(n){return(n.selectors[0][0]||"div").toLowerCase()}var zi=class extends xd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=S1(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=A1(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=Kk(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){_e(22);let a=Z(null);try{let u=this.componentDef,l=P1(r,u,s,o),h=R1(u,i||this.ngModule,e),p=N1(h),m=p.rendererFactory.createRenderer(null,u),y=r?CO(m,r,u.encapsulation,h):M1(u,m),b=s?.some(oC)||o?.some(F=>typeof F!="function"&&F.bindings.some(oC)),M=qm(null,l,null,512|YC(u),null,null,p,m,h,null,LC(y,h,!0));M[dt]=y,Kl(M);let R=null;try{let F=Sb(dt,M,2,"#host",()=>l.directiveRegistry,!0,0);qC(m,y,F),us(y,M),ey(l,M,F),jC(l,F,M),Ab(l,F),t!==void 0&&k1(F,this.ngContentSelectors,t),R=Gt(F.index,M),M[it]=R[it],ry(l,M,null)}catch(F){throw R!==null&&_m(R),_m(M),F}finally{_e(23),Ql()}return new vd(this.componentType,M,!!b)}finally{Z(a)}}};function P1(n,e,t,r){let i=n?["ng-version","20.3.15"]:Qk(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[Nm].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let m of p.bindings){a+=m[Nm].requiredVars;let y=h+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,m=Fg(p);u.push(m)}return Hm(0,null,x1(o,s),1,a,u,null,null,null,[i],null)}function x1(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function oC(n){let e=n[Nm].kind;return e==="input"||e==="twoWay"}var vd=class extends Db{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=tc(t[X],dt),this.location=Dd(this._tNode,t),this.instance=Gt(this._tNode.index,t)[it],this.hostView=this.changeDetectorRef=new Hr(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=ny(r,i[X],i,e,t);this.previousInputValues.set(e,t);let s=Gt(r.index,i);iy(s,1)}get injector(){return new $i(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function k1(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Yi=(()=>{class n{static __NG_ELEMENT_ID__=O1}return n})();function O1(){let n=ht();return L1(n,fe())}var F1=Yi,xb=class extends F1{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Dd(this._hostTNode,this._hostLView)}get injector(){return new $i(this._hostTNode,this._hostLView)}get parentInjector(){let e=Om(this._hostTNode,this._hostLView);if(EC(e)){let t=ud(e,this._hostLView),r=cd(e),i=t[X].data[r+8];return new $i(i,t)}else return new $i(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=sC(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-_t}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=JT(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,bm(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let u=e&&!tk(e),l;if(u)l=t;else{let R=t||{};l=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,a=R.bindings}let h=u?e:new zi(nr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let F=(u?p:this.parentInjector).get(ke,null);F&&(o=F)}let m=nr(h.componentType??{}),y=JT(this._lContainer,m?.id??null),b=y?.firstChild??null,M=h.create(p,i,b,o,s,a);return this.insertImpl(M.hostView,l,bm(this._hostTNode,y)),M}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(oT(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[rt],l=new xb(u,u[Ht],u[rt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return Ib(s,i,o,r),e.attachToViewContainerRef(),Pg(lm(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=sC(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=md(this._lContainer,t);r&&(za(lm(this._lContainer),t),Zm(r[X],r))}detach(e){let t=this._adjustIndex(e,-1),r=md(this._lContainer,t);return r&&za(lm(this._lContainer),t)!=null?new Hr(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function sC(n){return n[Ja]}function lm(n){return n[Ja]||(n[Ja]=[])}function L1(n,e){let t,r=e[n.index];return rn(r)?t=r:(t=Eb(r,e,null,n),e[n.index]=t,zm(e,t)),j1(t,e,n,r),new xb(t,n,e)}function V1(n,e){let t=n[Re],r=t.createComment(""),i=on(e,n),o=t.parentNode(i);return fd(t,o,r,t.nextSibling(i),!1),r}var j1=$1,U1=()=>!1;function B1(n,e,t){return U1(n,e,t)}function $1(n,e,t,r){if(n[jr])return;let i;t.type&8?i=zt(r):i=V1(e,t),n[jr]=i}var Gi=class{},kd=class{};var _d=class extends Gi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new yd(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Og(e);this._bootstrapComponents=KC(o.bootstrap),this._r3Injector=tm(e,t,[{provide:Gi,useValue:this},{provide:gc,useValue:this.componentFactoryResolver},...r],tr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ed=class extends kd{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new _d(this.moduleType,e,[])}};var lc=class extends Gi{injector;componentFactoryResolver=new yd(this);instance=null;constructor(e){super();let t=new xi([...e.providers,{provide:Gi,useValue:this},{provide:gc,useValue:this.componentFactoryResolver}],e.parent||Wa(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ps(n,e,t=null){return new lc({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var H1=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Lg(!1,t.type),i=r.length>0?ps([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=U({token:n,providedIn:"environment",factory:()=>new n(z(ke))})}return n})();function ay(n){return hs(()=>{let e=kb(n),t=te(x({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Fm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(H1).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||rr.Emulated,styles:n.styles||Mt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&An("NgStandalone"),Ob(t);let r=n.dependencies;return t.directiveDefs=aC(r,q1),t.pipeDefs=aC(r,YD),t.id=W1(t),t})}function q1(n){return nr(n)||Fg(n)}function Rn(n){return hs(()=>({type:n.type,bootstrap:n.bootstrap||Mt,declarations:n.declarations||Mt,imports:n.imports||Mt,exports:n.exports||Mt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function z1(n,e){if(n==null)return Fr;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Ad.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function G1(n){if(n==null)return Fr;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Ne(n){return hs(()=>{let e=kb(n);return Ob(e),e})}function kb(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Fr,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Mt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:z1(n.inputs,e),outputs:G1(n.outputs),debugInfo:null}}function Ob(n){n.features?.forEach(e=>e(n))}function aC(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function W1(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function K1(n){return Object.getPrototypeOf(n.prototype).constructor}function kt(n){let e=K1(n.type),t=!0,r=[n];for(;e;){let i;if(In(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new V(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=dm(n.inputs),s.declaredInputs=dm(n.declaredInputs),s.outputs=dm(n.outputs);let a=i.hostBindings;a&&X1(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&Z1(n,u),l&&J1(n,l),Q1(n,i),$D(n.outputs,i.outputs),In(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===kt&&(t=!1)}}e=Object.getPrototypeOf(e)}Y1(r)}function Q1(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function Y1(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ac(i.hostAttrs,t=ac(t,i.hostAttrs))}}function dm(n){return n===Fr?{}:n===Mt?[]:n}function Z1(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function J1(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function X1(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function Fb(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=ac(n.mergedAttrs,n.attrs);let h=n.tView=Hm(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),is(n,!1);let u=tF(t,e,n,r);Zl()&&Jm(t,e,u,n),us(u,e);let l=Eb(u,e,u,n);e[r+dt]=l,zm(e,l),B1(l,n,e)}function eF(n,e,t,r,i,o,s,a,u,l,h){let p=t+dt,m;return e.firstCreatePass?(m=Pd(e,p,4,s||null,a||null),Wg()&&Cb(e,n,m,Br(e.consts,l),ub),yC(e,m)):m=e.data[p],Fb(m,n,e,t,r,i,o,u),ec(m)&&ey(e,n,m),l!=null&&ty(n,m,h),m}function Lb(n,e,t,r,i,o,s,a,u,l,h){let p=t+dt,m;if(e.firstCreatePass){if(m=Pd(e,p,4,s||null,a||null),l!=null){let y=Br(e.consts,l);m.localNames=[];for(let b=0;b<y.length;b+=2)m.localNames.push(y[b],-1)}}else m=e.data[p];return Fb(m,n,e,t,r,i,o,u),l!=null&&ty(n,m,h),m}function Vb(n,e,t,r,i,o,s,a){let u=fe(),l=Et(),h=Br(l.consts,o);return eF(u,l,n,e,t,r,i,h,void 0,s,a),Vb}var tF=nF;function nF(n,e,t,r){return Jl(!0),e[Re].createComment("")}var cy=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var uy=new j("");function qr(n){return!!n&&typeof n.then=="function"}function ly(n){return!!n&&typeof n.subscribe=="function"}var dy=new j("");function Od(n){return Bt([{provide:dy,multi:!0,useValue:n}])}var hy=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=N(dy,{optional:!0})??[];injector=N(be);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=je(this.injector,i);if(qr(o))t.push(o);else if(ly(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mc=new j("");function jb(){$p(()=>{let n="";throw new V(600,n)})}function Ub(n){return n.isBoundToModule}var rF=10;var zr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=N(bt);afterRenderManager=N(Qm);zonelessEnabled=N(rc);rootEffectScheduler=N(om);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Le;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=N(Dn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ce(t=>!t))}constructor(){N(Qi,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=N(ke);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=be.NULL){return this._injector.get(pe).run(()=>{_e(10);let s=t instanceof xd;if(!this._injector.get(hy).done){let b="";throw new V(405,b)}let u;s?u=t:u=this._injector.get(gc).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=Ub(u)?void 0:this._injector.get(Gi),h=r||u.selector,p=u.create(i,[],h,l),m=p.location.nativeElement,y=p.injector.get(uy,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),sc(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),_e(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){_e(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Rd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new V(101,!1);let t=Z(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,Z(t),this.afterTick.next(),_e(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(qi,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<rF;)_e(14),this.synchronizeOnce(),_e(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!nc(i))continue;let o=r&&!this.zonelessEnabled?0:1;mb(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>nc(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;sc(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(mc,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>sc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new V(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sc(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Zi(n,e,t,r){let i=fe(),o=os();if(fs(i,o,e)){let s=Et(),a=Yl();kO(a,i,n,e,t,r)}return Zi}var X5=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function iF(n,e,t,r,i,o,s,a){An("NgControlFlow");let u=fe(),l=Et(),h=Br(l.consts,o);return Lb(u,l,n,e,t,r,i,h,256,s,a),fy}function fy(n,e,t,r,i,o,s,a){An("NgControlFlow");let u=fe(),l=Et(),h=Br(l.consts,o);return Lb(u,l,n,e,t,r,i,h,512,s,a),fy}function oF(n,e){An("NgControlFlow");let t=fe(),r=os(),i=t[r]!==Sn?t[r]:-1,o=i!==-1?cC(t,dt+i):void 0,s=0;if(fs(t,r,n)){let a=Z(null);try{if(o!==void 0&&n1(o,s),n!==-1){let u=dt+n,l=cC(t,u),h=sF(t[X],u),p=d1(l,h,t),m=lb(t,h,e,{dehydratedView:p});Ib(l,m,s,bm(h,p))}}finally{Z(a)}}else if(o!==void 0){let a=t1(o,s);a!==void 0&&(a[it]=e)}}function cC(n,e){return n[e]}function sF(n,e){return tc(n,e)}function Bb(n,e,t){let r=fe(),i=os();if(fs(r,i,e)){let o=Et(),s=Yl();cb(s,r,n,e,r[Re],t)}return Bb}function uC(n,e,t,r,i){ny(e,n,t,i?"class":"style",r)}function py(n,e,t,r){let i=fe(),o=i[X],s=n+dt,a=o.firstCreatePass?Sb(s,i,2,e,ub,Wg(),t,r):o.data[s];if(LO(a,i,n,e,aF),ec(a)){let u=i[X];ey(u,i,a),jC(u,a,i)}return r!=null&&ty(i,a),py}function gy(){let n=Et(),e=ht(),t=VO(e);return n.firstCreatePass&&Ab(n,t),pT(t)&&gT(),hT(),t.classesWithoutHost!=null&&ak(t)&&uC(n,t,fe(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&ck(t)&&uC(n,t,fe(),t.stylesWithoutHost,!1),gy}function Fd(n,e,t,r){return py(n,e,t,r),gy(),Fd}var aF=(n,e,t,r,i)=>(Jl(!0),$C(e[Re],r,MT()));function cF(){return fe()}var yc="en-US";var uF=yc;function $b(n){typeof n=="string"&&(uF=n.toLowerCase().replace(/_/g,"-"))}function ar(n,e,t){let r=fe(),i=Et(),o=ht();return Hb(i,r,r[Re],o,n,e,t),ar}function Hb(n,e,t,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=um(r,e,o),T1(r,n,e,s,t,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],y=h[p+1];u??=um(r,e,o),iC(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=um(r,e,o),iC(r,e,p,i,i,u)}}function lF(n=1){return NT(n)}function rd(n,e){return n<<17|e<<2}function Wi(n){return n>>17&32767}function dF(n){return(n&2)==2}function hF(n,e){return n&131071|e<<17}function Mm(n){return n|2}function ds(n){return(n&131068)>>2}function hm(n,e){return n&-131069|e<<2}function fF(n){return(n&1)===1}function Pm(n){return n|1}function pF(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Wi(s),u=ds(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Xo(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let m=Wi(n[a+1]);n[r+1]=rd(m,a),m!==0&&(n[m+1]=hm(n[m+1],r)),n[a+1]=hF(n[a+1],r)}else n[r+1]=rd(a,0),a!==0&&(n[a+1]=hm(n[a+1],r)),a=r;else n[r+1]=rd(u,0),a===0?a=r:n[u+1]=hm(n[u+1],r),u=r;l&&(n[r+1]=Mm(n[r+1])),lC(n,h,r,!0),lC(n,h,r,!1),gF(e,h,n,r,o),s=rd(a,u),o?e.classBindings=s:e.styleBindings=s}function gF(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Xo(o,e)>=0&&(t[r+1]=Pm(t[r+1]))}function lC(n,e,t,r){let i=n[t+1],o=e===null,s=r?Wi(i):ds(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];mF(u,e)&&(a=!0,n[s+1]=r?Pm(l):Mm(l)),s=r?Wi(l):ds(l)}a&&(n[t+1]=r?Mm(i):Pm(i))}function mF(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Xo(n,e)>=0:!1}function vc(n,e){return yF(n,e,null,!0),vc}function yF(n,e,t,r){let i=fe(),o=Et(),s=wT(2);if(o.firstUpdatePass&&_F(o,n,s,r),e!==Sn&&fs(i,s,e)){let a=o.data[Bi()];TF(o,a,i,i[Re],n,i[s+1]=CF(e,t),r,s)}}function vF(n,e){return e>=n.expandoStartIndex}function _F(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Bi()],s=vF(n,t);bF(o,r)&&e===null&&!s&&(e=!1),e=EF(i,o,e,r),pF(i,o,e,t,s,r)}}function EF(n,e,t,r){let i=bT(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=fm(null,n,e,t,r),t=dc(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=fm(i,n,e,t,r),o===null){let u=IF(n,e,r);u!==void 0&&Array.isArray(u)&&(u=fm(null,n,e,u[1],r),u=dc(u,e.attrs,r),wF(n,e,r,u))}else o=DF(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function IF(n,e,t){let r=t?e.classBindings:e.styleBindings;if(ds(r)!==0)return n[Wi(r)]}function wF(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Wi(i)]=r}function DF(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=dc(r,s,t)}return dc(r,e.attrs,t)}function fm(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=dc(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function dc(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),QD(n,s,t?!0:e[++o]))}return n===void 0?null:n}function TF(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=fF(l)?dC(u,e,t,i,ds(l),s):void 0;if(!Id(h)){Id(o)||dF(l)&&(o=dC(u,null,t,i,a,s));let p=Hg(Bi(),t);TO(r,s,p,i,o)}}function dC(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=t[i+1];m===Sn&&(m=p?Mt:void 0);let y=p?Hl(m,r):h===r?m:void 0;if(l&&!Id(y)&&(y=Hl(u,r)),Id(y)&&(a=y,s))return a;let b=n[i+1];i=s?Wi(b):ds(b)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Hl(u,r))}return a}function Id(n){return n!==void 0}function CF(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=tr(fc(n)))),n}function bF(n,e){return(n.flags&(e?8:16))!==0}function SF(n,e=""){let t=fe(),r=Et(),i=n+dt,o=r.firstCreatePass?Pd(r,i,1,e,null):r.data[i],s=AF(r,t,o,e,n);t[i]=s,Zl()&&Jm(r,t,s,o),is(o,!1)}var AF=(n,e,t,r,i)=>(Jl(!0),xk(e[Re],r));function RF(n,e,t,r=""){return fs(n,os(),t)?e+qa(t)+r:Sn}function qb(n){return my("",n),qb}function my(n,e,t){let r=fe(),i=RF(r,n,e,t);return i!==Sn&&NF(r,Bi(),i),my}function NF(n,e,t){let r=Hg(e,n);kk(n[Re],r,t)}function zb(n,e,t){rm(e)&&(e=e());let r=fe(),i=os();if(fs(r,i,e)){let o=Et(),s=Yl();cb(s,r,n,e,r[Re],t)}return zb}function MF(n,e){let t=rm(n);return t&&n.set(e),t}function Gb(n,e){let t=fe(),r=Et(),i=ht();return Hb(r,t,t[Re],i,n,e),Gb}function PF(n,e,t){let r=Et();if(r.firstCreatePass){let i=In(n);xm(t,r.data,r.blueprint,i,!0),xm(e,r.data,r.blueprint,i,!1)}}function xm(n,e,t,r,i){if(n=nt(n),Array.isArray(n))for(let o=0;o<n.length;o++)xm(n[o],e,t,r,i);else{let o=Et(),s=fe(),a=ht(),u=Pi(n)?n:nt(n.provide),l=jg(n),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Pi(n)||!n.multi){let y=new Hi(l,i,oe,null),b=gm(u,e,i?h:h+m,p);b===-1?(ym(ld(a,s),o,u),pm(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[b]=y,s[b]=y)}else{let y=gm(u,e,h+m,p),b=gm(u,e,h,h+m),M=y>=0&&t[y],R=b>=0&&t[b];if(i&&!R||!i&&!M){ym(ld(a,s),o,u);let F=OF(i?kF:xF,t.length,i,r,l,n);!i&&R&&(t[b].providerFactory=F),pm(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(F),s.push(F)}else{let F=Wb(t[i?b:y],l,!i&&r);pm(o,n,y>-1?y:b,F)}!i&&r&&R&&t[b].componentProviders++}}}function pm(n,e,t,r){let i=Pi(e),o=eT(e);if(i||o){let u=(o?nt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function Wb(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function gm(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function xF(n,e,t,r,i){return km(this.multi,[])}function kF(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=dd(r,r[X],this.providerFactory.index,i);s=u.slice(0,a),km(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],km(o,s);return s}function km(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function OF(n,e,t,r,i,o){let s=new Hi(n,t,oe,null);return s.multi=[],s.index=e,s.componentProviders=0,Wb(s,i,r&&!t),s}function cr(n,e=[]){return t=>{t.providersResolver=(r,i)=>PF(r,i?i(n):n,e)}}function FF(n,e,t){let r=ET()+n,i=fe();return i[r]===Sn?w1(i,r,t?e.call(t):e()):D1(i,r)}var wd=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},yy=(()=>{class n{compileModuleSync(t){return new Ed(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Og(t),o=KC(i.declarations).reduce((s,a)=>{let u=nr(a);return u&&s.push(new zi(u)),s},[]);return new wd(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var LF=(()=>{class n{zone=N(pe);changeDetectionScheduler=N(vn);applicationRef=N(zr);applicationErrorHandler=N(bt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Kb({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new pe(te(x({},Qb()),{scheduleInRootZone:t})),[{provide:pe,useFactory:n},{provide:Lr,multi:!0,useFactory:()=>{let r=N(LF,{optional:!0});return()=>r.initialize()}},{provide:Lr,multi:!0,useFactory:()=>{let r=N(VF);return()=>{r.initialize()}}},e===!0?{provide:im,useValue:!0}:[],{provide:ed,useValue:t??XC},{provide:bt,useFactory:()=>{let r=N(pe),i=N(ke),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(en),o.handleError(s))})}}}]}function Qb(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var VF=(()=>{class n{subscription=new Ae;initialized=!1;zone=N(pe);pendingTasks=N(Dn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{pe.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{pe.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var vy=(()=>{class n{applicationErrorHandler=N(bt);appRef=N(zr);taskService=N(Dn);ngZone=N(pe);zonelessEnabled=N(rc);tracing=N(Qi,{optional:!0});disableScheduling=N(im,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ae;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(pd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(ed,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof cc||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?GT:eb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(pd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,GT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jF(){return An("NgZoneless"),Bt([{provide:vn,useExisting:vy},{provide:pe,useClass:cc},{provide:rc,useValue:!0},{provide:ed,useValue:!1},[]])}function UF(){return typeof $localize<"u"&&$localize.locale||yc}var Ld=new j("",{providedIn:"root",factory:()=>N(Ld,{optional:!0,skipSelf:!0})||UF()});function Qe(n){return jD(n)}function gs(n,e){return ll(n,e?.equal)}var Yb=class{[lt];constructor(e){this[lt]=e}destroy(){this[lt].destroy()}};var tS=Symbol("InputSignalNode#UNSET"),iL=te(x({},dl),{transformFn:void 0,applyValueToInputSignal(n,e){Lo(n,e)}});function nS(n,e){let t=Object.create(iL);t.value=n,t.transformFn=e?.transform;function r(){if(ko(t),t.value===tS){let i=null;throw new V(-950,i)}return t.value}return r[lt]=t,r}var jd=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>hc(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},oL=new j("");oL.__NG_ELEMENT_ID__=n=>{let e=ht();if(e===null)throw new V(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new V(204,!1)};function Zb(n,e){return nS(n,e)}function sL(n){return nS(tS,n)}var rS=(Zb.required=sL,Zb);var _y=new j(""),aL=new j("");function _c(n){return!n.moduleRef}function cL(n){let e=_c(n)?n.r3Injector:n.moduleRef.injector,t=e.get(pe);return t.run(()=>{_c(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(bt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),_c(n)){let o=()=>e.destroy(),s=n.platformInjector.get(_y);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(_y);s.add(o),n.moduleRef.onDestroy(()=>{sc(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return lL(r,t,()=>{let o=e.get(Dn),s=o.add(),a=e.get(hy);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(Ld,yc);if($b(u||yc),!e.get(aL,!0))return _c(n)?e.get(zr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(_c(n)){let h=e.get(zr);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return uL?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var uL;function lL(n,e,t){try{let r=t();return qr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Vd=null;function dL(n=[],e){return be.create({name:e,providers:[{provide:Ga,useValue:"platform"},{provide:_y,useValue:new Set([()=>Vd=null])},...n]})}function hL(n=[]){if(Vd)return Vd;let e=dL(n);return Vd=e,jb(),fL(e),e}function fL(n){let e=n.get(Cd,null);je(n,()=>{e?.forEach(t=>t())})}function Ty(){return!1}var Ji=(()=>{class n{static __NG_ELEMENT_ID__=pL}return n})();function pL(n){return gL(ht(),fe(),(n&16)===16)}function gL(n,e,t){if(Ur(n)&&!t){let r=Gt(n.index,e);return new Hr(r,r)}else if(n.type&175){let r=e[qt];return new Hr(r,e)}return null}var Ey=class{constructor(){}supports(e){return sy(e)}create(e){return new Iy(e)}},mL=(n,e)=>e,Iy=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||mL}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<Jb(r,i,o)?t:r,a=Jb(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,b=y+m;h<=b&&b<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!sy(e))throw new V(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,Rb(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new wy(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ud),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ud),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},wy=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Dy=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Ud=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Dy,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Jb(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function Xb(){return new Cy([new Ey])}var Cy=(()=>{class n{factories;static \u0275prov=U({token:n,providedIn:"root",factory:Xb});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=N(n,{optional:!0,skipSelf:!0});return n.create(t,r||Xb())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new V(901,!1)}}return n})();function iS(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;_e(8);try{let o=i?.injector??hL(r),s=[Kb({}),{provide:vn,useExisting:vy},xT,...t||[]],a=new lc({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return cL({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{_e(9)}}function Gr(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function oS(n){let e=nr(n);if(!e)return null;let t=new zi(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var cS=null;function Kt(){return cS}function by(n){cS??=n}var Ec=class{},Ic=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>N(uS),providedIn:"platform"})}return n})(),Sy=new j(""),uS=(()=>{class n extends Ic{_location;_history;_doc=N(Ue);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Kt().getBaseHref(this._doc)}onPopState(t){let r=Kt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Kt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Bd(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function sS(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function an(n){return n&&n[0]!=="?"?`?${n}`:n}var cn=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>N(Hd),providedIn:"root"})}return n})(),$d=new j(""),Hd=(()=>{class n extends cn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??N(Ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Bd(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+an(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+an(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+an(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(z(Ic),z($d,8))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wr=(()=>{class n{_subject=new Le;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=_L(sS(aS(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+an(r))}normalize(t){return n.stripTrailingSlash(vL(this._basePath,aS(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+an(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+an(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=an;static joinWithSlash=Bd;static stripTrailingSlash=sS;static \u0275fac=function(r){return new(r||n)(z(cn))};static \u0275prov=U({token:n,factory:()=>yL(),providedIn:"root"})}return n})();function yL(){return new Wr(z(cn))}function vL(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function aS(n){return n.replace(/\/index.html$/,"")}function _L(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Ay=(()=>{class n extends cn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Bd(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+an(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+an(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(z(Ic),z($d,8))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();var qd=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},hS=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new qd(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),lS(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);lS(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(oe(Yi),oe(pc),oe(Cy))};static \u0275dir=Ne({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function lS(n,e){n.context.$implicit=e.item}var EL=(()=>{class n{_viewContainer;_context=new zd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){dS(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){dS(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(oe(Yi),oe(pc))};static \u0275dir=Ne({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),zd=class{$implicit=null;ngIf=null};function dS(n,e){if(n&&!n.createEmbeddedView)throw new V(2020,!1)}var fS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Rn({type:n});static \u0275inj=tn({})}return n})();function Ry(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var wc=class{};var pS="browser";var gS=(()=>{class n{static \u0275prov=U({token:n,providedIn:"root",factory:()=>new Ny(N(Ue),window)})}return n})(),Ny=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(te(x({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=IL(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(Or(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(te(x({},t),{left:i-s[0],top:o-s[1]}))}};function IL(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Dc=class{_doc;constructor(e){this._doc=e}manager},Gd=(()=>{class n extends Dc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(z(Ue))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),Kd=new j(""),Oy=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof Gd));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof Gd);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new V(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(z(Kd),z(pe))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),My="ng-app-id";function mS(n){for(let e of n)e.remove()}function yS(n,e){let t=e.createElement("style");return t.textContent=n,t}function DL(n,e,t,r){let i=n.head?.querySelectorAll(`style[${My}="${e}"],link[${My}="${e}"]`);if(i)for(let o of i)o.removeAttribute(My),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function xy(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Fy=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,DL(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,yS);r?.forEach(i=>this.addUsage(i,this.external,xy))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(mS(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])mS(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,yS(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,xy(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(z(Ue),z(Td),z(bd,8),z(Ki))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),Py={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ly=/%COMP%/g;var _S="%COMP%",TL=`_nghost-${_S}`,CL=`_ngcontent-${_S}`,bL=!0,SL=new j("",{providedIn:"root",factory:()=>bL});function AL(n){return CL.replace(Ly,n)}function RL(n){return TL.replace(Ly,n)}function ES(n,e){return e.map(t=>t.replace(Ly,n))}var Vy=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u=null,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=u,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new Tc(t,s,a,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Wd?i.applyToHost(t):i instanceof Cc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case rr.Emulated:o=new Wd(u,l,r,this.appId,h,s,a,p,m);break;case rr.ShadowDom:return new ky(u,l,t,r,s,a,this.nonce,p,m);default:o=new Cc(u,l,r,h,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(z(Oy),z(Fy),z(Td),z(SL),z(Ue),z(pe),z(bd),z(Qi,8))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),Tc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Py[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(vS(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(vS(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new V(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Py[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Py[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Cn.DashCase|Cn.Important)?e.style.setProperty(t,r,i&Cn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Cn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Kt().getGlobalEventTarget(this.doc,e),!e))throw new V(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function vS(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var ky=class extends Tc{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=ES(i.id,h);for(let m of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=xy(m,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Cc=class extends Tc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?ES(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&ls.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Wd=class extends Cc{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=AL(h),this.hostAttr=RL(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Qd=class n extends Ec{supportsDOMEvents=!0;static makeCurrent(){by(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=NL();return t==null?null:ML(t)}resetBaseElement(){bc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ry(document.cookie,e)}},bc=null;function NL(){return bc=bc||document.head.querySelector("base"),bc?bc.getAttribute("href"):null}function ML(n){return new URL(n,document.baseURI).pathname}var PL=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),IS=["alt","control","meta","shift"],xL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},wS=(()=>{class n extends Dc{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Kt().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),IS.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=xL[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),IS.forEach(s=>{if(s!==i){let a=kL[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(z(Ue))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();function OL(n,e,t){let r=x({rootComponent:n,platformRef:t?.platformRef},FL(e));return iS(r)}function FL(n){return{appProviders:[...BL,...n?.providers??[]],platformProviders:UL}}function LL(){Qd.makeCurrent()}function VL(){return new en}function jL(){return Lm(document),document}var UL=[{provide:Ki,useValue:pS},{provide:Cd,useValue:LL,multi:!0},{provide:Ue,useFactory:jL}];var BL=[{provide:Ga,useValue:"root"},{provide:en,useFactory:VL},{provide:Kd,useClass:Gd,multi:!0,deps:[Ue]},{provide:Kd,useClass:wS,multi:!0,deps:[Ue]},Vy,Fy,Oy,{provide:qi,useExisting:Vy},{provide:wc,useClass:PL},[]];var DS=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(z(Ue))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Q="primary",jc=Symbol("RouteTitle"),Hy=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function to(n){return new Hy(n)}function MS(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function HL(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Nn(n[t],e[t]))return!1;return!0}function Nn(n,e){let t=n?qy(n):void 0,r=e?qy(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!PS(n[i],e[i]))return!1;return!0}function qy(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function PS(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function xS(n){return n.length>0?n[n.length-1]:null}function lr(n){return ig(n)?n:qr(n)?De(Promise.resolve(n)):H(n)}var qL={exact:OS,subset:FS},kS={exact:zL,subset:GL,ignored:()=>!0};function TS(n,e,t){return qL[t.paths](n.root,e.root,t.matrixParams)&&kS[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function zL(n,e){return Nn(n,e)}function OS(n,e,t){if(!Xi(n.segments,e.segments)||!Jd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!OS(n.children[r],e.children[r],t))return!1;return!0}function GL(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>PS(n[t],e[t]))}function FS(n,e,t){return LS(n,e,e.segments,t)}function LS(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Xi(i,t)||e.hasChildren()||!Jd(i,t,r))}else if(n.segments.length===t.length){if(!Xi(n.segments,t)||!Jd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!FS(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Xi(n.segments,i)||!Jd(n.segments,i,r)||!n.children[Q]?!1:LS(n.children[Q],e,o,r)}}function Jd(n,e,t){return e.every((r,i)=>kS[t](n[i].parameters,r.parameters))}var Pn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ge([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=to(this.queryParams),this._queryParamMap}toString(){return QL.serialize(this)}},ge=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xd(this)}},Kr=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=to(this.parameters),this._parameterMap}toString(){return jS(this)}};function WL(n,e){return Xi(n,e)&&n.every((t,r)=>Nn(t.parameters,e[r].parameters))}function Xi(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function KL(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Q&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Q&&(t=t.concat(e(i,r)))}),t}var no=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>new Qr,providedIn:"root"})}return n})(),Qr=class{parse(e){let t=new Gy(e);return new Pn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Sc(e.root,!0)}`,r=JL(e.queryParams),i=typeof e.fragment=="string"?`#${YL(e.fragment)}`:"";return`${t}${r}${i}`}},QL=new Qr;function Xd(n){return n.segments.map(e=>jS(e)).join("/")}function Sc(n,e){if(!n.hasChildren())return Xd(n);if(e){let t=n.children[Q]?Sc(n.children[Q],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Q&&r.push(`${i}:${Sc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=KL(n,(r,i)=>i===Q?[Sc(n.children[Q],!1)]:[`${i}:${Sc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Q]!=null?`${Xd(n)}/${t[0]}`:`${Xd(n)}/(${t.join("//")})`}}function VS(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yd(n){return VS(n).replace(/%3B/gi,";")}function YL(n){return encodeURI(n)}function zy(n){return VS(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function eh(n){return decodeURIComponent(n)}function CS(n){return eh(n.replace(/\+/g,"%20"))}function jS(n){return`${zy(n.path)}${ZL(n.parameters)}`}function ZL(n){return Object.entries(n).map(([e,t])=>`;${zy(e)}=${zy(t)}`).join("")}function JL(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Yd(t)}=${Yd(i)}`).join("&"):`${Yd(t)}=${Yd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var XL=/^[^\/()?;#]+/;function jy(n){let e=n.match(XL);return e?e[0]:""}var eV=/^[^\/()?;=#]+/;function tV(n){let e=n.match(eV);return e?e[0]:""}var nV=/^[^=?&#]+/;function rV(n){let e=n.match(nV);return e?e[0]:""}var iV=/^[^&#]+/;function oV(n){let e=n.match(iV);return e?e[0]:""}var Gy=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Q]=new ge(e,t)),r}parseSegment(){let e=jy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(e),new Kr(eh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=tV(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=jy(this.remaining);i&&(r=i,this.capture(r))}e[eh(t)]=eh(r)}parseQueryParam(e){let t=rV(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=oV(this.remaining);s&&(r=s,this.capture(r))}let i=CS(t),o=CS(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=jy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new V(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Q);let s=this.parseChildren();t[o??Q]=Object.keys(s).length===1&&s[Q]?s[Q]:new ge([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new V(4011,!1)}};function US(n){return n.segments.length>0?new ge([],{[Q]:n}):n}function BS(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=BS(i);if(r===Q&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new ge(n.segments,e);return sV(t)}function sV(n){if(n.numberOfChildren===1&&n.children[Q]){let e=n.children[Q];return new ge(n.segments.concat(e.segments),e.children)}return n}function Yr(n){return n instanceof Pn}function $S(n,e,t=null,r=null){let i=HS(n);return qS(i,e,t,r)}function HS(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new ge(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=US(r);return e??i}function qS(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Uy(i,i,i,t,r);let o=aV(e);if(o.toRoot())return Uy(i,i,new ge([],{}),t,r);let s=cV(o,i,n),a=s.processChildren?Rc(s.segmentGroup,s.index,o.commands):GS(s.segmentGroup,s.index,o.commands);return Uy(i,s.segmentGroup,a,t,r)}function th(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Mc(n){return typeof n=="object"&&n!=null&&n.outlets}function Uy(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=zS(n,e,t);let a=US(BS(s));return new Pn(a,o,i)}function zS(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=zS(o,e,t)}),new ge(n.segments,r)}var nh=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&th(r[0]))throw new V(4003,!1);let i=r.find(Mc);if(i&&i!==xS(r))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function aV(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new nh(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new nh(t,e,r)}var vs=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function cV(n,e,t){if(n.isAbsolute)return new vs(e,!0,0);if(!t)return new vs(e,!1,NaN);if(t.parent===null)return new vs(t,!0,0);let r=th(n.commands[0])?0:1,i=t.segments.length-1+r;return uV(t,i,n.numberOfDoubleDots)}function uV(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new V(4005,!1);i=r.segments.length}return new vs(r,!1,i-o)}function lV(n){return Mc(n[0])?n[0].outlets:{[Q]:n}}function GS(n,e,t){if(n??=new ge([],{}),n.segments.length===0&&n.hasChildren())return Rc(n,e,t);let r=dV(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new ge(n.segments.slice(0,r.pathIndex),{});return o.children[Q]=new ge(n.segments.slice(r.pathIndex),n.children),Rc(o,0,i)}else return r.match&&i.length===0?new ge(n.segments,{}):r.match&&!n.hasChildren()?Wy(n,e,t):r.match?Rc(n,0,i):Wy(n,e,t)}function Rc(n,e,t){if(t.length===0)return new ge(n.segments,{});{let r=lV(t),i={};if(Object.keys(r).some(o=>o!==Q)&&n.children[Q]&&n.numberOfChildren===1&&n.children[Q].segments.length===0){let o=Rc(n.children[Q],e,t);return new ge(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=GS(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ge(n.segments,i)}}function dV(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Mc(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!SS(u,l,s))return o;r+=2}else{if(!SS(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Wy(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Mc(o)){let u=hV(o.outlets);return new ge(r,u)}if(i===0&&th(t[0])){let u=n.segments[e];r.push(new Kr(u.path,bS(t[0]))),i++;continue}let s=Mc(o)?o.outlets[Q]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&th(a)?(r.push(new Kr(s,bS(a))),i+=2):(r.push(new Kr(s,{})),i++)}return new ge(r,{})}function hV(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Wy(new ge([],{}),0,r))}),e}function bS(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function SS(n,e,t){return n==t.path&&Nn(e,t.parameters)}var _s="imperative",We=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(We||{}),Ft=class{id;url;constructor(e,t){this.id=e,this.url=t}},Zr=class extends Ft{type=We.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Qt=class extends Ft{urlAfterRedirects;type=We.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},It=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(It||{}),Is=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Is||{}),Mn=class extends Ft{reason;code;type=We.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},xn=class extends Ft{reason;code;type=We.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},ws=class extends Ft{error;target;type=We.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Pc=class extends Ft{urlAfterRedirects;state;type=We.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rh=class extends Ft{urlAfterRedirects;state;type=We.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ih=class extends Ft{urlAfterRedirects;state;shouldActivate;type=We.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},oh=class extends Ft{urlAfterRedirects;state;type=We.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sh=class extends Ft{urlAfterRedirects;state;type=We.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ah=class{route;type=We.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ch=class{route;type=We.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},uh=class{snapshot;type=We.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lh=class{snapshot;type=We.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dh=class{snapshot;type=We.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hh=class{snapshot;type=We.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ds=class{routerEvent;position;anchor;type=We.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},xc=class{},Ts=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function fV(n){return!(n instanceof xc)&&!(n instanceof Ts)}function pV(n,e){return n.providers&&!n._injector&&(n._injector=ps(n.providers,e,`Route: ${n.path}`)),n._injector??e}function un(n){return n.outlet||Q}function gV(n,e){let t=n.filter(r=>un(r)===e);return t.push(...n.filter(r=>un(r)!==e)),t}function Ss(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var fh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ss(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new ro(this.rootInjector)}},ro=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new fh(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(z(ke))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ph=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Ky(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Ky(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Qy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Qy(e,this._root).map(t=>t.value)}};function Ky(n,e){if(n===e.value)return e;for(let t of e.children){let r=Ky(n,t);if(r)return r}return null}function Qy(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Qy(n,t);if(r.length)return r.unshift(e),r}return[]}var Ot=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ys(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var kc=class extends ph{snapshot;constructor(e,t){super(e),this.snapshot=t,rv(this,e)}toString(){return this.snapshot.toString()}};function WS(n){let e=mV(n),t=new tt([new Kr("",{})]),r=new tt({}),i=new tt({}),o=new tt({}),s=new tt(""),a=new kn(t,r,o,s,i,Q,n,e.root);return a.snapshot=e.root,new kc(new Ot(a,[]),e)}function mV(n){let e={},t={},r={},o=new eo([],e,r,"",t,Q,n,null,{});return new Oc("",new Ot(o,[]))}var kn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ce(l=>l[jc]))??H(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ce(e=>to(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ce(e=>to(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function gh(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:x(x({},e.params),n.params),data:x(x({},e.data),n.data),resolve:x(x(x(x({},n.data),e.data),i?.data),n._resolvedData)}:r={params:x({},n.params),data:x({},n.data),resolve:x(x({},n.data),n._resolvedData??{})},i&&QS(i)&&(r.resolve[jc]=i.title),r}var eo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[jc]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=to(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=to(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Oc=class extends ph{url;constructor(e,t){super(t),this.url=e,rv(this,t)}toString(){return KS(this._root)}};function rv(n,e){e.value._routerState=n,e.children.forEach(t=>rv(n,t))}function KS(n){let e=n.children.length>0?` { ${n.children.map(KS).join(", ")} } `:"";return`${n.value}${e}`}function By(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Nn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Nn(e.params,t.params)||n.paramsSubject.next(t.params),HL(e.url,t.url)||n.urlSubject.next(t.url),Nn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Yy(n,e){let t=Nn(n.params,e.params)&&WL(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Yy(n.parent,e.parent))}function QS(n){return typeof n.title=="string"||n.title===null}var YS=new j(""),iv=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Q;activateEvents=new Be;deactivateEvents=new Be;attachEvents=new Be;detachEvents=new Be;routerOutletData=rS();parentContexts=N(ro);location=N(Yi);changeDetector=N(Ji);inputBinder=N(Uc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new V(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Zy(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ne({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ir]})}return n})(),Zy=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===kn?this.route:e===ro?this.childContexts:e===YS?this.outletData:this.parent.get(e,t)}},Uc=new j(""),ov=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Fa([r.queryParams,r.params,r.data]).pipe(vt(([o,s,a],u)=>(a=x(x(x({},o),s),a),u===0?H(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=oS(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),sv=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=ay({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Fd(0,"router-outlet")},dependencies:[iv],encapsulation:2})}return n})();function av(n){let e=n.children&&n.children.map(av),t=e?te(x({},n),{children:e}):x({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Q&&(t.component=sv),t}function yV(n,e,t){let r=Fc(n,e._root,t?t._root:void 0);return new kc(r,e)}function Fc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=vV(n,e,t);return new Ot(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Fc(n,a)),s}}let r=_V(e.value),i=e.children.map(o=>Fc(n,o));return new Ot(r,i)}}function vV(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Fc(n,r,i);return Fc(n,r)})}function _V(n){return new kn(new tt(n.url),new tt(n.params),new tt(n.queryParams),new tt(n.fragment),new tt(n.data),n.outlet,n.component,n)}var Cs=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},ZS="ngNavigationCancelingError";function mh(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Yr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=JS(!1,It.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function JS(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[ZS]=!0,t.cancellationCode=e,t}function EV(n){return XS(n)&&Yr(n.url)}function XS(n){return!!n&&n[ZS]}var IV=(n,e,t,r)=>ce(i=>(new Jy(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Jy=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),By(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ys(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ys(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ys(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ys(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new hh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new lh(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(By(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),By(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},yh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Es=class{component;route;constructor(e,t){this.component=e,this.route=t}};function wV(n,e,t){let r=n._root,i=e?e._root:null;return Ac(r,i,t,[r.value])}function DV(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function As(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Tg(n)?n:e.get(n):r}function Ac(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ys(e);return n.children.forEach(s=>{TV(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Nc(a,t.getContext(s),i)),i}function TV(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=CV(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new yh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ac(n,e,a?a.children:null,r,i):Ac(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Es(a.outlet.component,s))}else s&&Nc(e,a,i),i.canActivateChecks.push(new yh(r)),o.component?Ac(n,null,a?a.children:null,r,i):Ac(n,null,t,r,i);return i}function CV(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Xi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Xi(n.url,e.url)||!Nn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yy(n,e)||!Nn(n.queryParams,e.queryParams);case"paramsChange":default:return!Yy(n,e)}}function Nc(n,e,t){let r=ys(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Nc(s,e.children.getContext(o),t):Nc(s,null,t):Nc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Es(e.outlet.component,i)):t.canDeactivateChecks.push(new Es(null,i)):t.canDeactivateChecks.push(new Es(null,i))}function Bc(n){return typeof n=="function"}function bV(n){return typeof n=="boolean"}function SV(n){return n&&Bc(n.canLoad)}function AV(n){return n&&Bc(n.canActivate)}function RV(n){return n&&Bc(n.canActivateChild)}function NV(n){return n&&Bc(n.canDeactivate)}function MV(n){return n&&Bc(n.canMatch)}function eA(n){return n instanceof Yn||n?.name==="EmptyError"}var Zd=Symbol("INITIAL_VALUE");function bs(){return vt(n=>Fa(n.map(e=>e.pipe(Jn(1),cg(Zd)))).pipe(ce(e=>{for(let t of e)if(t!==!0){if(t===Zd)return Zd;if(t===!1||PV(t))return t}return!0}),Ct(e=>e!==Zd),Jn(1)))}function PV(n){return Yr(n)||n instanceof Cs}function xV(n,e){return xe(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?H(te(x({},t),{guardsResult:!0})):kV(s,r,i,n).pipe(xe(a=>a&&bV(a)?OV(r,o,n,e):H(a)),ce(a=>te(x({},t),{guardsResult:a})))})}function kV(n,e,t,r){return De(n).pipe(xe(i=>UV(i.component,i.route,t,e,r)),Xn(i=>i!==!0,!0))}function OV(n,e,t,r){return De(e).pipe(Mr(i=>Yo(LV(i.route.parent,r),FV(i.route,r),jV(n,i.path,t),VV(n,i.route,t))),Xn(i=>i!==!0,!0))}function FV(n,e){return n!==null&&e&&e(new dh(n)),H(!0)}function LV(n,e){return n!==null&&e&&e(new uh(n)),H(!0)}function VV(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return H(!0);let i=r.map(o=>La(()=>{let s=Ss(e)??t,a=As(o,s),u=AV(a)?a.canActivate(e,n):je(s,()=>a(e,n));return lr(u).pipe(Xn())}));return H(i).pipe(bs())}function jV(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>DV(s)).filter(s=>s!==null).map(s=>La(()=>{let a=s.guards.map(u=>{let l=Ss(s.node)??t,h=As(u,l),p=RV(h)?h.canActivateChild(r,n):je(l,()=>h(r,n));return lr(p).pipe(Xn())});return H(a).pipe(bs())}));return H(o).pipe(bs())}function UV(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return H(!0);let s=o.map(a=>{let u=Ss(e)??i,l=As(a,u),h=NV(l)?l.canDeactivate(n,e,t,r):je(u,()=>l(n,e,t,r));return lr(h).pipe(Xn())});return H(s).pipe(bs())}function BV(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return H(!0);let o=i.map(s=>{let a=As(s,n),u=SV(a)?a.canLoad(e,t):je(n,()=>a(e,t));return lr(u)});return H(o).pipe(bs(),tA(r))}function tA(n){return Yp(Ke(e=>{if(typeof e!="boolean")throw mh(n,e)}),ce(e=>e===!0))}function $V(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return H(!0);let o=i.map(s=>{let a=As(s,n),u=MV(a)?a.canMatch(e,t):je(n,()=>a(e,t));return lr(u)});return H(o).pipe(bs(),tA(r))}var Lc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Vc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ms(n){return Ko(new Lc(n))}function HV(n){return Ko(new V(4e3,!1))}function qV(n){return Ko(JS(!1,It.GuardRejected))}var Xy=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return H(r);if(i.numberOfChildren>1||!i.children[Q])return HV(`${e.redirectTo}`);i=i.children[Q]}}applyRedirectCommands(e,t,r,i,o){return zV(t,i,o).pipe(ce(s=>{if(s instanceof Pn)throw new Vc(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Vc(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Pn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new ge(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new V(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function zV(n,e,t){if(typeof n=="string")return H(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return lr(je(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var ev={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function GV(n,e,t,r,i){let o=nA(n,e,t);return o.matched?(r=pV(e,r),$V(r,e,t,i).pipe(ce(s=>s===!0?o:x({},ev)))):H(o)}function nA(n,e,t){if(e.path==="**")return WV(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?x({},ev):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||MS)(t,n,e);if(!i)return x({},ev);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?x(x({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function WV(n){return{matched:!0,parameters:n.length>0?xS(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function AS(n,e,t,r){return t.length>0&&YV(n,t,r)?{segmentGroup:new ge(e,QV(r,new ge(t,n.children))),slicedSegments:[]}:t.length===0&&ZV(n,t,r)?{segmentGroup:new ge(n.segments,KV(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ge(n.segments,n.children),slicedSegments:t}}function KV(n,e,t,r){let i={};for(let o of t)if(_h(n,e,o)&&!r[un(o)]){let s=new ge([],{});i[un(o)]=s}return x(x({},r),i)}function QV(n,e){let t={};t[Q]=e;for(let r of n)if(r.path===""&&un(r)!==Q){let i=new ge([],{});t[un(r)]=i}return t}function YV(n,e,t){return t.some(r=>_h(n,e,r)&&un(r)!==Q)}function ZV(n,e,t){return t.some(r=>_h(n,e,r))}function _h(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function JV(n,e,t){return e.length===0&&!n.children[t]}var tv=class{};function XV(n,e,t,r,i,o,s="emptyOnly"){return new nv(n,e,t,r,i,s,o).recognize()}var ej=31,nv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Xy(this.urlSerializer,this.urlTree)}noMatchError(e){return new V(4002,`'${e.segmentGroup}'`)}recognize(){let e=AS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ce(({children:t,rootSnapshot:r})=>{let i=new Ot(r,t),o=new Oc("",i),s=$S(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new eo([],Object.freeze({}),Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Q,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Q,t).pipe(ce(r=>({children:r,rootSnapshot:t})),Zn(r=>{if(r instanceof Vc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Lc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ce(s=>s instanceof Ot?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return De(o).pipe(Mr(s=>{let a=r.children[s],u=gV(t,s);return this.processSegmentGroup(e,u,a,s,i)}),ag((s,a)=>(s.push(...a),s)),Pr(null),sg(),xe(s=>{if(s===null)return ms(r);let a=rA(s);return tj(a),H(a)}))}processSegment(e,t,r,i,o,s,a){return De(t).pipe(Mr(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(Zn(l=>{if(l instanceof Lc)return H(null);throw l}))),Xn(u=>!!u),Zn(u=>{if(eA(u))return JV(r,i,o)?H(new tv):ms(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return un(r)!==s&&(s===Q||!_h(i,o,r))?ms(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):ms(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=nA(t,i,o);if(!u)return ms(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>ej&&(this.allowRedirects=!1));let y=new eo(o,l,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,RS(i),un(i),i.component??i._loadedComponent??null,i,NS(i)),b=gh(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(b.params),y.data=Object.freeze(b.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(vt(R=>this.applyRedirects.lineralizeSegments(i,R)),xe(R=>this.processSegment(e,r,t,R.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=GV(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(vt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(vt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,b=new eo(m,p,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,RS(r),un(r),r.component??r._loadedComponent??null,r,NS(r)),M=gh(b,s,this.paramsInheritanceStrategy);b.params=Object.freeze(M.params),b.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:F}=AS(t,m,y,l);if(F.length===0&&R.hasChildren())return this.processChildren(h,l,R,b).pipe(ce(W=>new Ot(b,W)));if(l.length===0&&F.length===0)return H(new Ot(b,[]));let G=un(r)===o;return this.processSegment(h,l,R,F,G?Q:o,!0,b).pipe(ce(W=>new Ot(b,W instanceof Ot?[W]:[])))}))):ms(t)))}getChildConfig(e,t,r){return t.children?H({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?H({routes:t._loadedRoutes,injector:t._loadedInjector}):BV(e,t,r,this.urlSerializer).pipe(xe(i=>i?this.configLoader.loadChildren(e,t).pipe(Ke(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):qV(t))):H({routes:[],injector:e})}};function tj(n){n.sort((e,t)=>e.value.outlet===Q?-1:t.value.outlet===Q?1:e.value.outlet.localeCompare(t.value.outlet))}function nj(n){let e=n.value.routeConfig;return e&&e.path===""}function rA(n){let e=[],t=new Set;for(let r of n){if(!nj(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=rA(r.children);e.push(new Ot(r.value,i))}return e.filter(r=>!t.has(r))}function RS(n){return n.data||{}}function NS(n){return n.resolve||{}}function rj(n,e,t,r,i,o){return xe(s=>XV(n,e,t,r,s.extractedUrl,i,o).pipe(ce(({state:a,tree:u})=>te(x({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function ij(n,e){return xe(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return H(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of iA(u))s.add(l);let a=0;return De(s).pipe(Mr(u=>o.has(u)?oj(u,r,n,e):(u.data=gh(u,u.parent,n).resolve,H(void 0))),Ke(()=>a++),Zo(1),xe(u=>a===s.size?H(t):Dt))})}function iA(n){let e=n.children.map(t=>iA(t)).flat();return[n,...e]}function oj(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!QS(i)&&(o[jc]=i.title),La(()=>(n.data=gh(n,n.parent,t).resolve,sj(o,n,e,r).pipe(ce(s=>(n._resolvedData=s,n.data=x(x({},n.data),s),null)))))}function sj(n,e,t,r){let i=qy(n);if(i.length===0)return H({});let o={};return De(i).pipe(xe(s=>aj(n[s],e,t,r).pipe(Xn(),Ke(a=>{if(a instanceof Cs)throw mh(new Qr,a);o[s]=a}))),Zo(1),ce(()=>o),Zn(s=>eA(s)?Dt:Ko(s)))}function aj(n,e,t,r){let i=Ss(e)??r,o=As(n,i),s=o.resolve?o.resolve(e,t):je(i,()=>o(e,t));return lr(s)}function $y(n){return vt(e=>{let t=n(e);return t?De(t).pipe(ce(()=>e)):H(e)})}var cv=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Q);return r}getResolvedTitleForRoute(t){return t.data[jc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>N(oA),providedIn:"root"})}return n})(),oA=(()=>{class n extends cv{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(z(DS))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jr=new j("",{providedIn:"root",factory:()=>({})}),io=new j(""),Eh=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=N(yy);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return H(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=lr(je(t,()=>r.loadComponent())).pipe(ce(aA),vt(cA),Ke(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Va(()=>{this.componentLoaders.delete(r)})),o=new qo(i,()=>new Le).pipe(Ho());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return H({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=sA(r,this.compiler,t,this.onLoadEndListener).pipe(Va(()=>{this.childrenLoaders.delete(r)})),s=new qo(o,()=>new Le).pipe(Ho());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sA(n,e,t,r){return lr(je(t,()=>n.loadChildren())).pipe(ce(aA),vt(cA),xe(i=>i instanceof kd||Array.isArray(i)?H(i):De(e.compileModuleAsync(i))),ce(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(io,[],{optional:!0,self:!0}).flat()),{routes:s.map(av),injector:o}}))}function cj(n){return n&&typeof n=="object"&&"default"in n}function aA(n){return cj(n)?n.default:n}function cA(n){return H(n)}var Ih=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>N(uj),providedIn:"root"})}return n})(),uj=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uv=new j(""),lv=new j("");function uA(n,e,t){let r=n.get(lv),i=n.get(Ue);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),lj(n)));a.ready.catch(l=>{});let{onViewTransitionCreated:u}=r;return u&&je(n,()=>u({transition:a,from:e,to:t})),s}function lj(n){return new Promise(e=>{Nd({read:()=>setTimeout(e)},{injector:n})})}var dv=new j(""),wh=(()=>{class n{currentNavigation=Wt(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Le;transitionAbortWithErrorSubject=new Le;configLoader=N(Eh);environmentInjector=N(ke);destroyRef=N(wn);urlSerializer=N(no);rootContexts=N(ro);location=N(Wr);inputBindingEnabled=N(Uc,{optional:!0})!==null;titleStrategy=N(cv);options=N(Jr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=N(Ih);createViewTransition=N(uv,{optional:!0});navigationErrorHandler=N(dv,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>H(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new ah(i)),r=i=>this.events.next(new ch(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;Qe(()=>{this.transitions?.next(te(x({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new tt(null),this.transitions.pipe(Ct(r=>r!==null),vt(r=>{let i=!1;return H(r).pipe(vt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",It.SupersededByNewNavigation),Dt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?te(x({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new xn(o.id,this.urlSerializer.serialize(o.rawUrl),"",Is.IgnoredSameUrlNavigation)),o.resolve(!1),Dt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return H(o).pipe(vt(u=>(this.events.next(new Zr(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Dt:Promise.resolve(u))),rj(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ke(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let l=new Pc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:m}=o,y=new Zr(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let b=WS(this.rootComponentType).snapshot;return this.currentTransition=r=te(x({},o),{targetSnapshot:b,urlAfterRedirects:l,extras:te(x({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(M=>(M.finalUrl=l,M)),H(r)}else return this.events.next(new xn(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Is.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Dt}),Ke(o=>{let s=new rh(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),ce(o=>(this.currentTransition=r=te(x({},o),{guards:wV(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),xV(this.environmentInjector,o=>this.events.next(o)),Ke(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw mh(this.urlSerializer,o.guardsResult);let s=new ih(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Ct(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",It.GuardRejected),!1)),$y(o=>{if(o.guards.canActivateChecks.length!==0)return H(o).pipe(Ke(s=>{let a=new oh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),vt(s=>{let a=!1;return H(s).pipe(ij(this.paramsInheritanceStrategy,this.environmentInjector),Ke({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",It.NoDataFromResolver)}}))}),Ke(s=>{let a=new sh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),$y(o=>{let s=a=>{let u=[];if(a.routeConfig?.loadComponent){let l=Ss(a)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(Ke(h=>{a.component=h}),ce(()=>{})))}for(let l of a.children)u.push(...s(l));return u};return Fa(s(o.targetSnapshot.root)).pipe(Pr(null),Jn(1))}),$y(()=>this.afterPreactivation()),vt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?De(a).pipe(ce(()=>r)):H(r)}),ce(o=>{let s=yV(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=te(x({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),Ke(()=>{this.events.next(new xc)}),IV(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Jn(1),Ol(new ne(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Ct(()=>!i&&!r.targetRouterState),Ke(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",It.Aborted)}))),Ke({next:o=>{i=!0,this.lastSuccessfulNavigation=Qe(this.currentNavigation),this.events.next(new Qt(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Ol(this.transitionAbortWithErrorSubject.pipe(Ke(o=>{throw o}))),Va(()=>{i||this.cancelNavigationTransition(r,"",It.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Zn(o=>{if(this.destroyed)return r.resolve(!1),Dt;if(i=!0,XS(o))this.events.next(new Mn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),EV(o)?this.events.next(new Ts(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new ws(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=je(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Cs){let{message:u,cancellationCode:l}=mh(this.urlSerializer,a);this.events.next(new Mn(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new Ts(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Dt}))}))}cancelNavigationTransition(t,r,i){let o=new Mn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Qe(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dj(n){return n!==_s}var lA=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>N(hj),providedIn:"root"})}return n})(),vh=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},hj=(()=>{class n extends vh{static \u0275fac=(()=>{let t;return function(i){return(t||(t=or(n)))(i||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dA=(()=>{class n{urlSerializer=N(no);options=N(Jr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=N(Wr);urlHandlingStrategy=N(Ih);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Pn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Pn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=WS(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>N(fj),providedIn:"root"})}return n})(),fj=(()=>{class n extends dA{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Zr?this.updateStateMemento():t instanceof xn?this.commitTransition(r):t instanceof Pc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof xc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Mn&&t.code!==It.SupersededByNewNavigation&&t.code!==It.Redirect?this.restoreHistory(r):t instanceof ws?this.restoreHistory(r,!0):t instanceof Qt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=x(x({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=x(x({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=or(n)))(i||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Dh(n,e){n.events.pipe(Ct(t=>t instanceof Qt||t instanceof Mn||t instanceof ws||t instanceof xn),ce(t=>t instanceof Qt||t instanceof xn?0:(t instanceof Mn?t.code===It.Redirect||t.code===It.SupersededByNewNavigation:!1)?2:1),Ct(t=>t!==2),Jn(1)).subscribe(()=>{e()})}var pj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},On=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=N(cy);stateManager=N(dA);options=N(Jr,{optional:!0})||{};pendingTasks=N(Dn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=N(wh);urlSerializer=N(no);location=N(Wr);urlHandlingStrategy=N(Ih);injector=N(ke);_events=new Le;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=N(lA);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=N(io,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!N(Uc,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ae;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Qe(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Mn&&r.code!==It.Redirect&&r.code!==It.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Qt)this.navigated=!0;else if(r instanceof Ts){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=x({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||dj(i.source)},s);this.scheduleNavigation(a,_s,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}fV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),_s,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=x({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(bt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Qe(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(av),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=x(x({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=HS(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return qS(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Yr(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,_s,null,r)}navigate(t,r={skipLocationChange:!1}){return mj(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(Or(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=x({},pj):r===!1?i=x({},gj):i=r,Yr(t))return TS(this.currentUrlTree,t,i);let o=this.parseUrl(t);return TS(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return Dh(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mj(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new V(4008,!1)}var hA=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Wt(null);get href(){return Qe(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Le;applicationErrorHandler=N(bt);options=N(Jr,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(N(new jd("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Qt&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Yr(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Yr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(oe(On),oe(kn),hc("tabindex"),oe(sr),oe(bn),oe(cn))};static \u0275dir=Ne({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&ar("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Zi("href",i.reactiveHref(),Bm)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Gr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Gr],replaceUrl:[2,"replaceUrl","replaceUrl",Gr],routerLink:"routerLink"},features:[ir]})}return n})();var $c=class{};var fA=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ct(t=>t instanceof Qt),Mr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=ps(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return De(i).pipe(Qo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=H(null);let o=i.pipe(xe(s=>s===null?H(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(t,r);return De([o,s]).pipe(Qo())}else return o})}static \u0275fac=function(r){return new(r||n)(z(On),z(ke),z($c),z(Eh))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pA=new j(""),yj=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=_s;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Zr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Qt?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof xn&&t.code===Is.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{if(!(t instanceof Ds))return;let r={behavior:"instant"};t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position,r):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(async()=>{await new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new Ds(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){oy()};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();function vj(n,...e){return Bt([{provide:io,multi:!0,useValue:n},[],{provide:kn,useFactory:gA,deps:[On]},{provide:mc,multi:!0,useFactory:mA},e.map(t=>t.\u0275providers)])}function gA(n){return n.routerState.root}function Hc(n,e){return{\u0275kind:n,\u0275providers:e}}function mA(){let n=N(be);return e=>{let t=n.get(zr);if(e!==t.components[0])return;let r=n.get(On),i=n.get(yA);n.get(fv)===1&&r.initialNavigation(),n.get(EA,null,{optional:!0})?.setUpPreloading(),n.get(pA,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var yA=new j("",{factory:()=>new Le}),fv=new j("",{providedIn:"root",factory:()=>1});function vA(){let n=[{provide:Vm,useValue:!0},{provide:fv,useValue:0},Od(()=>{let e=N(be);return e.get(Sy,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(On),o=e.get(yA);Dh(i,()=>{r(!0)}),e.get(wh).afterPreactivation=()=>(r(!0),o.closed?H(void 0):o),i.initialNavigation()}))})];return Hc(2,n)}function _A(){let n=[Od(()=>{N(On).setUpLocationChangeListener()}),{provide:fv,useValue:2}];return Hc(3,n)}var EA=new j("");function IA(n){return Hc(0,[{provide:EA,useExisting:fA},{provide:$c,useExisting:n}])}function wA(){return Hc(8,[ov,{provide:Uc,useExisting:ov}])}function DA(n){An("NgRouterViewTransitions");let e=[{provide:uv,useValue:uA},{provide:lv,useValue:x({skipNextTransition:!!n?.skipInitialTransition},n)}];return Hc(9,e)}var TA=[Wr,{provide:no,useClass:Qr},On,ro,{provide:kn,useFactory:gA,deps:[On]},Eh,[]],_j=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[TA,[],{provide:io,multi:!0,useValue:t},[],r?.errorHandler?{provide:dv,useValue:r.errorHandler}:[],{provide:Jr,useValue:r||{}},r?.useHash?Ij():wj(),Ej(),r?.preloadingStrategy?IA(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Dj(r):[],r?.bindToComponentInputs?wA().\u0275providers:[],r?.enableViewTransitions?DA().\u0275providers:[],Tj()]}}static forChild(t){return{ngModule:n,providers:[{provide:io,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Rn({type:n});static \u0275inj=tn({})}return n})();function Ej(){return{provide:pA,useFactory:()=>{let n=N(gS),e=N(pe),t=N(Jr),r=N(wh),i=N(no);return t.scrollOffset&&n.setOffset(t.scrollOffset),new yj(i,r,n,e,t)}}}function Ij(){return{provide:cn,useClass:Ay}}function wj(){return{provide:cn,useClass:Hd}}function Dj(n){return[n.initialNavigation==="disabled"?_A().\u0275providers:[],n.initialNavigation==="enabledBlocking"?vA().\u0275providers:[]]}var hv=new j("");function Tj(){return[{provide:hv,useFactory:mA},{provide:mc,multi:!0,useExisting:hv}]}var xA=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(oe(sr),oe(bn))};static \u0275dir=Ne({type:n})}return n})(),mv=(()=>{class n extends xA{static \u0275fac=(()=>{let t;return function(i){return(t||(t=or(n)))(i||n)}})();static \u0275dir=Ne({type:n,features:[kt]})}return n})(),Ph=new j("");var Cj={provide:Ph,useExisting:Ut(()=>kA),multi:!0};function bj(){let n=Kt()?Kt().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Sj=new j(""),kA=(()=>{class n extends xA{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!bj())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(oe(sr),oe(bn),oe(Sj,8))};static \u0275dir=Ne({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&ar("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[cr([Cj]),kt]})}return n})();function Aj(n){return n==null||Rj(n)===0}function Rj(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var xh=new j(""),OA=new j("");function Nj(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function Mj(n){return Aj(n.value)?{required:!0}:null}function CA(n){return null}function FA(n){return n!=null}function LA(n){return qr(n)?De(n):n}function VA(n){let e={};return n.forEach(t=>{e=t!=null?x(x({},e),t):e}),Object.keys(e).length===0?null:e}function jA(n,e){return e.map(t=>t(n))}function Pj(n){return!n.validate}function UA(n){return n.map(e=>Pj(e)?e:t=>e.validate(t))}function xj(n){if(!n)return null;let e=n.filter(FA);return e.length==0?null:function(t){return VA(jA(t,e))}}function yv(n){return n!=null?xj(UA(n)):null}function kj(n){if(!n)return null;let e=n.filter(FA);return e.length==0?null:function(t){let r=jA(t,e).map(LA);return og(r).pipe(ce(VA))}}function vv(n){return n!=null?kj(UA(n)):null}function bA(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Oj(n){return n._rawValidators}function Fj(n){return n._rawAsyncValidators}function pv(n){return n?Array.isArray(n)?n:[n]:[]}function Ch(n,e){return Array.isArray(n)?n.includes(e):n===e}function SA(n,e){let t=pv(e);return pv(n).forEach(i=>{Ch(t,i)||t.push(i)}),t}function AA(n,e){return pv(e).filter(t=>!Ch(n,t))}var bh=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=yv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=vv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Ms=class extends bh{name;get formDirective(){return null}get path(){return null}},Ps=class extends bh{_parent=null;name=null;valueAccessor=null},Sh=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Lj={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Gne=te(x({},Lj),{"[class.ng-submitted]":"isSubmitted"}),Wne=(()=>{class n extends Sh{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(oe(Ps,2))};static \u0275dir=Ne({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&vc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[kt]})}return n})(),Kne=(()=>{class n extends Sh{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(oe(Ms,10))};static \u0275dir=Ne({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&vc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[kt]})}return n})();var qc="VALID",Th="INVALID",Rs="PENDING",zc="DISABLED",Xr=class{},Ah=class extends Xr{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Wc=class extends Xr{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Kc=class extends Xr{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Ns=class extends Xr{status;source;constructor(e,t){super(),this.status=e,this.source=t}},gv=class extends Xr{source;constructor(e){super(),this.source=e}},Rh=class extends Xr{source;constructor(e){super(),this.source=e}};function BA(n){return(kh(n)?n.validators:n)||null}function Vj(n){return Array.isArray(n)?yv(n):n||null}function $A(n,e){return(kh(e)?e.asyncValidators:n)||null}function jj(n){return Array.isArray(n)?vv(n):n||null}function kh(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Uj(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new V(1e3,"");if(!r[t])throw new V(1001,"")}function Bj(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new V(1002,"")})}var Nh=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Qe(this.statusReactive)}set status(e){Qe(()=>this.statusReactive.set(e))}_status=gs(()=>this.statusReactive());statusReactive=Wt(void 0);get valid(){return this.status===qc}get invalid(){return this.status===Th}get pending(){return this.status==Rs}get disabled(){return this.status===zc}get enabled(){return this.status!==zc}errors;get pristine(){return Qe(this.pristineReactive)}set pristine(e){Qe(()=>this.pristineReactive.set(e))}_pristine=gs(()=>this.pristineReactive());pristineReactive=Wt(!0);get dirty(){return!this.pristine}get touched(){return Qe(this.touchedReactive)}set touched(e){Qe(()=>this.touchedReactive.set(e))}_touched=gs(()=>this.touchedReactive());touchedReactive=Wt(!1);get untouched(){return!this.touched}_events=new Le;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(SA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(SA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(AA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(AA(e,this._rawAsyncValidators))}hasValidator(e){return Ch(this._rawValidators,e)}hasAsyncValidator(e){return Ch(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(te(x({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Kc(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Kc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(te(x({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Wc(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Wc(!0,r))}markAsPending(e={}){this.status=Rs;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ns(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(te(x({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=zc,this.errors=null,this._forEachChild(i=>{i.disable(te(x({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ah(this.value,r)),this._events.next(new Ns(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(te(x({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=qc,this._forEachChild(r=>{r.enable(te(x({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(te(x({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qc||this.status===Rs)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ah(this.value,t)),this._events.next(new Ns(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(te(x({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zc:qc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Rs,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=LA(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ns(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Be,this.statusChanges=new Be}_calculateStatus(){return this._allControlsDisabled()?zc:this.errors?Th:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rs)?Rs:this._anyControlsHaveStatus(Th)?Th:qc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Wc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Kc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){kh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Vj(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=jj(this._rawAsyncValidators)}},Mh=class extends Nh{constructor(e,t,r){super(BA(t),$A(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Bj(this,!0,e),Object.keys(e).forEach(r=>{Uj(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Rh(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Oh=new j("",{providedIn:"root",factory:()=>Fh}),Fh="always";function $j(n,e){return[...e.path,n]}function HA(n,e,t=Fh){qA(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),qj(n,e),Gj(n,e),zj(n,e),Hj(n,e)}function RA(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Hj(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function qA(n,e){let t=Oj(n);e.validator!==null?n.setValidators(bA(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=Fj(n);e.asyncValidator!==null?n.setAsyncValidators(bA(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();RA(e._rawValidators,i),RA(e._rawAsyncValidators,i)}function qj(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&zA(n,e)})}function zj(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&zA(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function zA(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Gj(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function Wj(n,e){n==null,qA(n,e)}function Kj(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Qj(n){return Object.getPrototypeOf(n.constructor)===mv}function Yj(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Zj(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===kA?t=o:Qj(o)?r=o:i=o}),i||r||t||null}var Jj={provide:Ms,useExisting:Ut(()=>Xj)},Gc=Promise.resolve(),Xj=(()=>{class n extends Ms{callSetDisabledState;get submitted(){return Qe(this.submittedReactive)}_submitted=gs(()=>this.submittedReactive());submittedReactive=Wt(!1);_directives=new Set;form;ngSubmit=new Be;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Mh({},yv(t),vv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Gc.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),HA(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Gc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Gc.then(()=>{let r=this._findContainer(t.path),i=new Mh({});Wj(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Gc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Gc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),Yj(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new gv(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(oe(xh,10),oe(OA,10),oe(Oh,8))};static \u0275dir=Ne({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&ar("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[cr([Jj]),kt]})}return n})();function NA(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function MA(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var e2=class extends Nh{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(BA(t),$A(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(MA(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Rh(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){NA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){NA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){MA(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var t2={provide:Ps,useExisting:Ut(()=>n2)},PA=Promise.resolve(),n2=(()=>{class n extends Ps{_changeDetectorRef;callSetDisabledState;control=new e2;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Be;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Zj(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Kj(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){HA(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){PA.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Gr(r);PA.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?$j(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(oe(Ms,9),oe(xh,10),oe(OA,10),oe(Ph,10),oe(Ji,8),oe(Oh,8))};static \u0275dir=Ne({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[cr([t2]),kt,ir]})}return n})();var Yne=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ne({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),r2={provide:Ph,useExisting:Ut(()=>i2),multi:!0},i2=(()=>{class n extends mv{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=or(n)))(i||n)}})();static \u0275dir=Ne({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&ar("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[cr([r2]),kt]})}return n})(),o2={provide:Ph,useExisting:Ut(()=>a2),multi:!0};var s2=(()=>{class n{_accessors=[];add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t){this._accessors.splice(r,1);return}}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return t[0].control?t[0]._parent===r._control._parent&&t[1].name===r.name:!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),a2=(()=>{class n extends mv{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=N(Oh,{optional:!0})??Fh;constructor(t,r,i,o){super(t,r),this._registry=i,this._injector=o}ngOnInit(){this._control=this._injector.get(Ps),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(r){return new(r||n)(oe(sr),oe(bn),oe(s2),oe(be))};static \u0275dir=Ne({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&ar("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[cr([o2]),kt]})}return n})();function c2(n){return typeof n=="number"?n:parseFloat(n)}var GA=(()=>{class n{_validator=CA;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):CA,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ne({type:n,features:[ir]})}return n})();var u2={provide:xh,useExisting:Ut(()=>l2),multi:!0},l2=(()=>{class n extends GA{min;inputName="min";normalizeInput=t=>c2(t);createValidator=t=>Nj(t);static \u0275fac=(()=>{let t;return function(i){return(t||(t=or(n)))(i||n)}})();static \u0275dir=Ne({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Zi("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[cr([u2]),kt]})}return n})(),d2={provide:xh,useExisting:Ut(()=>h2),multi:!0};var h2=(()=>{class n extends GA{required;inputName="required";normalizeInput=Gr;createValidator=t=>Mj;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=or(n)))(i||n)}})();static \u0275dir=Ne({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Zi("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[cr([d2]),kt]})}return n})();var f2=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Rn({type:n});static \u0275inj=tn({})}return n})();var Zne=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Oh,useValue:t.callSetDisabledState??Fh}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Rn({type:n});static \u0275inj=tn({imports:[f2]})}return n})();var WA=()=>{};var YA=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},p2=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Lh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(t[h],t[p],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(YA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):p2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Ev;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let b=l<<6&192|p;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Ev=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},g2=function(n){let e=YA(n);return Lh.encodeByteArray(e,!0)},Yc=function(n){return g2(n).replace(/\./g,"")},Vh=function(n){try{return Lh.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function wv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var m2=()=>wv().__FIREBASE_DEFAULTS__,y2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},v2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Vh(n[1]);return e&&JSON.parse(e)},jh=()=>{try{return WA()||m2()||y2()||v2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Dv=n=>{var e,t;return(t=(e=jh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},ZA=n=>{let e=Dv(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Tv=()=>{var n;return(n=jh())===null||n===void 0?void 0:n.config},Cv=n=>{var e;return(e=jh())===null||e===void 0?void 0:e[`_${n}`]};var oo=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function ei(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Uh(n){return(await fetch(n,{credentials:"include"})).ok}function JA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Yc(JSON.stringify(t)),Yc(JSON.stringify(s)),""].join(".")}var Qc={};function _2(){let n={prod:[],emulator:[]};for(let e of Object.keys(Qc))Qc[e]?n.emulator.push(e):n.prod.push(e);return n}function E2(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var KA=!1;function Bh(n,e){if(typeof window>"u"||typeof document>"u"||!ei(window.location.host)||Qc[n]===e||Qc[n]||KA)return;Qc[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=_2().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{KA=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=E2(r),y=t("text"),b=document.getElementById(y)||document.createElement("span"),M=t("learnmore"),R=document.getElementById(M)||document.createElement("a"),F=t("preprendIcon"),G=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let W=m.element;a(W),h(R,M);let Ee=l();u(G,F),W.append(G,b,R,Ee),document.body.appendChild(W)}o?(b.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Ye(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function I2(){var n;let e=(n=jh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function e0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function t0(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function n0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function r0(){let n=Ye();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function i0(){return!I2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zc(){try{return typeof indexedDB=="object"}catch{return!1}}function o0(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var w2="FirebaseError",Lt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=w2,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ln.prototype.create)}},ln=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?D2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Lt(i,a,r)}};function D2(n,e){return n.replace(T2,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var T2=/\{\$([^}]+)}/g;function s0(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Fn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(QA(o)&&QA(s)){if(!Fn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function QA(n){return n!==null&&typeof n=="object"}function Jc(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xs(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ks(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function a0(n,e){let t=new Iv(n,e);return t.subscribe.bind(t)}var Iv=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");C2(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=_v),i.error===void 0&&(i.error=_v),i.complete===void 0&&(i.complete=_v);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function C2(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function _v(){}var nre=14400*1e3;function Oe(n){return n&&n._delegate?n._delegate:n}var wt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var so="[DEFAULT]";var bv=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new oo;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(S2(e))try{this.getOrInitializeService({instanceIdentifier:so})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=so){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=so){return this.instances.has(e)}getOptions(e=so){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:b2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=so){return this.component?this.component.multipleInstances?e:so:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function b2(n){return n===so?void 0:n}function S2(n){return n.instantiationMode==="EAGER"}var $h=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new bv(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var A2=[],se=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(se||{}),R2={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},N2=se.INFO,M2={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},P2=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=M2[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ln=class{constructor(e){this.name=e,this._logLevel=N2,this._logHandler=P2,this._userLogHandler=null,A2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?R2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}};var x2=(n,e)=>e.some(t=>n instanceof t),c0,u0;function k2(){return c0||(c0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function O2(){return u0||(u0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var l0=new WeakMap,Av=new WeakMap,d0=new WeakMap,Sv=new WeakMap,Nv=new WeakMap;function F2(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Vn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&l0.set(t,n)}).catch(()=>{}),Nv.set(e,n),e}function L2(n){if(Av.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Av.set(n,e)}var Rv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Av.get(n);if(e==="objectStoreNames")return n.objectStoreNames||d0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Vn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function h0(n){Rv=n(Rv)}function V2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Hh(this),e,...t);return d0.set(r,e.sort?e.sort():[e]),Vn(r)}:O2().includes(n)?function(...e){return n.apply(Hh(this),e),Vn(l0.get(this))}:function(...e){return Vn(n.apply(Hh(this),e))}}function j2(n){return typeof n=="function"?V2(n):(n instanceof IDBTransaction&&L2(n),x2(n,k2())?new Proxy(n,Rv):n)}function Vn(n){if(n instanceof IDBRequest)return F2(n);if(Sv.has(n))return Sv.get(n);let e=j2(n);return e!==n&&(Sv.set(n,e),Nv.set(e,n)),e}var Hh=n=>Nv.get(n);function p0(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Vn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Vn(s.result),u.oldVersion,u.newVersion,Vn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var U2=["get","getKey","getAll","getAllKeys","count"],B2=["put","add","delete","clear"],Mv=new Map;function f0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Mv.get(e))return Mv.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=B2.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||U2.includes(t)))return;let o=async function(s,...a){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[t](...a),i&&u.done]))[0]};return Mv.set(e,o),o}h0(n=>te(x({},n),{get:(e,t,r)=>f0(e,t)||n.get(e,t,r),has:(e,t)=>!!f0(e,t)||n.has(e,t)}));var xv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if($2(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function $2(n){let e=n.getComponent();return e?.type==="VERSION"}var kv="@firebase/app",g0="0.13.2";var dr=new Ln("@firebase/app"),H2="@firebase/app-compat",q2="@firebase/analytics-compat",z2="@firebase/analytics",G2="@firebase/app-check-compat",W2="@firebase/app-check",K2="@firebase/auth",Q2="@firebase/auth-compat",Y2="@firebase/database",Z2="@firebase/data-connect",J2="@firebase/database-compat",X2="@firebase/functions",eU="@firebase/functions-compat",tU="@firebase/installations",nU="@firebase/installations-compat",rU="@firebase/messaging",iU="@firebase/messaging-compat",oU="@firebase/performance",sU="@firebase/performance-compat",aU="@firebase/remote-config",cU="@firebase/remote-config-compat",uU="@firebase/storage",lU="@firebase/storage-compat",dU="@firebase/firestore",hU="@firebase/ai",fU="@firebase/firestore-compat",pU="firebase",gU="11.10.0";var Ov="[DEFAULT]",mU={[kv]:"fire-core",[H2]:"fire-core-compat",[z2]:"fire-analytics",[q2]:"fire-analytics-compat",[W2]:"fire-app-check",[G2]:"fire-app-check-compat",[K2]:"fire-auth",[Q2]:"fire-auth-compat",[Y2]:"fire-rtdb",[Z2]:"fire-data-connect",[J2]:"fire-rtdb-compat",[X2]:"fire-fn",[eU]:"fire-fn-compat",[tU]:"fire-iid",[nU]:"fire-iid-compat",[rU]:"fire-fcm",[iU]:"fire-fcm-compat",[oU]:"fire-perf",[sU]:"fire-perf-compat",[aU]:"fire-rc",[cU]:"fire-rc-compat",[uU]:"fire-gcs",[lU]:"fire-gcs-compat",[dU]:"fire-fst",[fU]:"fire-fst-compat",[hU]:"fire-vertex","fire-js":"fire-js",[pU]:"fire-js-all"};var Xc=new Map,yU=new Map,Fv=new Map;function m0(n,e){try{n.container.addComponent(e)}catch(t){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function dn(n){let e=n.name;if(Fv.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;Fv.set(e,n);for(let t of Xc.values())m0(t,n);for(let t of yU.values())m0(t,n);return!0}function Os(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function St(n){return n==null?!1:n.settings!==void 0}var vU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ti=new ln("app","Firebase",vU);var Lv=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ti.create("app-deleted",{appName:this._name})}};var ni=gU;function Uv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Ov,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ti.create("bad-app-name",{appName:String(i)});if(t||(t=Tv()),!t)throw ti.create("no-options");let o=Xc.get(i);if(o){if(Fn(t,o.options)&&Fn(r,o.config))return o;throw ti.create("duplicate-app",{appName:i})}let s=new $h(i);for(let u of Fv.values())s.addComponent(u);let a=new Lv(t,r,s);return Xc.set(i,a),a}function ao(n=Ov){let e=Xc.get(n);if(!e&&n===Ov&&Tv())return Uv();if(!e)throw ti.create("no-app",{appName:n});return e}function qh(){return Array.from(Xc.values())}function Me(n,e,t){var r;let i=(r=mU[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(a.join(" "));return}dn(new wt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var _U="firebase-heartbeat-database",EU=1,eu="firebase-heartbeat-store",Pv=null;function E0(){return Pv||(Pv=p0(_U,EU,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(eu)}catch(t){console.warn(t)}}}}).catch(n=>{throw ti.create("idb-open",{originalErrorMessage:n.message})})),Pv}async function IU(n){try{let t=(await E0()).transaction(eu),r=await t.objectStore(eu).get(I0(n));return await t.done,r}catch(e){if(e instanceof Lt)dr.warn(e.message);else{let t=ti.create("idb-get",{originalErrorMessage:e?.message});dr.warn(t.message)}}}async function y0(n,e){try{let r=(await E0()).transaction(eu,"readwrite");await r.objectStore(eu).put(e,I0(n)),await r.done}catch(t){if(t instanceof Lt)dr.warn(t.message);else{let r=ti.create("idb-set",{originalErrorMessage:t?.message});dr.warn(r.message)}}}function I0(n){return`${n.name}!${n.options.appId}`}var wU=1024,DU=30,Vv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new jv(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=v0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>DU){let s=CU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){dr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=v0(),{heartbeatsToSend:r,unsentEntries:i}=TU(this._heartbeatsCache.heartbeats),o=Yc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return dr.warn(t),""}}};function v0(){return new Date().toISOString().substring(0,10)}function TU(n,e=wU){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),_0(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),_0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var jv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zc()?o0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await IU(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return y0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return y0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function _0(n){return Yc(JSON.stringify({version:2,heartbeats:n})).length}function CU(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function bU(n){dn(new wt("platform-logger",e=>new xv(e),"PRIVATE")),dn(new wt("heartbeat",e=>new Vv(e),"PRIVATE")),Me(kv,g0,n),Me(kv,g0,"esm2017"),Me("fire-js","")}bU("");var SU="firebase",AU="11.10.0";Me(SU,AU,"app");function w0(n){n===void 0&&(n=N(be));let e=n.get(ss);return t=>new ne(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var ri=new xr("ANGULARFIRE2_VERSION");function tu(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Ls=(n,e)=>{let t=e?[e]:qh(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Fs=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(Fs||{}),D0=Ty()&&typeof Zone<"u"?Fs.WARN:Fs.SILENT;var zh=class{zone;delegate;constructor(e,t=ng){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},ii=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=N(pe);this.outsideAngular=t.runOutsideAngular(()=>new zh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new zh(typeof Zone>"u"?void 0:Zone.current,tg))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),T0=!1;function RU(n,e){!T0&&(D0>Fs.SILENT||Ty())&&(T0=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),D0>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function NU(n){let e=N(pe,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function co(n){let e=N(pe,{optional:!0});return e?e.run(()=>n()):n()}var MU=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),je(t,()=>co(()=>n.apply(void 0,r)))),Fe=(n,e,t)=>(t||=e?Fs.WARN:Fs.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=N(ii),s=N(ss),a=N(ke)}catch{return RU(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=co(()=>s.add())),i[l]=MU(i[l],r,a));let u=NU(()=>n.apply(this,i));return e?u instanceof ne?u.pipe(Nr(o.outsideAngular),Rr(o.insideAngular),w0(a)):u instanceof Promise?co(()=>{let l=s.add();return new Promise((h,p)=>{u.then(m=>je(a,()=>co(()=>h(m))),m=>je(a,()=>co(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:co(()=>u):u instanceof ne?u.pipe(Nr(o.outsideAngular),Rr(o.insideAngular)):co(()=>u)});var hr=class{constructor(e){return e}},uo=class{constructor(){return qh()}};function PU(n){return n&&n.length===1?n[0]:new hr(ao())}var Bv=new j("angularfire2._apps"),xU={provide:hr,useFactory:PU,deps:[[new xt,Bv]]},kU={provide:uo,deps:[[new xt,Bv]]};function OU(n){return(e,t)=>{let r=t.get(Ki);Me("angularfire",ri.full,"core"),Me("angularfire",ri.full,"app"),Me("angular",Ig.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new hr(i)}}function Kre(n,...e){return Bt([xU,kU,{provide:Bv,useFactory:OU(n),multi:!0,deps:[pe,be,ii,...e]}])}var Qre=Fe(Uv,!0);var FU=new Map,LU={activated:!1,tokenObservers:[]},VU={initialized:!1,enabled:!1};function hn(n){return FU.get(n)||Object.assign({},LU)}function A0(){return VU}var jU="https://content-firebaseappcheck.googleapis.com/v1";var UU="exchangeDebugToken",C0={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},iie=1440*60*1e3;var qv=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new oo,this.pending.promise.catch(t=>{}),await BU(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new oo,this.pending.promise.catch(t=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function BU(n){return new Promise(e=>{setTimeout(e,n)})}var $U={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},oi=new ln("appCheck","AppCheck",$U);function R0(n){if(!hn(n).activated)throw oi.create("use-before-activation",{appName:n.name})}async function N0({url:n,body:e},t){let r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){let p=await i.getHeartbeatsHeader();p&&(r["X-Firebase-Client"]=p)}let o={method:"POST",body:JSON.stringify(e),headers:r},s;try{s=await fetch(n,o)}catch(p){throw oi.create("fetch-network-error",{originalErrorMessage:p?.message})}if(s.status!==200)throw oi.create("fetch-status-error",{httpStatus:s.status});let a;try{a=await s.json()}catch(p){throw oi.create("fetch-parse-error",{originalErrorMessage:p?.message})}let u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw oi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});let l=Number(u[1])*1e3,h=Date.now();return{token:a.token,expireTimeMillis:h+l,issuedAtTimeMillis:h}}function M0(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${jU}/projects/${t}/apps/${r}:${UU}?key=${i}`,body:{debug_token:e}}}var HU="firebase-app-check-database",qU=1,zv="firebase-app-check-store";var Gh=null;function zU(){return Gh||(Gh=new Promise((n,e)=>{try{let t=indexedDB.open(HU,qU);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(oi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(zv,{keyPath:"compositeKey"})}}}catch(t){e(oi.create("storage-open",{originalErrorMessage:t?.message}))}}),Gh)}function GU(n,e){return WU(KU(n),e)}async function WU(n,e){let r=(await zU()).transaction(zv,"readwrite"),o=r.objectStore(zv).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(oi.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})}function KU(n){return`${n.options.appId}-${n.name}`}var nu=new Ln("@firebase/app-check");function $v(n,e){return Zc()?GU(n,e).catch(t=>{nu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function P0(){return A0().enabled}async function x0(){let n=A0();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var QU={error:"UNKNOWN_ERROR"};function YU(n){return Lh.encodeString(JSON.stringify(n),!1)}async function Gv(n,e=!1,t=!1){let r=n.app;R0(r);let i=hn(r),o=i.token,s;if(o&&!ru(o)&&(i.token=void 0,o=void 0),!o){let l=await i.cachedTokenPromise;l&&(ru(l)?o=l:await $v(r,void 0))}if(!e&&o&&ru(o))return{token:o.token};let a=!1;if(P0())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=N0(M0(r,await x0()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=await i.exchangeTokenPromise;return await $v(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?nu.warn(l.message):t&&nu.error(l),Hv(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=await hn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?nu.warn(l.message):t&&nu.error(l),s=l}let u;return o?s?ru(o)?u={token:o.token,internalError:s}:u=Hv(s):(u={token:o.token},i.token=o,await $v(r,o)):u=Hv(s),a&&eB(r,u),u}async function ZU(n){let e=n.app;R0(e);let{provider:t}=hn(e);if(P0()){let r=await x0(),{token:i}=await N0(M0(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await t.getToken();return{token:r}}}function JU(n,e,t,r){let{app:i}=n,o=hn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&ru(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),b0(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>b0(n))}function k0(n,e){let t=hn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function b0(n){let{app:e}=n,t=hn(e),r=t.tokenRefresher;r||(r=XU(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function XU(n){let{app:e}=n;return new qv(async()=>{let t=hn(e),r;if(t.token?r=await Gv(n,!0):r=await Gv(n),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let t=hn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},C0.RETRIAL_MIN_WAIT,C0.RETRIAL_MAX_WAIT)}function eB(n,e){let t=hn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function ru(n){return n.expireTimeMillis-Date.now()>0}function Hv(n){return{token:YU(QU),error:n}}var Wv=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=hn(this.app);for(let t of e)k0(this.app,t.next);return Promise.resolve()}};function tB(n,e){return new Wv(n,e)}function nB(n){return{getToken:e=>Gv(n,e),getLimitedUseToken:()=>ZU(n),addTokenListener:e=>JU(n,"INTERNAL",e),removeTokenListener:e=>k0(n.app,e)}}var rB="@firebase/app-check",iB="0.10.1";var oB="app-check",S0="app-check-internal";function sB(){dn(new wt(oB,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return tB(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(S0).initialize()})),dn(new wt(S0,n=>{let e=n.getProvider("app-check").getImmediate();return nB(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Me(rB,iB)}sB();var aB="app-check";var Vs=class{constructor(){return Ls(aB)}};var cB=["localhost","0.0.0.0","127.0.0.1"],mie=typeof window<"u"&&cB.includes(window.location.hostname);function Y0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Z0=Y0,J0=new ln("auth","Firebase",Y0());var Jh=new Ln("@firebase/auth");function uB(n,...e){Jh.logLevel<=se.WARN&&Jh.warn(`Auth (${ni}): ${n}`,...e)}function Kh(n,...e){Jh.logLevel<=se.ERROR&&Jh.error(`Auth (${ni}): ${n}`,...e)}function Un(n,...e){throw v_(n,...e)}function lo(n,...e){return v_(n,...e)}function X0(n,e,t){let r=Object.assign(Object.assign({},Z0()),{[e]:t});return new ln("auth","Firebase",r).create(e,{appName:n.name})}function gr(n){return X0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function v_(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return J0.create(n,...e)}function q(n,e,...t){if(!n)throw v_(e,...t)}function fr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Kh(e),new Error(e)}function ci(n,e){n||fr(e)}function Zv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function lB(){return O0()==="http:"||O0()==="https:"}function O0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function dB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lB()||t0()||"connection"in navigator)?navigator.onLine:!0}function hB(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ho=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,ci(t>e,"Short delay should be less than long delay!"),this.isMobile=XA()||n0()}get(){return dB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function __(n,e){ci(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Xh=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var fB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var pB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gB=new ho(3e4,6e4);function ui(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function li(n,e,t,r,i={}){return eR(n,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let a=Jc(Object.assign({key:n.config.apiKey},s)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);let l=Object.assign({method:e,headers:u},o);return e0()||(l.referrerPolicy="no-referrer"),n.emulatorConfig&&ei(n.emulatorConfig.host)&&(l.credentials="include"),Xh.fetch()(await tR(n,n.config.apiHost,t,a),l)})}async function eR(n,e,t){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},fB),e);try{let i=new Jv(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw Wh(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wh(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Wh(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Wh(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw X0(n,h,l);Un(n,h)}}catch(i){if(i instanceof Lt)throw i;Un(n,"network-request-failed",{message:String(i)})}}async function hu(n,e,t,r,i={}){let o=await li(n,e,t,r,i);return"mfaPendingCredential"in o&&Un(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function tR(n,e,t,r){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?__(n.config,i):`${n.config.apiScheme}://${i}`;return pB.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function mB(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Jv=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(lo(this.auth,"network-request-failed")),gB.get())})}};function Wh(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=lo(n,e,r);return i.customData._tokenResponse=t,i}function F0(n){return n!==void 0&&n.enterprise!==void 0}var Xv=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return mB(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function yB(n,e){return li(n,"GET","/v2/recaptchaConfig",ui(n,e))}async function vB(n,e){return li(n,"POST","/v1/accounts:delete",e)}async function ef(n,e){return li(n,"POST","/v1/accounts:lookup",e)}function ou(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function E_(n,e=!1){let t=Oe(n),r=await t.getIdToken(e),i=I_(r);q(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:ou(Kv(i.auth_time)),issuedAtTime:ou(Kv(i.iat)),expirationTime:ou(Kv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Kv(n){return Number(n)*1e3}function I_(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Kh("JWT malformed, contained fewer than 3 sections"),null;try{let i=Vh(t);return i?JSON.parse(i):(Kh("Failed to decode base64 JWT payload"),null)}catch(i){return Kh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function L0(n){let e=I_(n);return q(e,"internal-error"),q(typeof e.exp<"u","internal-error"),q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function au(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Lt&&_B(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function _B({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var e_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var cu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ou(this.lastLoginAt),this.creationTime=ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function tf(n){var e;let t=n.auth,r=await n.getIdToken(),i=await au(n,ef(t,{idToken:r}));q(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?nR(o.providerUserInfo):[],a=EB(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new cu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)}async function w_(n){let e=Oe(n);await tf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function EB(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function nR(n){return n.map(e=>{var{providerId:t}=e,r=rg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function IB(n,e){let t=await eR(n,{},async()=>{let r=Jc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=await tR(n,i,"/v1/token",`key=${o}`),a=await n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&ei(n.emulatorConfig.host)&&(u.credentials="include"),Xh.fetch()(s,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function wB(n,e){return li(n,"POST","/v2/accounts:revokeToken",ui(n,e))}var su=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){q(e.idToken,"internal-error"),q(typeof e.idToken<"u","internal-error"),q(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):L0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){q(e.length!==0,"internal-error");let t=L0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:i,expiresIn:o}=await IB(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(q(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(q(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(q(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return fr("not implemented")}};function si(n,e){q(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var ai=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=rg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new e_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new cu(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){let t=await au(this,this.stsTokenManager.getToken(this.auth,e));return q(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return E_(this,e)}reload(){return w_(this)}_assign(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await tf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(St(this.auth.app))return Promise.reject(gr(this.auth));let e=await this.getIdToken();return await au(this,vB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,b=(s=t.photoURL)!==null&&s!==void 0?s:void 0,M=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=t.createdAt)!==null&&l!==void 0?l:void 0,G=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:W,emailVerified:Ee,isAnonymous:gt,providerData:ve,stsTokenManager:w}=t;q(W&&w,e,"internal-error");let v=su.fromJSON(this.name,w);q(typeof W=="string",e,"internal-error"),si(p,e.name),si(m,e.name),q(typeof Ee=="boolean",e,"internal-error"),q(typeof gt=="boolean",e,"internal-error"),si(y,e.name),si(b,e.name),si(M,e.name),si(R,e.name),si(F,e.name),si(G,e.name);let E=new n({uid:W,auth:e,email:m,emailVerified:Ee,displayName:p,isAnonymous:gt,photoURL:b,phoneNumber:y,tenantId:M,stsTokenManager:v,createdAt:F,lastLoginAt:G});return ve&&Array.isArray(ve)&&(E.providerData=ve.map(I=>Object.assign({},I))),R&&(E._redirectEventId=R),E}static async _fromIdTokenResponse(e,t,r=!1){let i=new su;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await tf(o),o}static async _fromGetAccountInfoResponse(e,t,r){let i=t.users[0];q(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?nR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new su;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new cu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u}};var V0=new Map;function pr(n){ci(n instanceof Function,"Expected a class definition");let e=V0.get(n);return e?(ci(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,V0.set(n,e),e)}var DB=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){let r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),t_=DB;function Qh(n,e,t){return`firebase:${n}:${e}:${t}`}var nf=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Qh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Qh("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=await ef(this.auth,{idToken:e}).catch(()=>{});return t?ai._fromGetAccountInfoResponse(this.auth,t,e):null}return ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new n(pr(t_),e,r);let i=(await Promise.all(t.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),o=i[0]||pr(t_),s=Qh(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=await l._get(s);if(h){let p;if(typeof h=="string"){let m=await ef(e,{idToken:h}).catch(()=>{});if(!m)break;p=await ai._fromGetAccountInfoResponse(e,m,h)}else p=ai._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&await o._set(s,a.toJSON()),await Promise.all(t.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new n(o,e,r))}};function j0(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cR(e))return"Blackberry";if(uR(e))return"Webos";if(iR(e))return"Safari";if((e.includes("chrome/")||oR(e))&&!e.includes("edge/"))return"Chrome";if(aR(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function rR(n=Ye()){return/firefox\//i.test(n)}function iR(n=Ye()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oR(n=Ye()){return/crios\//i.test(n)}function sR(n=Ye()){return/iemobile/i.test(n)}function aR(n=Ye()){return/android/i.test(n)}function cR(n=Ye()){return/blackberry/i.test(n)}function uR(n=Ye()){return/webos/i.test(n)}function D_(n=Ye()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function TB(n=Ye()){var e;return D_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function CB(){return r0()&&document.documentMode===10}function lR(n=Ye()){return D_(n)||aR(n)||uR(n)||cR(n)||/windows phone/i.test(n)||sR(n)}function dR(n,e=[]){let t;switch(n){case"Browser":t=j0(Ye());break;case"Worker":t=`${j0(Ye())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ni}/${r}`}var n_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function bB(n,e={}){return li(n,"GET","/v2/passwordPolicy",ui(n,e))}var SB=6,r_=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:SB,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var i_=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rf(this),this.idTokenSubscription=new rf(this),this.beforeStateQueue=new n_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=J0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=pr(t)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await nf.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await ef(this,{idToken:e}),r=await ai._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(St(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await tf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(St(this.app))return Promise.reject(gr(this));let t=e?Oe(e):null;return t&&q(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return St(this.app)?Promise.reject(gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return St(this.app)?Promise.reject(gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(pr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await bB(this),t=new r_(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ln("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await wB(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&pr(e)||this._popupRedirectResolver;q(t,this,"argument-error"),this.redirectPersistenceManager=await nf.create(this,[pr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(q(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(St(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&uB(`Error while retrieving App Check token: ${t.error}`),t?.token}};function po(n){return Oe(n)}var rf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=a0(t=>this.observer=t)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var df={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AB(n){df=n}function hR(n){return df.loadJS(n)}function RB(){return df.recaptchaEnterpriseScript}function NB(){return df.gapiScript}function fR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var o_=class{constructor(){this.enterprise=new s_}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},s_=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var MB="recaptcha-enterprise",pR="NO_RECAPTCHA",a_=class{constructor(e){this.type=MB,this.auth=po(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{yB(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Xv(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})})}function i(o,s,a){let u=window.grecaptcha;F0(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(pR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new o_().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&F0(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=RB();u.length!==0&&(u+=a),hR(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}};async function iu(n,e,t,r=!1,i=!1){let o=new a_(n),s;if(i)s=pR;else try{s=await o.verify(t)}catch{s=await o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function c_(n,e,t,r,i){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=await iu(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=await iu(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=await iu(n,e,t);return r(n,a).catch(async u=>{var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=await iu(n,e,t,!1,!0);return r(n,h)}return Promise.reject(u)})}else{let a=await iu(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")}function T_(n,e){let t=Os(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Fn(o,e??{}))return i;Un(i,"already-initialized")}return t.initialize({options:e})}function PB(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(pr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function C_(n,e,t){let r=po(n);q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=gR(e),{host:s,port:a}=xB(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){q(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),q(Fn(l,r.config.emulator)&&Fn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,ei(s)?(Uh(`${o}//${s}${u}`),Bh("Auth",!0)):i||kB()}function gR(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function xB(n){let e=gR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:U0(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:U0(s)}}}function U0(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function kB(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var uu=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fr("not implemented")}_getIdTokenResponse(e){return fr("not implemented")}_linkToIdToken(e,t){return fr("not implemented")}_getReauthenticationResolver(e){return fr("not implemented")}};async function OB(n,e){return li(n,"POST","/v1/accounts:signUp",e)}async function FB(n,e){return hu(n,"POST","/v1/accounts:signInWithPassword",ui(n,e))}async function LB(n,e){return hu(n,"POST","/v1/accounts:signInWithEmailLink",ui(n,e))}async function VB(n,e){return hu(n,"POST","/v1/accounts:signInWithEmailLink",ui(n,e))}var lu=class n extends uu{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return c_(e,t,"signInWithPassword",FB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return LB(e,{email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return c_(e,r,"signUpPassword",OB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return VB(e,{idToken:t,email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function Qv(n,e){return hu(n,"POST","/v1/accounts:signInWithIdp",ui(n,e))}function jB(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function UB(n){let e=xs(ks(n)).link,t=e?xs(ks(e)).deep_link_id:null,r=xs(ks(n)).deep_link_id;return(r?xs(ks(r)).link:null)||r||t||e||n}var of=class n{constructor(e){var t,r,i,o,s,a;let u=xs(ks(e)),l=(t=u.apiKey)!==null&&t!==void 0?t:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=jB((i=u.mode)!==null&&i!==void 0?i:null);q(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=UB(e);try{return new n(t)}catch{return null}}};var mR=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return lu._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=of.parseLink(r);return q(i,"argument-error"),lu._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),sf=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var u_=class extends sf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};async function BB(n,e){return hu(n,"POST","/v1/accounts:signUp",ui(n,e))}var js=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){let o=await ai._fromIdTokenResponse(e,r,i),s=B0(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);let i=B0(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function B0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var l_=class n extends Lt{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function yR(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?l_._fromErrorAndOperation(n,o,e,r):o})}async function $B(n,e,t=!1){let r=await au(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return js._forOperation(n,"link",r)}async function HB(n,e,t=!1){let{auth:r}=n;if(St(r.app))return Promise.reject(gr(r));let i="reauthenticate";try{let o=await au(n,yR(r,i,e,n),t);q(o.idToken,r,"internal-error");let s=I_(o.idToken);q(s,r,"internal-error");let{sub:a}=s;return q(n.uid===a,r,"user-mismatch"),js._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Un(r,"user-mismatch"),o}}async function vR(n,e,t=!1){if(St(n.app))return Promise.reject(gr(n));let r="signIn",i=await yR(n,r,e),o=await js._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function b_(n,e){return vR(po(n),e)}async function _R(n){let e=po(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function S_(n,e,t){if(St(n.app))return Promise.reject(gr(n));let r=po(n),s=await c_(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",BB,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&_R(n),u}),a=await js._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function A_(n,e,t){return St(n.app)?Promise.reject(gr(n)):b_(Oe(n),mR.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_R(n),r})}function R_(n,e,t,r){return Oe(n).onIdTokenChanged(e,t,r)}function N_(n,e,t){return Oe(n).beforeAuthStateChanged(e,t)}function M_(n,e,t,r){return Oe(n).onAuthStateChanged(e,t,r)}function P_(n){return Oe(n).signOut()}var af="__sak";var cf=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(af,"1"),this.storage.removeItem(af),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var qB=1e3,zB=10,GB=(()=>{class n extends cf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lR(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);CB()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,zB):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},qB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){let r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}return n.type="LOCAL",n})(),ER=GB;var WB=(()=>{class n extends cf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),x_=WB;function KB(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}var QB=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(async h=>h(r.origin,s)),l=await KB(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function IR(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var d_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=IR("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}};function jn(){return window}function YB(n){jn().location.href=n}function wR(){return typeof jn().WorkerGlobalScope<"u"&&typeof jn().importScripts=="function"}async function ZB(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JB(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function XB(){return wR()?self:null}var DR="firebaseLocalStorageDb",e$=1,uf="firebaseLocalStorage",TR="fbase_key",fo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function hf(n,e){return n.transaction([uf],e?"readwrite":"readonly").objectStore(uf)}function t$(){let n=indexedDB.deleteDatabase(DR);return new fo(n).toPromise()}function h_(){let n=indexedDB.open(DR,e$);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(uf,{keyPath:TR})}catch(i){t(i)}}),n.addEventListener("success",async()=>{let r=n.result;r.objectStoreNames.contains(uf)?e(r):(r.close(),await t$(),e(await h_()))})})}async function $0(n,e,t){let r=hf(n,!0).put({[TR]:e,value:t});return new fo(r).toPromise()}async function n$(n,e){let t=hf(n,!1).get(e),r=await new fo(t).toPromise();return r===void 0?null:r.value}function H0(n,e){let t=hf(n,!0).delete(e);return new fo(t).toPromise()}var r$=800,i$=3,o$=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await h_(),this.db)}async _withRetries(t){let r=0;for(;;)try{let i=await this._openDb();return await t(i)}catch(i){if(r++>i$)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=QB._getInstance(XB()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await ZB(),!this.activeServiceWorker)return;this.sender=new d_(this.activeServiceWorker);let i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||JB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let t=await h_();return await $0(t,af,"1"),await H0(t,af),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>$0(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){let r=await this._withRetries(i=>n$(i,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>H0(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){let t=await this._withRetries(o=>{let s=hf(o,!1).getAll();return new fo(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),r$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),CR=o$;var Tie=fR("rcb"),Cie=new ho(3e4,6e4);function s$(n,e){return e?pr(e):(q(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var du=class extends uu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qv(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qv(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qv(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function a$(n){return vR(n.auth,new du(n),n.bypassAuthState)}function c$(n){let{auth:e,user:t}=n;return q(t,e,"internal-error"),HB(t,new du(n),n.bypassAuthState)}async function u$(n){let{auth:e,user:t}=n;return q(t,e,"internal-error"),$B(t,new du(n),n.bypassAuthState)}var f_=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return a$;case"linkViaPopup":case"linkViaRedirect":return u$;case"reauthViaPopup":case"reauthViaRedirect":return c$;default:Un(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var bie=new ho(2e3,1e4);var l$="pendingRedirect",Yh=new Map,p_=class extends f_{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Yh.get(this.auth._key());if(!e){try{let r=await d$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Yh.set(this.auth._key(),e)}return this.bypassAuthState||Yh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function d$(n,e){let t=p$(e),r=f$(n);if(!await r._isAvailable())return!1;let i=await r._get(t)==="true";return await r._remove(t),i}function h$(n,e){Yh.set(n._key(),e)}function f$(n){return pr(n._redirectPersistence)}function p$(n){return Qh(l$,n.config.apiKey,n.name)}async function g$(n,e,t=!1){if(St(n.app))return Promise.reject(gr(n));let r=po(n),i=s$(r,e),s=await new p_(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}var m$=600*1e3,g_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!y$(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!bR(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(lo(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=m$&&this.cachedEventUids.clear(),this.cachedEventUids.has(q0(e))}saveEventToCache(e){this.cachedEventUids.add(q0(e)),this.lastProcessedEventTime=Date.now()}};function q0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function bR({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function y$(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bR(n);default:return!1}}async function v$(n,e={}){return li(n,"GET","/v1/projects",e)}var _$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,E$=/^https?/;async function I$(n){if(n.config.emulator)return;let{authorizedDomains:e}=await v$(n);for(let t of e)try{if(w$(t))return}catch{}Un(n,"unauthorized-domain")}function w$(n){let e=Zv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!E$.test(t))return!1;if(_$.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var D$=new ho(3e4,6e4);function z0(){let n=jn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function T$(n){return new Promise((e,t)=>{var r,i,o;function s(){z0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{z0(),t(lo(n,"network-request-failed"))},timeout:D$.get()})}if(!((i=(r=jn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=jn().gapi)===null||o===void 0)&&o.load)s();else{let a=fR("iframefcb");return jn()[a]=()=>{gapi.load?s():t(lo(n,"network-request-failed"))},hR(`${NB()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw Zh=null,e})}var Zh=null;function C$(n){return Zh=Zh||T$(n),Zh}var b$=new ho(5e3,15e3),S$="__/auth/iframe",A$="emulator/auth/iframe",R$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},N$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function M$(n){let e=n.config;q(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?__(e,A$):`https://${n.config.authDomain}/${S$}`,r={apiKey:e.apiKey,appName:n.name,v:ni},i=N$.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Jc(r).slice(1)}`}async function P$(n){let e=await C$(n),t=jn().gapi;return q(t,n,"internal-error"),e.open({where:document.body,url:M$(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:R$,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});let s=lo(n,"network-request-failed"),a=jn().setTimeout(()=>{o(s)},b$.get());function u(){jn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})}))}var x$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},k$=500,O$=600,F$="_blank",L$="http://localhost",lf=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function V$(n,e,t,r=k$,i=O$){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},x$),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Ye().toLowerCase();t&&(a=oR(l)?F$:t),rR(l)&&(e=e||L$,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,b])=>`${m}${y}=${b},`,"");if(TB(l)&&a!=="_self")return j$(e||"",a),new lf(null);let p=window.open(e||"",a,h);q(p,n,"popup-blocked");try{p.focus()}catch{}return new lf(p)}function j$(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var U$="__/auth/handler",B$="emulator/auth/handler",$$=encodeURIComponent("fac");async function G0(n,e,t,r,i,o){q(n.config.authDomain,n,"auth-domain-config-required"),q(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ni,eventId:i};if(e instanceof sf){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",s0(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof u_){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=await n._getAppCheckToken(),l=u?`#${$$}=${encodeURIComponent(u)}`:"";return`${H$(n)}?${Jc(a).slice(1)}${l}`}function H$({config:n}){return n.emulator?__(n,B$):`https://${n.authDomain}/${U$}`}var Yv="webStorageSupport",m_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=x_,this._completeRedirectFn=g$,this._overrideRedirectResult=h$}async _openPopup(e,t,r,i){var o;ci((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=await G0(e,t,r,Zv(),i);return V$(e,s,IR())}async _openRedirect(e,t,r,i){await this._originValidation(e);let o=await G0(e,t,r,Zv(),i);return YB(o),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(ci(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await P$(e),r=new g_(e);return t.register("authEvent",i=>(q(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Yv,{type:Yv},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Yv];s!==void 0&&t(!!s),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=I$(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return lR()||iR()||D_()}},SR=m_;var W0="@firebase/auth",K0="1.10.8";var y_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function q$(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function z$(n){dn(new wt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;q(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dR(n)},l=new i_(r,i,o,u);return PB(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),dn(new wt("auth-internal",e=>{let t=po(e.getProvider("auth").getImmediate());return(r=>new y_(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Me(W0,K0,q$(n)),Me(W0,K0,"esm2017")}var G$=300,W$=Cv("authIdTokenMaxAge")||G$,Q0=null,K$=n=>async e=>{let t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>W$)return;let i=t?.token;Q0!==i&&(Q0=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function k_(n=ao()){let e=Os(n,"auth");if(e.isInitialized())return e.getImmediate();let t=T_(n,{popupRedirectResolver:SR,persistence:[CR,ER,x_]}),r=Cv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=K$(o.toString());N_(t,s,()=>s(t.currentUser)),R_(t,a=>s(a))}}let i=Dv("auth");return i&&C_(t,`http://${i}`),t}function Q$(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}AB({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=lo("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",Q$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});z$("Browser");var AR="auth",fu=class{constructor(e){return e}},pu=class{constructor(){return Ls(AR)}};var O_=new j("angularfire2.auth-instances");function LH(n,e){let t=tu(AR,n,e);return t&&new fu(t)}function VH(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new fu(r)}}var jH={provide:pu,deps:[[new xt,O_]]},UH={provide:fu,useFactory:LH,deps:[[new xt,O_],hr]};function doe(n,...e){return Me("angularfire",ri.full,"auth"),Bt([UH,jH,{provide:O_,useFactory:VH(n),multi:!0,deps:[pe,be,ii,uo,[new xt,Vs],...e]}])}var hoe=Fe(S_,!0,2);var foe=Fe(k_,!0);var poe=Fe(M_,!0);var goe=Fe(A_,!0,2);var moe=Fe(P_,!0,2);var RR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},NR={};var mr,F_;(function(){var n;function e(w,v){function E(){}E.prototype=v.prototype,w.D=v.prototype,w.prototype=new E,w.prototype.constructor=w,w.C=function(I,D,C){for(var _=Array(arguments.length-2),Wn=2;Wn<arguments.length;Wn++)_[Wn-2]=arguments[Wn];return v.prototype[D].apply(I,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,E){E||(E=0);var I=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)I[D]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(D=0;16>D;++D)I[D]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=w.g[0],E=w.g[1],D=w.g[2];var C=w.g[3],_=v+(C^E&(D^C))+I[0]+3614090360&4294967295;v=E+(_<<7&4294967295|_>>>25),_=C+(D^v&(E^D))+I[1]+3905402710&4294967295,C=v+(_<<12&4294967295|_>>>20),_=D+(E^C&(v^E))+I[2]+606105819&4294967295,D=C+(_<<17&4294967295|_>>>15),_=E+(v^D&(C^v))+I[3]+3250441966&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(C^E&(D^C))+I[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(D^v&(E^D))+I[5]+1200080426&4294967295,C=v+(_<<12&4294967295|_>>>20),_=D+(E^C&(v^E))+I[6]+2821735955&4294967295,D=C+(_<<17&4294967295|_>>>15),_=E+(v^D&(C^v))+I[7]+4249261313&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(C^E&(D^C))+I[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(D^v&(E^D))+I[9]+2336552879&4294967295,C=v+(_<<12&4294967295|_>>>20),_=D+(E^C&(v^E))+I[10]+4294925233&4294967295,D=C+(_<<17&4294967295|_>>>15),_=E+(v^D&(C^v))+I[11]+2304563134&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(C^E&(D^C))+I[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(D^v&(E^D))+I[13]+4254626195&4294967295,C=v+(_<<12&4294967295|_>>>20),_=D+(E^C&(v^E))+I[14]+2792965006&4294967295,D=C+(_<<17&4294967295|_>>>15),_=E+(v^D&(C^v))+I[15]+1236535329&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(D^C&(E^D))+I[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^D&(v^E))+I[6]+3225465664&4294967295,C=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(C^v))+I[11]+643717713&4294967295,D=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(D^C))+I[0]+3921069994&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(D^C&(E^D))+I[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^D&(v^E))+I[10]+38016083&4294967295,C=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(C^v))+I[15]+3634488961&4294967295,D=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(D^C))+I[4]+3889429448&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(D^C&(E^D))+I[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^D&(v^E))+I[14]+3275163606&4294967295,C=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(C^v))+I[3]+4107603335&4294967295,D=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(D^C))+I[8]+1163531501&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(D^C&(E^D))+I[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^D&(v^E))+I[2]+4243563512&4294967295,C=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(C^v))+I[7]+1735328473&4294967295,D=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(D^C))+I[12]+2368359562&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(E^D^C)+I[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^D)+I[8]+2272392833&4294967295,C=v+(_<<11&4294967295|_>>>21),_=D+(C^v^E)+I[11]+1839030562&4294967295,D=C+(_<<16&4294967295|_>>>16),_=E+(D^C^v)+I[14]+4259657740&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(E^D^C)+I[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^D)+I[4]+1272893353&4294967295,C=v+(_<<11&4294967295|_>>>21),_=D+(C^v^E)+I[7]+4139469664&4294967295,D=C+(_<<16&4294967295|_>>>16),_=E+(D^C^v)+I[10]+3200236656&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(E^D^C)+I[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^D)+I[0]+3936430074&4294967295,C=v+(_<<11&4294967295|_>>>21),_=D+(C^v^E)+I[3]+3572445317&4294967295,D=C+(_<<16&4294967295|_>>>16),_=E+(D^C^v)+I[6]+76029189&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(E^D^C)+I[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^D)+I[12]+3873151461&4294967295,C=v+(_<<11&4294967295|_>>>21),_=D+(C^v^E)+I[15]+530742520&4294967295,D=C+(_<<16&4294967295|_>>>16),_=E+(D^C^v)+I[2]+3299628645&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(D^(E|~C))+I[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~D))+I[7]+1126891415&4294967295,C=v+(_<<10&4294967295|_>>>22),_=D+(v^(C|~E))+I[14]+2878612391&4294967295,D=C+(_<<15&4294967295|_>>>17),_=E+(C^(D|~v))+I[5]+4237533241&4294967295,E=D+(_<<21&4294967295|_>>>11),_=v+(D^(E|~C))+I[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~D))+I[3]+2399980690&4294967295,C=v+(_<<10&4294967295|_>>>22),_=D+(v^(C|~E))+I[10]+4293915773&4294967295,D=C+(_<<15&4294967295|_>>>17),_=E+(C^(D|~v))+I[1]+2240044497&4294967295,E=D+(_<<21&4294967295|_>>>11),_=v+(D^(E|~C))+I[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~D))+I[15]+4264355552&4294967295,C=v+(_<<10&4294967295|_>>>22),_=D+(v^(C|~E))+I[6]+2734768916&4294967295,D=C+(_<<15&4294967295|_>>>17),_=E+(C^(D|~v))+I[13]+1309151649&4294967295,E=D+(_<<21&4294967295|_>>>11),_=v+(D^(E|~C))+I[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~D))+I[11]+3174756917&4294967295,C=v+(_<<10&4294967295|_>>>22),_=D+(v^(C|~E))+I[2]+718787259&4294967295,D=C+(_<<15&4294967295|_>>>17),_=E+(C^(D|~v))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(D+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+D&4294967295,w.g[3]=w.g[3]+C&4294967295}r.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var E=v-this.blockSize,I=this.B,D=this.h,C=0;C<v;){if(D==0)for(;C<=E;)i(this,w,C),C+=this.blockSize;if(typeof w=="string"){for(;C<v;)if(I[D++]=w.charCodeAt(C++),D==this.blockSize){i(this,I),D=0;break}}else for(;C<v;)if(I[D++]=w[C++],D==this.blockSize){i(this,I),D=0;break}}this.h=D,this.o+=v},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var E=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=E&255,E/=256;for(this.u(w),w=Array(16),v=E=0;4>v;++v)for(var I=0;32>I;I+=8)w[E++]=this.g[v]>>>I&255;return w};function o(w,v){var E=a;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=v(w)}function s(w,v){this.h=v;for(var E=[],I=!0,D=w.length-1;0<=D;D--){var C=w[D]|0;I&&C==v||(E[D]=C,I=!1)}this.g=E}var a={};function u(w){return-128<=w&&128>w?o(w,function(v){return new s([v|0],0>v?-1:0)}):new s([w|0],0>w?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return R(l(-w));for(var v=[],E=1,I=0;w>=E;I++)v[I]=w/E|0,E*=4294967296;return new s(v,0)}function h(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return R(h(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),I=p,D=0;D<w.length;D+=8){var C=Math.min(8,w.length-D),_=parseInt(w.substring(D,D+C),v);8>C?(C=l(Math.pow(v,C)),I=I.j(C).add(l(_))):(I=I.j(E),I=I.add(l(_)))}return I}var p=u(0),m=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(M(this))return-R(this).m();for(var w=0,v=1,E=0;E<this.g.length;E++){var I=this.i(E);w+=(0<=I?I:4294967296+I)*v,v*=4294967296}return w},n.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(b(this))return"0";if(M(this))return"-"+R(this).toString(w);for(var v=l(Math.pow(w,6)),E=this,I="";;){var D=Ee(E,v).g;E=F(E,D.j(v));var C=((0<E.g.length?E.g[0]:E.h)>>>0).toString(w);if(E=D,b(E))return C+I;for(;6>C.length;)C="0"+C;I=C+I}},n.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function b(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function M(w){return w.h==-1}n.l=function(w){return w=F(this,w),M(w)?-1:b(w)?0:1};function R(w){for(var v=w.g.length,E=[],I=0;I<v;I++)E[I]=~w.g[I];return new s(E,~w.h).add(m)}n.abs=function(){return M(this)?R(this):this},n.add=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0,D=0;D<=v;D++){var C=I+(this.i(D)&65535)+(w.i(D)&65535),_=(C>>>16)+(this.i(D)>>>16)+(w.i(D)>>>16);I=_>>>16,C&=65535,_&=65535,E[D]=_<<16|C}return new s(E,E[E.length-1]&-2147483648?-1:0)};function F(w,v){return w.add(R(v))}n.j=function(w){if(b(this)||b(w))return p;if(M(this))return M(w)?R(this).j(R(w)):R(R(this).j(w));if(M(w))return R(this.j(R(w)));if(0>this.l(y)&&0>w.l(y))return l(this.m()*w.m());for(var v=this.g.length+w.g.length,E=[],I=0;I<2*v;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var D=0;D<w.g.length;D++){var C=this.i(I)>>>16,_=this.i(I)&65535,Wn=w.i(D)>>>16,da=w.i(D)&65535;E[2*I+2*D]+=_*da,G(E,2*I+2*D),E[2*I+2*D+1]+=C*da,G(E,2*I+2*D+1),E[2*I+2*D+1]+=_*Wn,G(E,2*I+2*D+1),E[2*I+2*D+2]+=C*Wn,G(E,2*I+2*D+2)}for(I=0;I<v;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=v;I<2*v;I++)E[I]=0;return new s(E,0)};function G(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function W(w,v){this.g=w,this.h=v}function Ee(w,v){if(b(v))throw Error("division by zero");if(b(w))return new W(p,p);if(M(w))return v=Ee(R(w),v),new W(R(v.g),R(v.h));if(M(v))return v=Ee(w,R(v)),new W(R(v.g),v.h);if(30<w.g.length){if(M(w)||M(v))throw Error("slowDivide_ only works with positive integers.");for(var E=m,I=v;0>=I.l(w);)E=gt(E),I=gt(I);var D=ve(E,1),C=ve(I,1);for(I=ve(I,2),E=ve(E,2);!b(I);){var _=C.add(I);0>=_.l(w)&&(D=D.add(E),C=_),I=ve(I,1),E=ve(E,1)}return v=F(w,D.j(v)),new W(D,v)}for(D=p;0<=w.l(v);){for(E=Math.max(1,Math.floor(w.m()/v.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),C=l(E),_=C.j(v);M(_)||0<_.l(w);)E-=I,C=l(E),_=C.j(v);b(C)&&(C=m),D=D.add(C),w=F(w,_)}return new W(D,w)}n.A=function(w){return Ee(this,w).h},n.and=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)&w.i(I);return new s(E,this.h&w.h)},n.or=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)|w.i(I);return new s(E,this.h|w.h)},n.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)^w.i(I);return new s(E,this.h^w.h)};function gt(w){for(var v=w.g.length+1,E=[],I=0;I<v;I++)E[I]=w.i(I)<<1|w.i(I-1)>>>31;return new s(E,w.h)}function ve(w,v){var E=v>>5;v%=32;for(var I=w.g.length-E,D=[],C=0;C<I;C++)D[C]=0<v?w.i(C+E)>>>v|w.i(C+E+1)<<32-v:w.i(C+E);return new s(D,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,F_=NR.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,mr=NR.Integer=s}).apply(typeof RR<"u"?RR:typeof self<"u"?self:typeof window<"u"?window:{});var ff=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yr={};var L_,BH,Us,V_,gu,pf,j_,U_,B_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ff=="object"&&ff];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var T=c[g];if(!(T in f))break e;f=f[T]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,T={next:function(){if(!g&&f<c.length){var S=f++;return{value:d(S,c[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,g),c.apply(d,T)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function b(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,T,S){for(var k=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)k[Ie-2]=arguments[Ie];return d.prototype[T].apply(g,k)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let T=c.length||0,S=g.length||0;c.length=T+S;for(let k=0;k<S;k++)c[T+k]=g[k]}else c.push(g)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function G(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Ee(c){return Ee[" "](c),c}Ee[" "]=function(){};var gt=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function ve(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function w(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,d){let f,g;for(let T=1;T<arguments.length;T++){g=arguments[T];for(f in g)c[f]=g[f];for(let S=0;S<E.length;S++)f=E[S],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function C(c){a.setTimeout(()=>{throw c},0)}function _(){var c=hp;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Wn{constructor(){this.h=this.g=null}add(d,f){let g=da.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var da=new F(()=>new uP,c=>c.reset());class uP{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ha,fa=!1,hp=new Wn,iw=()=>{let c=a.Promise.resolve(void 0);ha=()=>{c.then(lP)}};var lP=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(f){C(f)}var d=da;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}fa=!1};function Tr(){this.s=this.s,this.C=this.C}Tr.prototype.s=!1,Tr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Tr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var dP=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c})();function pa(c,d){if(ot.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(gt){e:{try{Ee(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:hP[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&pa.aa.h.call(this)}}b(pa,ot);var hP={2:"touch",3:"pen",4:"mouse"};pa.prototype.h=function(){pa.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ga="closure_listenable_"+(1e6*Math.random()|0),fP=0;function pP(c,d,f,g,T){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=T,this.key=++fP,this.da=this.fa=!1}function Vu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ju(c){this.src=c,this.g={},this.h=0}ju.prototype.add=function(c,d,f,g,T){var S=c.toString();c=this.g[S],c||(c=this.g[S]=[],this.h++);var k=pp(c,d,g,T);return-1<k?(d=c[k],f||(d.fa=!1)):(d=new pP(d,this.src,S,!!g,T),d.fa=f,c.push(d)),d};function fp(c,d){var f=d.type;if(f in c.g){var g=c.g[f],T=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=T)&&Array.prototype.splice.call(g,T,1),S&&(Vu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function pp(c,d,f,g){for(var T=0;T<c.length;++T){var S=c[T];if(!S.da&&S.listener==d&&S.capture==!!f&&S.ha==g)return T}return-1}var gp="closure_lm_"+(1e6*Math.random()|0),mp={};function ow(c,d,f,g,T){if(g&&g.once)return aw(c,d,f,g,T);if(Array.isArray(d)){for(var S=0;S<d.length;S++)ow(c,d[S],f,g,T);return null}return f=Ep(f),c&&c[ga]?c.K(d,f,l(g)?!!g.capture:!!g,T):sw(c,d,f,!1,g,T)}function sw(c,d,f,g,T,S){if(!d)throw Error("Invalid event type");var k=l(T)?!!T.capture:!!T,Ie=vp(c);if(Ie||(c[gp]=Ie=new ju(c)),f=Ie.add(d,f,g,k,S),f.proxy)return f;if(g=gP(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)dP||(T=k),T===void 0&&(T=!1),c.addEventListener(d.toString(),g,T);else if(c.attachEvent)c.attachEvent(uw(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function gP(){function c(f){return d.call(c.src,c.listener,f)}let d=mP;return c}function aw(c,d,f,g,T){if(Array.isArray(d)){for(var S=0;S<d.length;S++)aw(c,d[S],f,g,T);return null}return f=Ep(f),c&&c[ga]?c.L(d,f,l(g)?!!g.capture:!!g,T):sw(c,d,f,!0,g,T)}function cw(c,d,f,g,T){if(Array.isArray(d))for(var S=0;S<d.length;S++)cw(c,d[S],f,g,T);else g=l(g)?!!g.capture:!!g,f=Ep(f),c&&c[ga]?(c=c.i,d=String(d).toString(),d in c.g&&(S=c.g[d],f=pp(S,f,g,T),-1<f&&(Vu(S[f]),Array.prototype.splice.call(S,f,1),S.length==0&&(delete c.g[d],c.h--)))):c&&(c=vp(c))&&(d=c.g[d.toString()],c=-1,d&&(c=pp(d,f,g,T)),(f=-1<c?d[c]:null)&&yp(f))}function yp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[ga])fp(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(uw(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=vp(d))?(fp(f,c),f.h==0&&(f.src=null,d[gp]=null)):Vu(c)}}}function uw(c){return c in mp?mp[c]:mp[c]="on"+c}function mP(c,d){if(c.da)c=!0;else{d=new pa(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&yp(c),c=f.call(g,d)}return c}function vp(c){return c=c[gp],c instanceof ju?c:null}var _p="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ep(c){return typeof c=="function"?c:(c[_p]||(c[_p]=function(d){return c.handleEvent(d)}),c[_p])}function st(){Tr.call(this),this.i=new ju(this),this.M=this,this.F=null}b(st,Tr),st.prototype[ga]=!0,st.prototype.removeEventListener=function(c,d,f,g){cw(this,c,d,f,g)};function mt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new ot(d,c);else if(d instanceof ot)d.target=d.target||c;else{var T=d;d=new ot(g,c),I(d,T)}if(T=!0,f)for(var S=f.length-1;0<=S;S--){var k=d.g=f[S];T=Uu(k,g,!0,d)&&T}if(k=d.g=c,T=Uu(k,g,!0,d)&&T,T=Uu(k,g,!1,d)&&T,f)for(S=0;S<f.length;S++)k=d.g=f[S],T=Uu(k,g,!1,d)&&T}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Vu(f[g]);delete c.g[d],c.h--}}this.F=null},st.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},st.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Uu(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,S=0;S<d.length;++S){var k=d[S];if(k&&!k.da&&k.capture==f){var Ie=k.listener,et=k.ha||k.src;k.fa&&fp(c.i,k),T=Ie.call(et,g)!==!1&&T}}return T&&!g.defaultPrevented}function lw(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function dw(c){c.g=lw(()=>{c.g=null,c.i&&(c.i=!1,dw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class yP extends Tr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:dw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ma(c){Tr.call(this),this.h=c,this.g={}}b(ma,Tr);var hw=[];function fw(c){ve(c.g,function(d,f){this.g.hasOwnProperty(f)&&yp(d)},c),c.g={}}ma.prototype.N=function(){ma.aa.N.call(this),fw(this)},ma.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ip=a.JSON.stringify,vP=a.JSON.parse,_P=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function wp(){}wp.prototype.h=null;function pw(c){return c.h||(c.h=c.i())}function gw(){}var ya={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dp(){ot.call(this,"d")}b(Dp,ot);function Tp(){ot.call(this,"c")}b(Tp,ot);var Ii={},mw=null;function Bu(){return mw=mw||new st}Ii.La="serverreachability";function yw(c){ot.call(this,Ii.La,c)}b(yw,ot);function va(c){let d=Bu();mt(d,new yw(d))}Ii.STAT_EVENT="statevent";function vw(c,d){ot.call(this,Ii.STAT_EVENT,c),this.stat=d}b(vw,ot);function yt(c){let d=Bu();mt(d,new vw(d,c))}Ii.Ma="timingevent";function _w(c,d){ot.call(this,Ii.Ma,c),this.size=d}b(_w,ot);function _a(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Ea(){this.g=!0}Ea.prototype.xa=function(){this.g=!1};function EP(c,d,f,g,T,S){c.info(function(){if(c.g)if(S)for(var k="",Ie=S.split("&"),et=0;et<Ie.length;et++){var he=Ie[et].split("=");if(1<he.length){var at=he[0];he=he[1];var ct=at.split("_");k=2<=ct.length&&ct[1]=="type"?k+(at+"="+he+"&"):k+(at+"=redacted&")}}else k=null;else k=S;return"XMLHTTP REQ ("+g+") [attempt "+T+"]: "+d+`
`+f+`
`+k})}function IP(c,d,f,g,T,S,k){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+T+"]: "+d+`
`+f+`
`+S+" "+k})}function Ao(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+DP(c,f)+(g?" "+g:"")})}function wP(c,d){c.info(function(){return"TIMEOUT: "+d})}Ea.prototype.info=function(){};function DP(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var T=g[1];if(Array.isArray(T)&&!(1>T.length)){var S=T[0];if(S!="noop"&&S!="stop"&&S!="close")for(var k=1;k<T.length;k++)T[k]=""}}}}return Ip(f)}catch{return d}}var $u={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ew={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cp;function Hu(){}b(Hu,wp),Hu.prototype.g=function(){return new XMLHttpRequest},Hu.prototype.i=function(){return{}},Cp=new Hu;function Cr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new ma(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Iw}function Iw(){this.i=null,this.g="",this.h=!1}var ww={},bp={};function Sp(c,d,f){c.L=1,c.v=Wu(Kn(d)),c.m=f,c.P=!0,Dw(c,null)}function Dw(c,d){c.F=Date.now(),qu(c),c.A=Kn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),Lw(f.i,"t",g),c.C=0,f=c.j.J,c.h=new Iw,c.g=tD(c.j,f?d:null,!c.m),0<c.O&&(c.M=new yP(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var T="readystatechange";Array.isArray(T)||(T&&(hw[0]=T.toString()),T=hw);for(var S=0;S<T.length;S++){var k=ow(f,T[S],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),va(),EP(c.i,c.u,c.A,c.l,c.R,c.m)}Cr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Qn(c)==3?d.j():this.Y(c)},Cr.prototype.Y=function(c){try{if(c==this.g)e:{let ct=Qn(this.g);var d=this.g.Ba();let Mo=this.g.Z();if(!(3>ct)&&(ct!=3||this.g&&(this.h.h||this.g.oa()||qw(this.g)))){this.J||ct!=4||d==7||(d==8||0>=Mo?va(3):va(2)),Ap(this);var f=this.g.Z();this.X=f;t:if(Tw(this)){var g=qw(this.g);c="";var T=g.length,S=Qn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wi(this),Ia(this);var k="";break t}this.h.i=new a.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(S&&d==T-1)});g.length=0,this.h.g+=c,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=f==200,IP(this.i,this.u,this.A,this.l,this.R,ct,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ie,et=this.g;if((Ie=et.g?et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Ie)){var he=Ie;break t}}he=null}if(f=he)Ao(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rp(this,f);else{this.o=!1,this.s=3,yt(12),wi(this),Ia(this);break e}}if(this.P){f=!0;let Jt;for(;!this.J&&this.C<k.length;)if(Jt=TP(this,k),Jt==bp){ct==4&&(this.s=4,yt(14),f=!1),Ao(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==ww){this.s=4,yt(15),Ao(this.i,this.l,k,"[Invalid Chunk]"),f=!1;break}else Ao(this.i,this.l,Jt,null),Rp(this,Jt);if(Tw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||k.length!=0||this.h.h||(this.s=1,yt(16),f=!1),this.o=this.o&&f,!f)Ao(this.i,this.l,k,"[Invalid Chunked Response]"),wi(this),Ia(this);else if(0<k.length&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.ba&&!at.M&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Op(at),at.M=!0,yt(11))}}else Ao(this.i,this.l,k,null),Rp(this,k);ct==4&&wi(this),this.o&&!this.J&&(ct==4?Zw(this.j,this):(this.o=!1,qu(this)))}else BP(this.g),f==400&&0<k.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),wi(this),Ia(this)}}}catch{}finally{}};function Tw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function TP(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?bp:(f=Number(d.substring(f,g)),isNaN(f)?ww:(g+=1,g+f>d.length?bp:(d=d.slice(g,g+f),c.C=g+f,d)))}Cr.prototype.cancel=function(){this.J=!0,wi(this)};function qu(c){c.S=Date.now()+c.I,Cw(c,c.I)}function Cw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=_a(m(c.ba,c),d)}function Ap(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Cr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(wP(this.i,this.A),this.L!=2&&(va(),yt(17)),wi(this),this.s=2,Ia(this)):Cw(this,this.S-c)};function Ia(c){c.j.G==0||c.J||Zw(c.j,c)}function wi(c){Ap(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,fw(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Rp(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Np(f.h,c))){if(!c.K&&Np(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var T=g;if(T[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Ju(f),Yu(f);else break e;kp(f),yt(18)}}else f.za=T[1],0<f.za-f.T&&37500>T[2]&&f.F&&f.v==0&&!f.C&&(f.C=_a(m(f.Za,f),6e3));if(1>=Aw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ti(f,11)}else if((c.K||f.g==c)&&Ju(f),!G(d))for(T=f.Da.g.parse(d),d=0;d<T.length;d++){let he=T[d];if(f.T=he[0],he=he[1],f.G==2)if(he[0]=="c"){f.K=he[1],f.ia=he[2];let at=he[3];at!=null&&(f.la=at,f.j.info("VER="+f.la));let ct=he[4];ct!=null&&(f.Aa=ct,f.j.info("SVER="+f.Aa));let Mo=he[5];Mo!=null&&typeof Mo=="number"&&0<Mo&&(g=1.5*Mo,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Jt=c.g;if(Jt){let el=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(el){var S=g.h;S.g||el.indexOf("spdy")==-1&&el.indexOf("quic")==-1&&el.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(Mp(S,S.h),S.h=null))}if(g.D){let Fp=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Fp&&(g.ya=Fp,we(g.I,g.D,Fp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var k=c;if(g.qa=eD(g,g.J?g.ia:null,g.W),k.K){Rw(g.h,k);var Ie=k,et=g.L;et&&(Ie.I=et),Ie.B&&(Ap(Ie),qu(Ie)),g.g=k}else Qw(g);0<f.i.length&&Zu(f)}else he[0]!="stop"&&he[0]!="close"||Ti(f,7);else f.G==3&&(he[0]=="stop"||he[0]=="close"?he[0]=="stop"?Ti(f,7):xp(f):he[0]!="noop"&&f.l&&f.l.ta(he),f.v=0)}}va(4)}catch{}}var CP=class{constructor(c,d){this.g=c,this.map=d}};function bw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Aw(c){return c.h?1:c.g?c.g.size:0}function Np(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Mp(c,d){c.g?c.g.add(d):c.h=d}function Rw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}bw.prototype.cancel=function(){if(this.i=Nw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Nw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function bP(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function SP(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function Mw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=SP(c),g=bP(c),T=g.length,S=0;S<T;S++)d.call(void 0,g[S],f&&f[S],c)}var Pw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function AP(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),T=null;if(0<=g){var S=c[f].substring(0,g);T=c[f].substring(g+1)}else S=c[f];d(S,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function Di(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Di){this.h=c.h,zu(this,c.j),this.o=c.o,this.g=c.g,Gu(this,c.s),this.l=c.l;var d=c.i,f=new Ta;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),xw(this,f),this.m=c.m}else c&&(d=String(c).match(Pw))?(this.h=!1,zu(this,d[1]||"",!0),this.o=wa(d[2]||""),this.g=wa(d[3]||"",!0),Gu(this,d[4]),this.l=wa(d[5]||"",!0),xw(this,d[6]||"",!0),this.m=wa(d[7]||"")):(this.h=!1,this.i=new Ta(null,this.h))}Di.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Da(d,kw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Da(d,kw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Da(f,f.charAt(0)=="/"?MP:NP,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Da(f,xP)),c.join("")};function Kn(c){return new Di(c)}function zu(c,d,f){c.j=f?wa(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Gu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function xw(c,d,f){d instanceof Ta?(c.i=d,kP(c.i,c.h)):(f||(d=Da(d,PP)),c.i=new Ta(d,c.h))}function we(c,d,f){c.i.set(d,f)}function Wu(c){return we(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function wa(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Da(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,RP),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function RP(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var kw=/[#\/\?@]/g,NP=/[#\?:]/g,MP=/[#\?]/g,PP=/[#\?@]/g,xP=/#/g;function Ta(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function br(c){c.g||(c.g=new Map,c.h=0,c.i&&AP(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Ta.prototype,n.add=function(c,d){br(this),this.i=null,c=Ro(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function Ow(c,d){br(c),d=Ro(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Fw(c,d){return br(c),d=Ro(c,d),c.g.has(d)}n.forEach=function(c,d){br(this),this.g.forEach(function(f,g){f.forEach(function(T){c.call(d,T,g,this)},this)},this)},n.na=function(){br(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let T=c[g];for(let S=0;S<T.length;S++)f.push(d[g])}return f},n.V=function(c){br(this);let d=[];if(typeof c=="string")Fw(this,c)&&(d=d.concat(this.g.get(Ro(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return br(this),this.i=null,c=Ro(this,c),Fw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function Lw(c,d,f){Ow(c,d),0<f.length&&(c.i=null,c.g.set(Ro(c,d),M(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let S=encodeURIComponent(String(g)),k=this.V(g);for(g=0;g<k.length;g++){var T=S;k[g]!==""&&(T+="="+encodeURIComponent(String(k[g]))),c.push(T)}}return this.i=c.join("&")};function Ro(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function kP(c,d){d&&!c.j&&(br(c),c.i=null,c.g.forEach(function(f,g){var T=g.toLowerCase();g!=T&&(Ow(this,g),Lw(this,T,f))},c)),c.j=d}function OP(c,d){let f=new Ea;if(a.Image){let g=new Image;g.onload=y(Sr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Sr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(Sr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Sr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function FP(c,d){let f=new Ea,g=new AbortController,T=setTimeout(()=>{g.abort(),Sr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(S=>{clearTimeout(T),S.ok?Sr(f,"TestPingServer: ok",!0,d):Sr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),Sr(f,"TestPingServer: error",!1,d)})}function Sr(c,d,f,g,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),g(f)}catch{}}function LP(){this.g=new _P}function VP(c,d,f){let g=f||"";try{Mw(c,function(T,S){let k=T;l(T)&&(k=Ip(T)),d.push(g+S+"="+encodeURIComponent(k))})}catch(T){throw d.push(g+"type="+encodeURIComponent("_badmap")),T}}function Ca(c){this.l=c.Ub||null,this.j=c.eb||!1}b(Ca,wp),Ca.prototype.g=function(){return new Ku(this.l,this.j)},Ca.prototype.i=(function(c){return function(){return c}})({});function Ku(c,d){st.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Ku,st),n=Ku.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Sa(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ba(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Sa(this)),this.g&&(this.readyState=3,Sa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ba(this):Sa(this),this.readyState==3&&Vw(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,ba(this))},n.Qa=function(c){this.g&&(this.response=c,ba(this))},n.ga=function(){this.g&&ba(this)};function ba(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Sa(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Sa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ku.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function jw(c){let d="";return ve(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Pp(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=jw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):we(c,d,f))}function Se(c){st.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Se,st);var jP=/^https?$/i,UP=["POST","PUT"];n=Se.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cp.g(),this.v=this.o?pw(this.o):pw(Cp),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(S){Uw(this,S);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var T in g)f.set(T,g[T]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())f.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(S=>S.toLowerCase()=="content-type"),T=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(UP,d,void 0))||g||T||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,k]of f)this.g.setRequestHeader(S,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hw(this),this.u=!0,this.g.send(c),this.u=!1}catch(S){Uw(this,S)}};function Uw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,Bw(c),Qu(c)}function Bw(c){c.A||(c.A=!0,mt(c,"complete"),mt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,mt(this,"complete"),mt(this,"abort"),Qu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qu(this,!0)),Se.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?$w(this):this.bb())},n.bb=function(){$w(this)};function $w(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Qn(c)!=4||c.Z()!=2)){if(c.u&&Qn(c)==4)lw(c.Ea,0,c);else if(mt(c,"readystatechange"),Qn(c)==4){c.h=!1;try{let k=c.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=k===0){var T=String(c.D).match(Pw)[1]||null;!T&&a.self&&a.self.location&&(T=a.self.location.protocol.slice(0,-1)),g=!jP.test(T?T.toLowerCase():"")}f=g}if(f)mt(c,"complete"),mt(c,"success");else{c.m=6;try{var S=2<Qn(c)?c.g.statusText:""}catch{S=""}c.l=S+" ["+c.Z()+"]",Bw(c)}}finally{Qu(c)}}}}function Qu(c,d){if(c.g){Hw(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||mt(c,"ready");try{f.onreadystatechange=g}catch{}}}function Hw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Qn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Qn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),vP(d)}};function qw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function BP(c){let d={};c=(c.g&&2<=Qn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(G(c[g]))continue;var f=D(c[g]);let T=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let S=d[T]||[];d[T]=S,S.push(f)}w(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Aa(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function zw(c){this.Aa=0,this.i=[],this.j=new Ea,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Aa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Aa("baseRetryDelayMs",5e3,c),this.cb=Aa("retryDelaySeedMs",1e4,c),this.Wa=Aa("forwardChannelMaxRetries",2,c),this.wa=Aa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new bw(c&&c.concurrentRequestLimit),this.Da=new LP,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=zw.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,g){yt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=eD(this,null,this.W),Zu(this)};function xp(c){if(Gw(c),c.G==3){var d=c.U++,f=Kn(c.I);if(we(f,"SID",c.K),we(f,"RID",d),we(f,"TYPE","terminate"),Ra(c,f),d=new Cr(c,c.j,d),d.L=2,d.v=Wu(Kn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=tD(d.j,null),d.g.ea(d.v)),d.F=Date.now(),qu(d)}Xw(c)}function Yu(c){c.g&&(Op(c),c.g.cancel(),c.g=null)}function Gw(c){Yu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Ju(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Zu(c){if(!Sw(c.h)&&!c.s){c.s=!0;var d=c.Ga;ha||iw(),fa||(ha(),fa=!0),hp.add(d,c),c.B=0}}function $P(c,d){return Aw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=_a(m(c.Ga,c,d),Jw(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let T=new Cr(this,this.j,c),S=this.o;if(this.S&&(S?(S=v(S),I(S,this.S)):S=this.S),this.m!==null||this.O||(T.H=S,S=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=Kw(this,T,d),f=Kn(this.I),we(f,"RID",c),we(f,"CVER",22),this.D&&we(f,"X-HTTP-Session-Id",this.D),Ra(this,f),S&&(this.O?d="headers="+encodeURIComponent(String(jw(S)))+"&"+d:this.m&&Pp(f,this.m,S)),Mp(this.h,T),this.Ua&&we(f,"TYPE","init"),this.P?(we(f,"$req",d),we(f,"SID","null"),T.T=!0,Sp(T,f,null)):Sp(T,f,d),this.G=2}}else this.G==3&&(c?Ww(this,c):this.i.length==0||Sw(this.h)||Ww(this))};function Ww(c,d){var f;d?f=d.l:f=c.U++;let g=Kn(c.I);we(g,"SID",c.K),we(g,"RID",f),we(g,"AID",c.T),Ra(c,g),c.m&&c.o&&Pp(g,c.m,c.o),f=new Cr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Kw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Mp(c.h,f),Sp(f,g,d)}function Ra(c,d){c.H&&ve(c.H,function(f,g){we(d,g,f)}),c.l&&Mw({},function(f,g){we(d,g,f)})}function Kw(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var T=c.i;let S=-1;for(;;){let k=["count="+f];S==-1?0<f?(S=T[0].g,k.push("ofs="+S)):S=0:k.push("ofs="+S);let Ie=!0;for(let et=0;et<f;et++){let he=T[et].g,at=T[et].map;if(he-=S,0>he)S=Math.max(0,T[et].g-100),Ie=!1;else try{VP(at,k,"req"+he+"_")}catch{g&&g(at)}}if(Ie){g=k.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function Qw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;ha||iw(),fa||(ha(),fa=!0),hp.add(d,c),c.v=0}}function kp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=_a(m(c.Fa,c),Jw(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Yw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=_a(m(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),Yu(this),Yw(this))};function Op(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Yw(c){c.g=new Cr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Kn(c.qa);we(d,"RID","rpc"),we(d,"SID",c.K),we(d,"AID",c.T),we(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&we(d,"TO",c.ja),we(d,"TYPE","xmlhttp"),Ra(c,d),c.m&&c.o&&Pp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Wu(Kn(d)),f.m=null,f.P=!0,Dw(f,c)}n.Za=function(){this.C!=null&&(this.C=null,Yu(this),kp(this),yt(19))};function Ju(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Zw(c,d){var f=null;if(c.g==d){Ju(c),Op(c),c.g=null;var g=2}else if(Np(c.h,d))f=d.D,Rw(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var T=c.B;g=Bu(),mt(g,new _w(g,f)),Zu(c)}else Qw(c);else if(T=d.s,T==3||T==0&&0<d.X||!(g==1&&$P(c,d)||g==2&&kp(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),T){case 1:Ti(c,5);break;case 4:Ti(c,10);break;case 3:Ti(c,6);break;default:Ti(c,2)}}}function Jw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Ti(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let T=!g;g=new Di(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||zu(g,"https"),Wu(g),T?OP(g.toString(),f):FP(g.toString(),f)}else yt(2);c.G=0,c.l&&c.l.sa(d),Xw(c),Gw(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Xw(c){if(c.G=0,c.ka=[],c.l){let d=Nw(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function eD(c,d,f){var g=f instanceof Di?Kn(f):new Di(f);if(g.g!="")d&&(g.g=d+"."+g.g),Gu(g,g.s);else{var T=a.location;g=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var S=new Di(null);g&&zu(S,g),d&&(S.g=d),T&&Gu(S,T),f&&(S.l=f),g=S}return f=c.D,d=c.ya,f&&d&&we(g,f,d),we(g,"VER",c.la),Ra(c,g),g}function tD(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Se(new Ca({eb:f})):new Se(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function nD(){}n=nD.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Xu(){}Xu.prototype.g=function(c,d){return new At(c,d)};function At(c,d){st.call(this),this.g=new zw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!G(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!G(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new No(this)}b(At,st),At.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},At.prototype.close=function(){xp(this.g)},At.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Ip(c),c=f);d.i.push(new CP(d.Ya++,c)),d.G==3&&Zu(d)},At.prototype.N=function(){this.g.l=null,delete this.j,xp(this.g),delete this.g,At.aa.N.call(this)};function rD(c){Dp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}b(rD,Dp);function iD(){Tp.call(this),this.status=1}b(iD,Tp);function No(c){this.g=c}b(No,nD),No.prototype.ua=function(){mt(this.g,"a")},No.prototype.ta=function(c){mt(this.g,new rD(c))},No.prototype.sa=function(c){mt(this.g,new iD)},No.prototype.ra=function(){mt(this.g,"b")},Xu.prototype.createWebChannel=Xu.prototype.g,At.prototype.send=At.prototype.o,At.prototype.open=At.prototype.m,At.prototype.close=At.prototype.close,B_=yr.createWebChannelTransport=function(){return new Xu},U_=yr.getStatEventTarget=function(){return Bu()},j_=yr.Event=Ii,pf=yr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$u.NO_ERROR=0,$u.TIMEOUT=8,$u.HTTP_ERROR=6,gu=yr.ErrorCode=$u,Ew.COMPLETE="complete",V_=yr.EventType=Ew,gw.EventType=ya,ya.OPEN="a",ya.CLOSE="b",ya.ERROR="c",ya.MESSAGE="d",st.prototype.listen=st.prototype.K,Us=yr.WebChannel=gw,BH=yr.FetchXmlHttpFactory=Ca,Se.prototype.listenOnce=Se.prototype.L,Se.prototype.getLastError=Se.prototype.Ka,Se.prototype.getLastErrorCode=Se.prototype.Ba,Se.prototype.getStatus=Se.prototype.Z,Se.prototype.getResponseJson=Se.prototype.Oa,Se.prototype.getResponseText=Se.prototype.oa,Se.prototype.send=Se.prototype.ea,Se.prototype.setWithCredentials=Se.prototype.Ha,L_=yr.XhrIo=Se}).apply(typeof ff<"u"?ff:typeof self<"u"?self:typeof window<"u"?window:{});var MR="@firebase/firestore",PR="4.8.0";var Ze=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");var aa="11.10.0";var _o=new Ln("@firebase/firestore");function Bs(){return _o.logLevel}function L(n,...e){if(_o.logLevel<=se.DEBUG){let t=e.map(NI);_o.debug(`Firestore (${aa}): ${n}`,...t)}}function vr(n,...e){if(_o.logLevel<=se.ERROR){let t=e.map(NI);_o.error(`Firestore (${aa}): ${n}`,...t)}}function gi(n,...e){if(_o.logLevel<=se.WARN){let t=e.map(NI);_o.warn(`Firestore (${aa}): ${n}`,...t)}}function NI(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function $(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,DN(n,r,t)}function DN(n,e,t){let r=`FIRESTORE (${aa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw vr(r),new Error(r)}function ye(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||DN(e,i,r)}function Y(n,e){return n}var A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},O=class extends Lt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var fn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var If=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},G_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ze.UNAUTHENTICATED))}shutdown(){}},W_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},K_=class{constructor(e){this.t=e,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ye(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new fn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new fn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new fn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ye(typeof r.accessToken=="string",31837,{l:r}),new If(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ye(e===null||typeof e=="string",2055,{h:e}),new Ze(e)}},Q_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Y_=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Q_(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}},wf=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Z_=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,St(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ye(this.o===void 0,3512);let r=o=>{o.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,L("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new wf(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ye(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new wf(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function $H(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function TN(){return new TextEncoder}var Iu=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=$H(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function re(n,e){return n<e?-1:n>e?1:0}function J_(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return re(r,i);{let o=TN(),s=HH(o.encode(xR(n,t)),o.encode(xR(e,t)));return s!==0?s:re(r,i)}}t+=r>65535?2:1}return re(n.length,e.length)}function xR(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function HH(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return re(n[t],e[t]);return re(n.length,e.length)}function Qs(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var kR="__name__",Df=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&$(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&$(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return re(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):J_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mr.fromString(e.substring(4,e.length-2))}},Ce=class n extends Df{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new O(A.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},qH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,jt=class n extends Df{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return qH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kR}static keyField(){return new n([kR])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new O(A.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new O(A.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new O(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new O(A.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var B=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ce.fromString(e))}static fromName(e){return new n(Ce.fromString(e).popFirst(5))}static empty(){return new n(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ce.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ce.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ce(e.slice()))}};function CN(n,e,t){if(!t)throw new O(A.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function zH(n,e,t,r){if(e===!0&&r===!0)throw new O(A.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function OR(n){if(!B.isDocumentKey(n))throw new O(A.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function FR(n){if(B.isDocumentKey(n))throw new O(A.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function bN(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function np(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":$(12329,{type:typeof n})}function pn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new O(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=np(n);throw new O(A.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function ze(n,e){let t={typeString:n};return e&&(t.value=e),t}function xu(n,e){if(!bN(n))throw new O(A.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new O(A.INVALID_ARGUMENT,t);return!0}var LR=-62135596800,VR=1e6,Ge=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*VR);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new O(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new O(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<LR)throw new O(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new O(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/VR}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xu(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-LR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Ge._jsonSchemaVersion="firestore/timestamp/1.0",Ge._jsonSchema={type:ze("string",Ge._jsonSchemaVersion),seconds:ze("number"),nanoseconds:ze("number")};var ee=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Ge(0,0))}static max(){return new n(new Ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var wu=-1,X_=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};X_.UNKNOWN_ID=-1;function GH(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new Ge(t+1,0):new Ge(t,r));return new Eo(i,B.empty(),e)}function WH(n){return new Eo(n.readTime,n.key,wu)}var Eo=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ee.min(),B.empty(),wu)}static max(){return new n(ee.max(),B.empty(),wu)}};function KH(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=B.comparator(n.documentKey,e.documentKey),t!==0?t:re(n.largestBatchId,e.largestBatchId))}var QH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",eE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function ca(n){if(n.code!==A.FAILED_PRECONDITION||n.message!==QH)throw n;L("LocalStore","Unexpectedly lost primary lease")}var P=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function YH(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ua(n){return n.name==="IndexedDbTransactionError"}var MI=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),PI=-1;function rp(n){return n==null}function Du(n){return n===0&&1/n==-1/0}function ZH(n){return typeof n=="number"&&Number.isInteger(n)&&!Du(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var SN="";function JH(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=jR(e)),e=XH(n.get(t),e);return jR(e)}function XH(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case SN:t+="";break;default:t+=o}}return t}function jR(n){return n+SN+""}var eq="remoteDocuments",AN="owner";var RN="mutationQueues";var NN="mutations";var MN="documentMutations",tq="remoteDocumentsV14";var PN="remoteDocumentGlobal";var xN="targets";var kN="targetDocuments";var ON="targetGlobal",FN="collectionParents";var LN="clientMetadata";var VN="bundles";var jN="namedQueries";var nq="indexConfiguration";var rq="indexState";var iq="indexEntries";var UN="documentOverlays";var oq="globals";var sq=[RN,NN,MN,eq,xN,AN,ON,kN,LN,PN,FN,VN,jN],Moe=[...sq,UN],aq=[RN,NN,MN,tq,xN,AN,ON,kN,LN,PN,FN,VN,jN,UN],cq=aq,uq=[...cq,nq,rq,iq];var Poe=[...uq,oq];function UR(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ei(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function BN(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Pe=class n{constructor(e,t){this.comparator=e,this.root=t||Bn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Bn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zs(this.root,e,this.comparator,!1)}getReverseIterator(){return new zs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zs(this.root,e,this.comparator,!0)}},zs=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Bn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw $(27949);return e+(this.isRed()?0:1)}};Bn.EMPTY=null,Bn.RED=!0,Bn.BLACK=!1;Bn.EMPTY=new class{constructor(){this.size=0}get key(){throw $(57766)}get value(){throw $(16141)}get color(){throw $(16727)}get left(){throw $(29726)}get right(){throw $(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Bn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Je=class n{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Tf(this.data.getIterator())}getIteratorFrom(e){return new Tf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Tf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Zt=class n{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new n([])}unionWith(e){let t=new Je(jt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qs(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Cf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var pt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Cf("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};pt.EMPTY_BYTE_STRING=new pt("");var lq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(n){if(ye(!!n,39018),typeof n=="string"){let e=0,t=lq.exec(n);if(ye(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Te(n.seconds),nanos:Te(n.nanos)}}function Te(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Er(n){return typeof n=="string"?pt.fromBase64String(n):pt.fromUint8Array(n)}var $N="server_timestamp",HN="__type__",qN="__previous_value__",zN="__local_write_time__";function xI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[HN])===null||t===void 0?void 0:t.stringValue)===$N}function ip(n){let e=n.mapValue.fields[qN];return xI(e)?ip(e):e}function Tu(n){let e=_r(n.mapValue.fields[zN].timestampValue);return new Ge(e.seconds,e.nanos)}var tE=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},bf="(default)",Sf=class n{constructor(e,t){this.projectId=e,this.database=t||bf}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===bf}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var kI="__type__",GN="__max__",gf={mapValue:{fields:{__type__:{stringValue:GN}}}},OI="__vector__",Ys="value";function mi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xI(n)?4:KN(n)?9007199254740991:WN(n)?10:11:$(28295,{value:n})}function zn(n,e){if(n===e)return!0;let t=mi(n);if(t!==mi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Tu(n).isEqual(Tu(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=_r(i.timestampValue),a=_r(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return Er(i.bytesValue).isEqual(Er(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Te(i.geoPointValue.latitude)===Te(o.geoPointValue.latitude)&&Te(i.geoPointValue.longitude)===Te(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Te(i.integerValue)===Te(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Te(i.doubleValue),a=Te(o.doubleValue);return s===a?Du(s)===Du(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return Qs(n.arrayValue.values||[],e.arrayValue.values||[],zn);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(UR(s)!==UR(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!zn(s[u],a[u])))return!1;return!0})(n,e);default:return $(52216,{left:n})}}function Cu(n,e){return(n.values||[]).find(t=>zn(t,e))!==void 0}function Zs(n,e){if(n===e)return 0;let t=mi(n),r=mi(e);if(t!==r)return re(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return re(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Te(o.integerValue||o.doubleValue),u=Te(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(n,e);case 3:return BR(n.timestampValue,e.timestampValue);case 4:return BR(Tu(n),Tu(e));case 5:return J_(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=Er(o),u=Er(s);return a.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=re(a[l],u[l]);if(h!==0)return h}return re(a.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=re(Te(o.latitude),Te(s.latitude));return a!==0?a:re(Te(o.longitude),Te(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return $R(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p[Ys])===null||a===void 0?void 0:a.arrayValue,b=(u=m[Ys])===null||u===void 0?void 0:u.arrayValue,M=re(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=b?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:$R(y,b)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===gf.mapValue&&s===gf.mapValue)return 0;if(o===gf.mapValue)return 1;if(s===gf.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=J_(u[p],h[p]);if(m!==0)return m;let y=Zs(a[u[p]],l[h[p]]);if(y!==0)return y}return re(u.length,h.length)})(n.mapValue,e.mapValue);default:throw $(23264,{le:t})}}function BR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return re(n,e);let t=_r(n),r=_r(e),i=re(t.seconds,r.seconds);return i!==0?i:re(t.nanos,r.nanos)}function $R(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Zs(t[i],r[i]);if(o)return o}return re(t.length,r.length)}function Js(n){return nE(n)}function nE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=_r(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Er(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return B.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=nE(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${nE(t.fields[s])}`;return i+"}"})(n.mapValue):$(61005,{value:n})}function vf(n){switch(mi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=ip(n);return e?16+vf(e):16;case 5:return 2*n.stringValue.length;case 6:return Er(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+vf(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Ei(r.fields,(o,s)=>{i+=o.length+vf(s)}),i})(n.mapValue);default:throw $(13486,{value:n})}}function HR(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function rE(n){return!!n&&"integerValue"in n}function FI(n){return!!n&&"arrayValue"in n}function qR(n){return!!n&&"nullValue"in n}function zR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function _f(n){return!!n&&"mapValue"in n}function WN(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[kI])===null||t===void 0?void 0:t.stringValue)===OI}function yu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ei(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=yu(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=yu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function KN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===GN}var koe={mapValue:{fields:{[kI]:{stringValue:OI},[Ys]:{arrayValue:{}}}}};var Vt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!_f(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yu(t)}setAll(e){let t=jt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=yu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());_f(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];_f(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ei(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(yu(this.value))}};function QN(n){let e=[];return Ei(n.fields,(t,r)=>{let i=new jt([t]);if(_f(r)){let o=QN(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Zt(e)}var gn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ee.min(),ee.min(),ee.min(),Vt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ee.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ee.min(),ee.min(),Vt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ee.min(),ee.min(),Vt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Xs=class{constructor(e,t){this.position=e,this.inclusive=t}};function GR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=B.comparator(B.fromName(s.referenceValue),t.key):r=Zs(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function WR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!zn(n.position[t],e.position[t]))return!1;return!0}var Io=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function dq(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Af=class{},qe=class n extends Af{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new oE(e,t,r):t==="array-contains"?new cE(e,r):t==="in"?new uE(e,r):t==="not-in"?new lE(e,r):t==="array-contains-any"?new dE(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new sE(e,r):new aE(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Zs(t,this.value)):t!==null&&mi(this.value)===mi(t)&&this.matchesComparison(Zs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},mn=class n extends Af{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return YN(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function YN(n){return n.op==="and"}function ZN(n){return hq(n)&&YN(n)}function hq(n){for(let e of n.filters)if(e instanceof mn)return!1;return!0}function iE(n){if(n instanceof qe)return n.field.canonicalString()+n.op.toString()+Js(n.value);if(ZN(n))return n.filters.map(e=>iE(e)).join(",");{let e=n.filters.map(t=>iE(t)).join(",");return`${n.op}(${e})`}}function JN(n,e){return n instanceof qe?(function(r,i){return i instanceof qe&&r.op===i.op&&r.field.isEqual(i.field)&&zn(r.value,i.value)})(n,e):n instanceof mn?(function(r,i){return i instanceof mn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&JN(s,i.filters[a]),!0):!1})(n,e):void $(19439)}function XN(n){return n instanceof qe?(function(t){return`${t.field.canonicalString()} ${t.op} ${Js(t.value)}`})(n):n instanceof mn?(function(t){return t.op.toString()+" {"+t.getFilters().map(XN).join(" ,")+"}"})(n):"Filter"}var oE=class extends qe{constructor(e,t,r){super(e,t,r),this.key=B.fromName(r.referenceValue)}matches(e){let t=B.comparator(e.key,this.key);return this.matchesComparison(t)}},sE=class extends qe{constructor(e,t){super(e,"in",t),this.keys=eM("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},aE=class extends qe{constructor(e,t){super(e,"not-in",t),this.keys=eM("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function eM(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>B.fromName(r.referenceValue))}var cE=class extends qe{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return FI(t)&&Cu(t.arrayValue,this.value)}},uE=class extends qe{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Cu(this.value.arrayValue,t)}},lE=class extends qe{constructor(e,t){super(e,"not-in",t)}matches(e){if(Cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Cu(this.value.arrayValue,t)}},dE=class extends qe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!FI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Cu(this.value.arrayValue,r))}};var hE=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function KR(n,e=null,t=[],r=[],i=null,o=null,s=null){return new hE(n,e,t,r,i,o,s)}function LI(n){let e=Y(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>iE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),rp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Js(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Js(r)).join(",")),e.Pe=t}return e.Pe}function VI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!dq(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!JN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!WR(n.startAt,e.startAt)&&WR(n.endAt,e.endAt)}function fE(n){return B.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var yi=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function fq(n,e,t,r,i,o,s,a){return new yi(n,e,t,r,i,o,s,a)}function jI(n){return new yi(n)}function QR(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function tM(n){return n.collectionGroup!==null}function vu(n){let e=Y(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Je(jt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Io(o,r))}),t.has(jt.keyField().canonicalString())||e.Te.push(new Io(jt.keyField(),r))}return e.Te}function $n(n){let e=Y(n);return e.Ie||(e.Ie=pq(e,vu(n))),e.Ie}function pq(n,e){if(n.limitType==="F")return KR(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Io(i.field,o)});let t=n.endAt?new Xs(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Xs(n.startAt.position,n.startAt.inclusive):null;return KR(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function pE(n,e){let t=n.filters.concat([e]);return new yi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function gE(n,e,t){return new yi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function op(n,e){return VI($n(n),$n(e))&&n.limitType===e.limitType}function nM(n){return`${LI($n(n))}|lt:${n.limitType}`}function $s(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>XN(i)).join(", ")}]`),rp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Js(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Js(i)).join(",")),`Target(${r})`})($n(n))}; limitType=${n.limitType})`}function sp(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):B.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of vu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=GR(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,vu(r),i)||r.endAt&&!(function(s,a,u){let l=GR(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,vu(r),i))})(n,e)}function gq(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function rM(n){return(e,t)=>{let r=!1;for(let i of vu(n)){let o=mq(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function mq(n,e,t){let r=n.field.isKeyField()?B.comparator(e.key,t.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Zs(u,l):$(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return $(19790,{direction:n.dir})}}var Ir=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ei(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return BN(this.inner)}size(){return this.innerSize}};var yq=new Pe(B.comparator);function wr(){return yq}var iM=new Pe(B.comparator);function mu(...n){let e=iM;for(let t of n)e=e.insert(t.key,t);return e}function oM(n){let e=iM;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function go(){return _u()}function sM(){return _u()}function _u(){return new Ir(n=>n.toString(),(n,e)=>n.isEqual(e))}var vq=new Pe(B.comparator),_q=new Je(B.comparator);function ue(...n){let e=_q;for(let t of n)e=e.add(t);return e}var Eq=new Je(re);function Iq(){return Eq}function UI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Du(e)?"-0":e}}function aM(n){return{integerValue:""+n}}function wq(n,e){return ZH(e)?aM(e):UI(n,e)}var ea=class{constructor(){this._=void 0}};function Dq(n,e,t){return n instanceof ta?(function(i,o){let s={fields:{[HN]:{stringValue:$N},[zN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&xI(o)&&(o=ip(o)),o&&(s.fields[qN]=o),{mapValue:s}})(t,e):n instanceof wo?uM(n,e):n instanceof Do?lM(n,e):(function(i,o){let s=cM(i,o),a=YR(s)+YR(i.Ee);return rE(s)&&rE(i.Ee)?aM(a):UI(i.serializer,a)})(n,e)}function Tq(n,e,t){return n instanceof wo?uM(n,e):n instanceof Do?lM(n,e):t}function cM(n,e){return n instanceof na?(function(r){return rE(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var ta=class extends ea{},wo=class extends ea{constructor(e){super(),this.elements=e}};function uM(n,e){let t=dM(e);for(let r of n.elements)t.some(i=>zn(i,r))||t.push(r);return{arrayValue:{values:t}}}var Do=class extends ea{constructor(e){super(),this.elements=e}};function lM(n,e){let t=dM(e);for(let r of n.elements)t=t.filter(i=>!zn(i,r));return{arrayValue:{values:t}}}var na=class extends ea{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function YR(n){return Te(n.integerValue||n.doubleValue)}function dM(n){return FI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Cq(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof wo&&i instanceof wo||r instanceof Do&&i instanceof Do?Qs(r.elements,i.elements,zn):r instanceof na&&i instanceof na?zn(r.Ee,i.Ee):r instanceof ta&&i instanceof ta})(n.transform,e.transform)}var mE=class{constructor(e,t){this.version=e,this.transformResults=t}},Hn=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Ef(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var ra=class{};function hM(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new bu(n.key,Hn.none()):new To(n.key,n.data,Hn.none());{let t=n.data,r=Vt.empty(),i=new Je(jt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Gn(n.key,r,new Zt(i.toArray()),Hn.none())}}function bq(n,e,t){n instanceof To?(function(i,o,s){let a=i.value.clone(),u=JR(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof Gn?(function(i,o,s){if(!Ef(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=JR(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(fM(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function Eu(n,e,t,r){return n instanceof To?(function(o,s,a,u){if(!Ef(o.precondition,s))return a;let l=o.value.clone(),h=XR(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof Gn?(function(o,s,a,u){if(!Ef(o.precondition,s))return a;let l=XR(o.fieldTransforms,u,s),h=s.data;return h.setAll(fM(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,a){return Ef(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function Sq(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=cM(r.transform,i||null);o!=null&&(t===null&&(t=Vt.empty()),t.set(r.field,o))}return t||null}function ZR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Qs(r,i,(o,s)=>Cq(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var To=class extends ra{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Gn=class extends ra{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function fM(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function JR(n,e,t){let r=new Map;ye(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Tq(s,a,t[i]))}return r}function XR(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,Dq(o,s,e))}return r}var bu=class extends ra{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},yE=class extends ra{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var vE=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&bq(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Eu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Eu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=sM();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=hM(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ue())}isEqual(e){return this.batchId===e.batchId&&Qs(this.mutations,e.mutations,(t,r)=>ZR(t,r))&&Qs(this.baseMutations,e.baseMutations,(t,r)=>ZR(t,r))}},_E=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ye(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return vq})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var EE=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var IE=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var $e,de;function Aq(n){switch(n){case A.OK:return $(64938);case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0;default:return $(15467,{code:n})}}function pM(n){if(n===void 0)return vr("GRPC error has no .code"),A.UNKNOWN;switch(n){case $e.OK:return A.OK;case $e.CANCELLED:return A.CANCELLED;case $e.UNKNOWN:return A.UNKNOWN;case $e.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case $e.INTERNAL:return A.INTERNAL;case $e.UNAVAILABLE:return A.UNAVAILABLE;case $e.UNAUTHENTICATED:return A.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case $e.NOT_FOUND:return A.NOT_FOUND;case $e.ALREADY_EXISTS:return A.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return A.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case $e.ABORTED:return A.ABORTED;case $e.OUT_OF_RANGE:return A.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return A.UNIMPLEMENTED;case $e.DATA_LOSS:return A.DATA_LOSS;default:return $(39323,{code:n})}}(de=$e||($e={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";var eN=null;var Rq=new mr([4294967295,4294967295],0);function tN(n){let e=TN().encode(n),t=new F_;return t.update(e),new Uint8Array(t.digest())}function nN(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new mr([t,r],0),new mr([i,o],0)]}var wE=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new mo(`Invalid padding: ${t}`);if(r<0)throw new mo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new mo(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new mo(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=mr.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(mr.fromNumber(r)));return i.compare(Rq)===1&&(i=new mr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=tN(e),[r,i]=nN(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=tN(e),[r,i]=nN(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},mo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Rf=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Su.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ee.min(),i,new Pe(re),wr(),ue())}},Su=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ue(),ue(),ue())}};var Gs=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},Nf=class{constructor(e,t){this.targetId=e,this.De=t}},Mf=class{constructor(e,t,r=pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Pf=class{constructor(){this.ve=0,this.Ce=rN(),this.Fe=pt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ue(),t=ue(),r=ue();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:$(38017,{changeType:o})}}),new Su(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=rN()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ye(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},DE=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=wr(),this.je=mf(),this.Je=mf(),this.He=new Pe(re)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:$(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(fE(o))if(r===0){let s=new B(o.path);this.Xe(t,s,gn.newNoDocument(s,ee.min()))}else ye(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}eN?.ct((function(h,p,m,y,b){var M,R,F,G,W,Ee;let gt={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},ve=p.unchangedNames;return ve&&(gt.bloomFilter={applied:b===0,hashCount:(M=ve?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(G=(F=(R=ve?.bits)===null||R===void 0?void 0:R.bitmap)===null||F===void 0?void 0:F.length)!==null&&G!==void 0?G:0,padding:(Ee=(W=ve?.bits)===null||W===void 0?void 0:W.padding)!==null&&Ee!==void 0?Ee:0,mightContain:w=>{var v;return(v=y?.mightContain(w))!==null&&v!==void 0&&v}}),gt})(s,e.De,this.We.lt(),a,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Er(r).toUint8Array()}catch(u){if(u instanceof Cf)return gi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new wE(s,i,o)}catch(u){return gi(u instanceof mo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&fE(a.target)){let u=new B(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,gn.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=ue();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new Rf(e,t,this.He,this.ze,r);return this.ze=wr(),this.je=mf(),this.Je=mf(),this.He=new Pe(re),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Pf,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Je(re),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Je(re),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||L("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Pf),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function mf(){return new Pe(B.comparator)}function rN(){return new Pe(B.comparator)}var Nq={asc:"ASCENDING",desc:"DESCENDING"},Mq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Pq={and:"AND",or:"OR"},TE=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function CE(n,e){return n.useProto3Json||rp(e)?e:{value:e}}function xf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gM(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function xq(n,e){return xf(n,e.toTimestamp())}function qn(n){return ye(!!n,49232),ee.fromTimestamp((function(t){let r=_r(t);return new Ge(r.seconds,r.nanos)})(n))}function BI(n,e){return bE(n,e).canonicalString()}function bE(n,e){let t=(function(i){return new Ce(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function mM(n){let e=Ce.fromString(n);return ye(IM(e),10190,{key:e.toString()}),e}function SE(n,e){return BI(n.databaseId,e.path)}function $_(n,e){let t=mM(e);if(t.get(1)!==n.databaseId.projectId)throw new O(A.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new O(A.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new B(vM(t))}function yM(n,e){return BI(n.databaseId,e)}function kq(n){let e=mM(n);return e.length===4?Ce.emptyPath():vM(e)}function AE(n){return new Ce(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vM(n){return ye(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function iN(n,e,t){return{name:SE(n,e),fields:t.value.mapValue.fields}}function Oq(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:$(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(ye(h===void 0||typeof h=="string",58123),pt.fromBase64String(h||"")):(ye(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),pt.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?A.UNKNOWN:pM(l.code);return new O(h,l.message||"")})(s);t=new Mf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=$_(n,r.document.name),o=qn(r.document.updateTime),s=r.document.createTime?qn(r.document.createTime):ee.min(),a=new Vt({mapValue:{fields:r.document.fields}}),u=gn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new Gs(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=$_(n,r.document),o=r.readTime?qn(r.readTime):ee.min(),s=gn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Gs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=$_(n,r.document),o=r.removedTargetIds||[];t=new Gs([],o,i,null)}else{if(!("filter"in e))return $(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new IE(i,o),a=r.targetId;t=new Nf(a,s)}}return t}function Fq(n,e){let t;if(e instanceof To)t={update:iN(n,e.key,e.value)};else if(e instanceof bu)t={delete:SE(n,e.key)};else if(e instanceof Gn)t={update:iN(n,e.key,e.data),updateMask:zq(e.fieldMask)};else{if(!(e instanceof yE))return $(16599,{Rt:e.type});t={verify:SE(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof ta)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof wo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Do)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof na)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw $(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:xq(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:$(27497)})(n,e.precondition)),t}function Lq(n,e){return n&&n.length>0?(ye(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?qn(i.updateTime):qn(o);return s.isEqual(ee.min())&&(s=qn(o)),new mE(s,i.transformResults||[])})(t,e))):[]}function Vq(n,e){return{documents:[yM(n,e.path)]}}function jq(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=yM(n,i);let o=(function(l){if(l.length!==0)return EM(mn.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(m){return{field:Hs(m.field),direction:$q(m.dir)}})(h))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=CE(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:t,parent:i}}function Uq(n){let e=kq(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){ye(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=(function(p){let m=_M(p);return m instanceof mn&&ZN(m)?m.getFilters():[m]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(m=>(function(b){return new Io(qs(b.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(m))})(t.orderBy));let a=null;t.limit&&(a=(function(p){let m;return m=typeof p=="object"?p.value:p,rp(m)?null:m})(t.limit));let u=null;t.startAt&&(u=(function(p){let m=!!p.before,y=p.values||[];return new Xs(y,m)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let m=!p.before,y=p.values||[];return new Xs(y,m)})(t.endAt)),fq(e,i,s,o,a,"F",u,l)}function Bq(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function _M(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=qs(t.unaryFilter.field);return qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=qs(t.unaryFilter.field);return qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=qs(t.unaryFilter.field);return qe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=qs(t.unaryFilter.field);return qe.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $(61313);default:return $(60726)}})(n):n.fieldFilter!==void 0?(function(t){return qe.create(qs(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $(58110);default:return $(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return mn.create(t.compositeFilter.filters.map(r=>_M(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return $(1026)}})(t.compositeFilter.op))})(n):$(30097,{filter:n})}function $q(n){return Nq[n]}function Hq(n){return Mq[n]}function qq(n){return Pq[n]}function Hs(n){return{fieldPath:n.canonicalString()}}function qs(n){return jt.fromServerFormat(n.fieldPath)}function EM(n){return n instanceof qe?(function(t){if(t.op==="=="){if(zR(t.value))return{unaryFilter:{field:Hs(t.field),op:"IS_NAN"}};if(qR(t.value))return{unaryFilter:{field:Hs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(zR(t.value))return{unaryFilter:{field:Hs(t.field),op:"IS_NOT_NAN"}};if(qR(t.value))return{unaryFilter:{field:Hs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hs(t.field),op:Hq(t.op),value:t.value}}})(n):n instanceof mn?(function(t){let r=t.getFilters().map(i=>EM(i));return r.length===1?r[0]:{compositeFilter:{op:qq(t.op),filters:r}}})(n):$(54877,{filter:n})}function zq(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function IM(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Au=class n{constructor(e,t,r,i,o=ee.min(),s=ee.min(),a=pt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var RE=class{constructor(e){this.gt=e}};function Gq(n){let e=Uq({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?gE(e,e.limit,"L"):e}var kf=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Te(e.integerValue));else if("doubleValue"in e){let r=Te(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Du(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=_r(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Er(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?KN(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):WN(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):$(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=Ys,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Te(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),B.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};kf.Ut=new kf;var NE=class{constructor(){this.Dn=new ME}addToCollectionParentIndex(e,t){return this.Dn.add(t),P.resolve()}getCollectionParents(e,t){return P.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return P.resolve()}deleteFieldIndex(e,t){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,t){return P.resolve()}getDocumentsMatchingTarget(e,t){return P.resolve(null)}getIndexType(e,t){return P.resolve(0)}getFieldIndexes(e,t){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,t){return P.resolve(Eo.min())}getMinOffsetFromCollectionGroup(e,t){return P.resolve(Eo.min())}updateCollectionGroup(e,t,r){return P.resolve()}updateIndexEntries(e,t){return P.resolve()}},ME=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Je(Ce.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Je(Ce.comparator)).toArray()}};var Ooe=new Uint8Array(0);var oN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wM=41943040,Yt=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Yt.DEFAULT_COLLECTION_PERCENTILE=10,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yt.DEFAULT=new Yt(wM,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yt.DISABLED=new Yt(-1,0,0);var Ru=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var sN="LruGarbageCollector",Wq=1048576;function aN([n,e],[t,r]){let i=re(n,t);return i===0?re(e,r):i}var PE=class{constructor(e){this.Tr=e,this.buffer=new Je(aN),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();aN(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},xE=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){L(sN,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ua(t)?L(sN,"Ignoring IndexedDB error during garbage collection: ",t):await ca(t)}await this.Rr(3e5)})}},kE=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return P.resolve(MI.ue);let r=new PE(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(L("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(oN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(L("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oN):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(L("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Bs()<=se.DEBUG&&L("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function Kq(n,e){return new kE(n,e)}var OE=class{constructor(){this.changes=new Ir(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?P.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var FE=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var LE=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Eu(r.mutation,i,Zt.empty(),Ge.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ue()){let i=go();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=mu();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=go();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ue()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=wr(),s=_u(),a=(function(){return _u()})();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Gn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Eu(h.mutation,l,h.mutation.getFieldMask(),Ge.now())):s.set(l.key,Zt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new FE(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=_u(),i=new Pe((s,a)=>s-a),o=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||Zt.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ue()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=sM();h.forEach(m=>{if(!o.has(m)){let y=hM(t.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return B.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):tM(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):P.resolve(go()),a=wu,u=o;return s.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ue())).next(h=>({batchId:a,changes:oM(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new B(t)).next(r=>{let i=mu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=mu();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,u=>{let l=(function(p,m){return new yi(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,gn.newInvalidDocument(h)))});let a=mu();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Eu(h.mutation,l,Zt.empty(),Ge.now()),sp(t,l)&&(a=a.insert(u,l))}),a})}};var VE=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return P.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:qn(i.createTime)}})(t)),P.resolve()}getNamedQuery(e,t){return P.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:Gq(i.bundledQuery),readTime:qn(i.readTime)}})(t)),P.resolve()}};var jE=class{constructor(){this.overlays=new Pe(B.comparator),this.kr=new Map}getOverlay(e,t){return P.resolve(this.overlays.get(t))}getOverlays(e,t){let r=go();return P.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),P.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),P.resolve()}getOverlaysForCollection(e,t,r){let i=go(),o=t.length+1,s=new B(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Pe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=go(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=go(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new EE(t,r));let o=this.kr.get(t);o===void 0&&(o=ue(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var UE=class{constructor(){this.sessionToken=pt.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,P.resolve()}};var Nu=class{constructor(){this.qr=new Je(He.Qr),this.$r=new Je(He.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new He(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new He(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new B(new Ce([])),r=new He(t,e),i=new He(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new B(new Ce([])),r=new He(t,e),i=new He(t,e+1),o=ue();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new He(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},He=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return B.comparator(e.key,t.key)||re(e.Hr,t.Hr)}static Ur(e,t){return re(e.Hr,t.Hr)||B.comparator(e.key,t.key)}};var BE=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Je(He.Qr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new vE(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new He(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,t){return P.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?PI:this.er-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new He(t,0),i=new He(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Je(re);return t.forEach(i=>{let o=new He(i,0),s=new He(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),P.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;B.isDocumentKey(o)||(o=o.child(""));let s=new He(new B(o),0),a=new Je(re);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),P.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){ye(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return P.forEach(t.mutations,i=>{let o=new He(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new He(t,0),i=this.Yr.firstAfterOrEqual(r);return P.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var $E=class{constructor(e){this.ni=e,this.docs=(function(){return new Pe(B.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return P.resolve(r?r.document.mutableCopy():gn.newInvalidDocument(t))}getEntries(e,t){let r=wr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():gn.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=wr(),s=t.path,a=new B(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||KH(WH(h),r)<=0||(i.has(h.key)||sp(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,t,r,i){$(9500)}ri(e,t){return P.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new HE(this)}getSize(e){return P.resolve(this.size)}},HE=class extends OE{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),P.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var qE=class{constructor(e){this.persistence=e,this.ii=new Ir(t=>LI(t),VI),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.si=0,this.oi=new Nu,this.targetCount=0,this._i=Ru.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),P.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Ru(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,P.resolve()}updateTargetData(e,t){return this.hr(t),P.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return P.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),P.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),P.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return P.resolve(r)}containsKey(e,t){return P.resolve(this.oi.containsKey(t))}};var Of=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new MI(0),this.ci=!1,this.ci=!0,this.li=new UE,this.referenceDelegate=e(this),this.hi=new qE(this),this.indexManager=new NE,this.remoteDocumentCache=(function(i){return new $E(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new RE(t),this.Ti=new VE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new jE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new BE(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){L("MemoryPersistence","Starting transaction:",e);let i=new zE(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return P.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},zE=class extends eE{constructor(e){super(),this.currentSequenceNumber=e}},GE=class n{constructor(e){this.persistence=e,this.Ai=new Nu,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw $(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),P.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),P.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.mi,r=>{let i=B.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,ee.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return P.or([()=>P.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},Ff=class n{constructor(e,t){this.persistence=e,this.gi=new Ir(r=>JH(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Kq(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return P.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return P.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?P.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,ee.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),P.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),P.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=vf(e.data.value)),t}Sr(e,t,r){return P.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var WE=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=ue(),i=ue();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var KE=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var QE=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return i0()?8:YH(Ye())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new KE;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(Bs()<=se.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",$s(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),P.resolve()):(Bs()<=se.DEBUG&&L("QueryEngine","Query:",$s(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Bs()<=se.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",$s(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$n(t))):P.resolve())}ps(e,t){if(QR(t))return P.resolve(null);let r=$n(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=gE(t,null,"F"),r=$n(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ue(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,a);return this.Ds(t,l,s,u.readTime)?this.ps(e,gE(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return QR(t)||i.isEqual(ee.min())?P.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?P.resolve(null):(Bs()<=se.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$s(t)),this.vs(e,s,t,GH(i,wu)).next(a=>a))})}bs(e,t){let r=new Je(rM(e));return t.forEach((i,o)=>{sp(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return Bs()<=se.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",$s(t)),this.gs.getDocumentsMatchingQuery(e,t,Eo.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var $I="LocalStore",Qq=3e8,YE=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Pe(re),this.Ms=new Ir(o=>LI(o),VI),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LE(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function Yq(n,e,t,r){return new YE(n,e,t,r)}async function DM(n,e){let t=Y(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ue();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})}function Zq(n,e){let t=Y(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,h){let p=l.batch,m=p.keys(),y=P.resolve();return m.forEach(b=>{y=y.next(()=>h.getEntry(u,b)).next(M=>{let R=l.docVersions.get(b);ye(R!==null,48541),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=ue();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function TM(n){let e=Y(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function Jq(n,e){let t=Y(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(t.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(pt.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(M,R,F){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=Qq?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(m,y,h)&&a.push(t.hi.updateTargetData(o,y))});let u=wr(),l=ue();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(Xq(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(ee.min())){let h=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Fs=i,o))}function Xq(n,e,t){let r=ue(),i=ue();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=wr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ee.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):L($I,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function e4(n,e){let t=Y(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=PI),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function t4(n,e){let t=Y(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new Au(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}async function ZE(n,e,t){let r=Y(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!ua(s))throw s;L($I,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function cN(n,e,t){let r=Y(n),i=ee.min(),o=ue();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=Y(u),m=p.Ms.get(h);return m!==void 0?P.resolve(p.Fs.get(m)):p.hi.getTargetData(l,h)})(r,s,$n(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:ee.min(),t?o:ue())).next(a=>(n4(r,gq(e),a),{documents:a,qs:o})))}function n4(n,e,t){let r=n.xs.get(e)||ee.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var Lf=class{constructor(){this.activeTargetIds=Iq()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var JE=class{constructor(){this.Fo=new Lf,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Lf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var XE=class{xo(e){}shutdown(){}};var uN="ConnectivityMonitor",Vf=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){L(uN,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){L(uN,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var yf=null;function eI(){return yf===null?yf=(function(){return 268435456+Math.round(2147483648*Math.random())})():yf++,"0x"+yf.toString(16)}var H_="RestConnection",r4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},tI=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===bf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=eI(),a=this.Go(e,t.toUriEncodedString());L(H_,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=ei(l);return this.jo(e,a,u,r,h).then(p=>(L(H_,`Received RPC '${e}' ${s}: `,p),p),p=>{throw gi(H_,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+aa})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=r4[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var nI=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var ft="WebChannelConnection",rI=class extends tI{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=eI();return new Promise((a,u)=>{let l=new L_;l.setWithCredentials(!0),l.listenOnce(V_.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case gu.NO_ERROR:let p=l.getResponseJson();L(ft,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case gu.TIMEOUT:L(ft,`RPC '${e}' ${s} timed out`),u(new O(A.DEADLINE_EXCEEDED,"Request time out"));break;case gu.HTTP_ERROR:let m=l.getStatus();if(L(ft,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let b=y?.error;if(b&&b.status&&b.message){let M=(function(F){let G=F.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(G)>=0?G:A.UNKNOWN})(b.status);u(new O(M,b.message))}else u(new O(A.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new O(A.UNAVAILABLE,"Connection failed."));break;default:$(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{L(ft,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);L(ft,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}P_(e,t,r){let i=eI(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=B_(),a=U_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");L(ft,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let m=!1,y=!1,b=new nI({Ho:R=>{y?L(ft,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(L(ft,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),L(ft,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Yo:()=>p.close()}),M=(R,F,G)=>{R.listen(F,W=>{try{G(W)}catch(Ee){setTimeout(()=>{throw Ee},0)}})};return M(p,Us.EventType.OPEN,()=>{y||(L(ft,`RPC '${e}' stream ${i} transport opened.`),b.s_())}),M(p,Us.EventType.CLOSE,()=>{y||(y=!0,L(ft,`RPC '${e}' stream ${i} transport closed`),b.__(),this.I_(p))}),M(p,Us.EventType.ERROR,R=>{y||(y=!0,gi(ft,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),b.__(new O(A.UNAVAILABLE,"The operation could not be completed")))}),M(p,Us.EventType.MESSAGE,R=>{var F;if(!y){let G=R.data[0];ye(!!G,16349);let W=G,Ee=W?.error||((F=W[0])===null||F===void 0?void 0:F.error);if(Ee){L(ft,`RPC '${e}' stream ${i} received error:`,Ee);let gt=Ee.status,ve=(function(E){let I=$e[E];if(I!==void 0)return pM(I)})(gt),w=Ee.message;ve===void 0&&(ve=A.INTERNAL,w="Unknown error status: "+gt+" with message "+Ee.message),y=!0,b.__(new O(ve,w)),p.close()}else L(ft,`RPC '${e}' stream ${i} received:`,G),b.a_(G)}}),M(a,j_.STAT_EVENT,R=>{R.stat===pf.PROXY?L(ft,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===pf.NOPROXY&&L(ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.o_()},0),b}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function q_(){return typeof document<"u"?document:null}function ap(n){return new TE(n,!0)}var jf=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var lN="PersistentStream",Uf=class{constructor(e,t,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new jf(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===A.RESOURCE_EXHAUSTED?(vr(t.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===A.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new O(A.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return L(lN,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(L(lN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},iI=class extends Uf{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=Oq(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ee.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?qn(s.readTime):ee.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=AE(this.serializer),t.addTarget=(function(o,s){let a,u=s.target;if(a=fE(u)?{documents:Vq(o,u)}:{query:jq(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=gM(o,s.resumeToken);let l=CE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ee.min())>0){a.readTime=xf(o,s.snapshotVersion.toTimestamp());let l=CE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=Bq(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=AE(this.serializer),t.removeTarget=e,this.k_(t)}},oI=class extends Uf{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=Lq(e.writeResults,e.commitTime),r=qn(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=AE(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>Fq(this.serializer,r))};this.k_(t)}};var sI=class{},aI=class extends sI{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new O(A.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,bE(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new O(A.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,bE(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new O(A.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},cI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(vr(t),this._a=!1):L("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Co="RemoteStore",uI=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(async()=>{So(this)&&(L(Co,"Restarting streams for network reachability change."),await(async function(u){let l=Y(u);l.Ia.add(4),await ku(l),l.Aa.set("Unknown"),l.Ia.delete(4),await cp(l)})(this))})}),this.Aa=new cI(r,i)}};async function cp(n){if(So(n))for(let e of n.da)await e(!0)}async function ku(n){for(let e of n.da)await e(!1)}function CM(n,e){let t=Y(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),GI(t)?zI(t):la(t).x_()&&qI(t,e))}function HI(n,e){let t=Y(n),r=la(t);t.Ta.delete(e),r.x_()&&bM(t,e),t.Ta.size===0&&(r.x_()?r.B_():So(t)&&t.Aa.set("Unknown"))}function qI(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}la(n).H_(e)}function bM(n,e){n.Ra.$e(e),la(n).Y_(e)}function zI(n){n.Ra=new DE({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),la(n).start(),n.Aa.aa()}function GI(n){return So(n)&&!la(n).M_()&&n.Ta.size>0}function So(n){return Y(n).Ia.size===0}function SM(n){n.Ra=void 0}async function i4(n){n.Aa.set("Online")}async function o4(n){n.Ta.forEach((e,t)=>{qI(n,e)})}async function s4(n,e){SM(n),GI(n)?(n.Aa.la(e),zI(n)):n.Aa.set("Unknown")}async function a4(n,e,t){if(n.Aa.set("Online"),e instanceof Mf&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})(n,e)}catch(r){L(Co,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bf(n,r)}else if(e instanceof Gs?n.Ra.Ye(e):e instanceof Nf?n.Ra.it(e):n.Ra.et(e),!t.isEqual(ee.min()))try{let r=await TM(n.localStore);t.compareTo(r)>=0&&await(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(pt.EMPTY_BYTE_STRING,h.snapshotVersion)),bM(o,u);let p=new Au(h.target,u,l,h.sequenceNumber);qI(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t)}catch(r){L(Co,"Failed to raise snapshot:",r),await Bf(n,r)}}async function Bf(n,e,t){if(!ua(e))throw e;n.Ia.add(1),await ku(n),n.Aa.set("Offline"),t||(t=()=>TM(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{L(Co,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await cp(n)})}function AM(n,e){return e().catch(t=>Bf(n,t,e))}async function up(n){let e=Y(n),t=vi(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:PI;for(;c4(e);)try{let i=await e4(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,u4(e,i)}catch(i){await Bf(e,i)}RM(e)&&NM(e)}function c4(n){return So(n)&&n.Pa.length<10}function u4(n,e){n.Pa.push(e);let t=vi(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function RM(n){return So(n)&&!vi(n).M_()&&n.Pa.length>0}function NM(n){vi(n).start()}async function l4(n){vi(n).na()}async function d4(n){let e=vi(n);for(let t of n.Pa)e.X_(t.mutations)}async function h4(n,e,t){let r=n.Pa.shift(),i=_E.from(r,e,t);await AM(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await up(n)}async function f4(n,e){e&&vi(n).Z_&&await(async function(r,i){if((function(s){return Aq(s)&&s!==A.ABORTED})(i.code)){let o=r.Pa.shift();vi(r).N_(),await AM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await up(r)}})(n,e),RM(n)&&NM(n)}async function dN(n,e){let t=Y(n);t.asyncQueue.verifyOperationInProgress(),L(Co,"RemoteStore received new credentials");let r=So(t);t.Ia.add(3),await ku(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await cp(t)}async function p4(n,e){let t=Y(n);e?(t.Ia.delete(2),await cp(t)):e||(t.Ia.add(2),await ku(t),t.Aa.set("Unknown"))}function la(n){return n.Va||(n.Va=(function(t,r,i){let o=Y(t);return o.ia(),new iI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:i4.bind(null,n),e_:o4.bind(null,n),n_:s4.bind(null,n),J_:a4.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),GI(n)?zI(n):n.Aa.set("Unknown")):(await n.Va.stop(),SM(n))})),n.Va}function vi(n){return n.ma||(n.ma=(function(t,r,i){let o=Y(t);return o.ia(),new oI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:l4.bind(null,n),n_:f4.bind(null,n),ea:d4.bind(null,n),ta:h4.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await up(n)):(await n.ma.stop(),n.Pa.length>0&&(L(Co,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}var lI=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new fn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new O(A.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function WI(n,e){if(vr("AsyncQueue",`${e}: ${n}`),ua(n))return new O(A.UNAVAILABLE,`${e}: ${n}`);throw n}var $f=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||B.comparator(t.key,r.key):(t,r)=>B.comparator(t.key,r.key),this.keyedMap=mu(),this.sortedSet=new Pe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Hf=class{constructor(){this.fa=new Pe(B.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):$(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},ia=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,$f.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&op(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var dI=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},hI=class{constructor(){this.queries=hN(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=Y(t),o=i.queries;i.queries=hN(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new O(A.ABORTED,"Firestore shutting down"))}};function hN(){return new Ir(n=>nM(n),op)}async function MM(n,e){let t=Y(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new dI,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await t.onListen(i,!0);break;case 1:o.ya=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){let a=WI(s,`Initialization of query '${$s(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&KI(t)}async function PM(n,e){let t=Y(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function g4(n,e){let t=Y(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&KI(t)}function m4(n,e,t){let r=Y(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function KI(n){n.Da.forEach(e=>{e.next()})}var fI,fN;(fN=fI||(fI={})).Fa="default",fN.Cache="cache";var qf=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ia(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==fI.Cache}};var zf=class{constructor(e){this.key=e}},Gf=class{constructor(e){this.key=e}},pI=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ue(),this.mutatedKeys=ue(),this.Xa=rM(e),this.eu=new $f(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new Hf,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=sp(this.query,p)?p:null,b=!!m&&this.mutatedKeys.has(m.key),M=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?b!==M&&(r.track({type:3,doc:y}),R=!0):this.iu(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=M?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>(function(y,b){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $(20277,{At:R})}};return M(y)-M(b)})(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new ia(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Hf,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=ue(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new Gf(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new zf(r))}),t}uu(e){this.Ha=e.qs,this.Za=ue();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return ia.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},QI="SyncEngine",gI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},mI=class{constructor(e){this.key=e,this.lu=!1}},yI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Ir(a=>nM(a),op),this.Tu=new Map,this.Iu=new Set,this.du=new Pe(B.comparator),this.Eu=new Map,this.Au=new Nu,this.Ru={},this.Vu=new Map,this.mu=Ru.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};async function y4(n,e,t=!0){let r=VM(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await xM(r,e,t,!0),i}async function v4(n,e){let t=VM(n);await xM(t,e,!0,!1)}async function xM(n,e,t,r){let i=await t4(n.localStore,$n(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=await _4(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&CM(n.remoteStore,i),a}async function _4(n,e,t,r,i){n.gu=(p,m,y)=>(async function(M,R,F,G){let W=R.view.nu(F);W.Ds&&(W=await cN(M.localStore,R.query,!1).then(({documents:w})=>R.view.nu(w,W)));let Ee=G&&G.targetChanges.get(R.targetId),gt=G&&G.targetMismatches.get(R.targetId)!=null,ve=R.view.applyChanges(W,M.isPrimaryClient,Ee,gt);return gN(M,R.targetId,ve._u),ve.snapshot})(n,p,m,y);let o=await cN(n.localStore,e,!0),s=new pI(e,o.qs),a=s.nu(o.documents),u=Su.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);gN(n,t,l._u);let h=new gI(e,t,s);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot}async function E4(n,e,t){let r=Y(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!op(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ZE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&HI(r.remoteStore,i.targetId),vI(r,i.targetId)}).catch(ca)):(vI(r,i.targetId),await ZE(r.localStore,i.targetId,!0))}async function I4(n,e){let t=Y(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),HI(t.remoteStore,r.targetId))}async function w4(n,e,t){let r=R4(n);try{let i=await(function(s,a){let u=Y(s),l=Ge.now(),h=a.reduce((y,b)=>y.add(b.key),ue()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=wr(),M=ue();return u.Os.getEntries(y,h).next(R=>{b=R,b.forEach((F,G)=>{G.isValidDocument()||(M=M.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,b)).next(R=>{p=R;let F=[];for(let G of a){let W=Sq(G,p.get(G.key).overlayedDocument);W!=null&&F.push(new Gn(G.key,W,QN(W.value.mapValue),Hn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,F,a)}).next(R=>{m=R;let F=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(y,R.batchId,F)})}).then(()=>({batchId:m.batchId,changes:oM(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new Pe(re)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,t),await Ou(r,i.changes),await up(r.remoteStore)}catch(i){let o=WI(i,"Failed to persist write");t.reject(o)}}async function kM(n,e){let t=Y(n);try{let r=await Jq(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?ye(s.lu,14607):i.removedDocuments.size>0&&(ye(s.lu,42227),s.lu=!1))}),await Ou(t,r,e)}catch(r){await ca(r)}}function pN(n,e,t){let r=Y(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=Y(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.wa)m.va(a)&&(l=!0)}),l&&KI(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function D4(n,e,t){let r=Y(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Pe(B.comparator);s=s.insert(o,gn.newNoDocument(o,ee.min()));let a=ue().add(o),u=new Rf(ee.min(),new Map,new Pe(re),s,a);await kM(r,u),r.du=r.du.remove(o),r.Eu.delete(e),YI(r)}else await ZE(r.localStore,e,!1).then(()=>vI(r,e,t)).catch(ca)}async function T4(n,e){let t=Y(n),r=e.batch.batchId;try{let i=await Zq(t.localStore,e);FM(t,r,null),OM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ou(t,i)}catch(i){await ca(i)}}async function C4(n,e,t){let r=Y(n);try{let i=await(function(s,a){let u=Y(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(ye(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})})(r.localStore,e);FM(r,e,t),OM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Ou(r,i)}catch(i){await ca(i)}}function OM(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function FM(n,e,t){let r=Y(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function vI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||LM(n,r)})}function LM(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(HI(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),YI(n))}function gN(n,e,t){for(let r of t)r instanceof zf?(n.Au.addReference(r.key,e),b4(n,r)):r instanceof Gf?(L(QI,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||LM(n,r.key)):$(19791,{yu:r})}function b4(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(L(QI,"New document in limbo: "+t),n.Iu.add(r),YI(n))}function YI(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new B(Ce.fromString(e)),r=n.mu.next();n.Eu.set(r,new mI(t)),n.du=n.du.insert(t,r),CM(n.remoteStore,new Au($n(jI(t.path)),r,"TargetPurposeLimboResolution",MI.ue))}}async function Ou(n,e,t){let r=Y(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=WE.Es(u.targetId,l);o.push(p)}}))}),await Promise.all(s),r.hu.J_(i),await(async function(u,l){let h=Y(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.Is,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!ua(p))throw p;L($I,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.Fs.get(m),b=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(b);h.Fs=h.Fs.insert(m,M)}}})(r.localStore,o))}async function S4(n,e){let t=Y(n);if(!t.currentUser.isEqual(e)){L(QI,"User change. New user:",e.toKey());let r=await DM(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new O(A.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ou(t,r.Bs)}}function A4(n,e){let t=Y(n),r=t.Eu.get(e);if(r&&r.lu)return ue().add(r.key);{let i=ue(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function VM(n){let e=Y(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=kM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=A4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D4.bind(null,e),e.hu.J_=g4.bind(null,e.eventManager),e.hu.pu=m4.bind(null,e.eventManager),e}function R4(n){let e=Y(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=T4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=C4.bind(null,e),e}var jM=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ap(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,r){return null}Fu(t,r){return null}vu(t){return Yq(this.persistence,new QE,t.initialUser,this.serializer)}Du(t){return new Of(GE.Vi,this.serializer)}bu(t){return new JE}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return n.provider={build:()=>new n},n})(),_I=class extends jM{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){ye(this.persistence.referenceDelegate instanceof Ff,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new xE(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Yt.withCacheSize(this.cacheSizeBytes):Yt.DEFAULT;return new Of(r=>Ff.Vi(r,t),this.serializer)}};var N4=(()=>{class n{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>pN(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=S4.bind(null,this.syncEngine),await p4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new hI})()}createDatastore(t){let r=ap(t.databaseInfo.databaseId),i=(function(s){return new rI(s)})(t.databaseInfo);return(function(s,a,u,l){return new aI(s,a,u,l)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,u){return new uI(i,o,s,a,u)})(this.localStore,this.datastore,t.asyncQueue,r=>pN(this.syncEngine,r,0),(function(){return Vf.C()?new Vf:new XE})())}createSyncEngine(t,r){return(function(o,s,a,u,l,h,p){let m=new yI(o,s,a,u,l,h);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await(async function(o){let s=Y(o);L(Co,"RemoteStore shutting down."),s.Ia.add(5),await ku(s),s.Ea.shutdown(),s.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}return n.provider={build:()=>new n},n})();var Wf=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var _i="FirestoreClient",EI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ze.UNAUTHENTICATED,this.clientId=Iu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{L(_i,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(L(_i,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new fn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=WI(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function z_(n,e){n.asyncQueue.verifyOperationInProgress(),L(_i,"Initializing OfflineComponentProvider");let t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await DM(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{gi("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{L("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{gi("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e}async function mN(n,e){n.asyncQueue.verifyOperationInProgress();let t=await M4(n);L(_i,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>dN(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>dN(e.remoteStore,i)),n._onlineComponents=e}async function M4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){L(_i,"Using user provided OfflineComponentProvider");try{await z_(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===A.FAILED_PRECONDITION||i.code===A.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;gi("Error using user provided cache. Falling back to memory cache: "+t),await z_(n,new jM)}}else L(_i,"Using default OfflineComponentProvider"),await z_(n,new _I(void 0));return n._offlineComponents}async function UM(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(L(_i,"Using user provided OnlineComponentProvider"),await mN(n,n._uninitializedComponentsProvider._online)):(L(_i,"Using default OnlineComponentProvider"),await mN(n,new N4))),n._onlineComponents}function P4(n){return UM(n).then(e=>e.syncEngine)}async function BM(n){let e=await UM(n),t=e.eventManager;return t.onListen=y4.bind(null,e.syncEngine),t.onUnlisten=E4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=v4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=I4.bind(null,e.syncEngine),t}function x4(n,e,t={}){let r=new fn;return n.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,u,l){let h=new Wf({next:m=>{h.Ou(),s.enqueueAndForget(()=>PM(o,p));let y=m.docs.has(a);!y&&m.fromCache?l.reject(new O(A.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?l.reject(new O(A.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new qf(jI(a.path),h,{includeMetadataChanges:!0,ka:!0});return MM(o,p)})(await BM(n),n.asyncQueue,e,t,r)),r.promise}function k4(n,e,t={}){let r=new fn;return n.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,u,l){let h=new Wf({next:m=>{h.Ou(),s.enqueueAndForget(()=>PM(o,p)),m.fromCache&&u.source==="server"?l.reject(new O(A.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new qf(a,h,{includeMetadataChanges:!0,ka:!0});return MM(o,p)})(await BM(n),n.asyncQueue,e,t,r)),r.promise}function $M(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var yN=new Map;var HM="firestore.googleapis.com",vN=!0,Kf=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new O(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HM,this.ssl=vN}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:vN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Wq)throw new O(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$M((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new O(A.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new O(A.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new O(A.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},oa=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new O(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new O(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new G_;switch(r.type){case"firstParty":return new Y_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new O(A.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=yN.get(t);r&&(L("ComponentProvider","Removing Datastore"),yN.delete(t),r.terminate())})(this),Promise.resolve()}};function qM(n,e,t,r={}){var i;n=pn(n,oa);let o=ei(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(Uh(`https://${u}`),Bh("Firestore",!0)),s.host!==HM&&s.host!==u&&gi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Fn(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Ze.MOCK_USER;else{h=JA(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new O(A.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Ze(m)}n._authCredentials=new W_(new If(h,p))}}var bo=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Xe=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new di(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(xu(t,n._jsonSchema))return new n(e,r||null,new B(Ce.fromString(t.referencePath)))}};Xe._jsonSchemaVersion="firestore/documentReference/1.0",Xe._jsonSchema={type:ze("string",Xe._jsonSchemaVersion),referencePath:ze("string")};var di=class n extends bo{constructor(e,t,r){super(e,t,jI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Xe(this.firestore,null,new B(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function zM(n,e,...t){if(n=Oe(n),CN("collection","path",e),n instanceof oa){let r=Ce.fromString(e,...t);return FR(r),new di(n,null,r)}{if(!(n instanceof Xe||n instanceof di))throw new O(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ce.fromString(e,...t));return FR(r),new di(n.firestore,null,r)}}function ZI(n,e,...t){if(n=Oe(n),arguments.length===1&&(e=Iu.newId()),CN("doc","path",e),n instanceof oa){let r=Ce.fromString(e,...t);return OR(r),new Xe(n,null,new B(r))}{if(!(n instanceof Xe||n instanceof di))throw new O(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ce.fromString(e,...t));return OR(r),new Xe(n.firestore,n instanceof di?n.converter:null,new B(r))}}var _N="AsyncQueue",Qf=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new jf(this,"async_queue_retry"),this.oc=()=>{let r=q_();r&&L(_N,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=q_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=q_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new fn;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ua(e))throw e;L(_N,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,vr("INTERNAL UNHANDLED ERROR: ",EN(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=lI.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&$(47125,{hc:EN(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function EN(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var Dr=class extends oa{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Qf,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Qf(e),this._firestoreClient=void 0,await e}}};function GM(n,e){let t=typeof n=="object"?n:ao(),r=typeof n=="string"?n:e||bf,i=Os(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=ZA("firestore");o&&qM(i,...o)}return i}function JI(n){if(n._terminated)throw new O(A.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||O4(n),n._firestoreClient}function O4(n){var e,t,r;let i=n._freezeSettings(),o=(function(a,u,l,h){return new tE(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,$M(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new EI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(n._componentsProvider))}var hi=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(pt.fromBase64String(e))}catch(t){throw new O(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xu(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};hi._jsonSchemaVersion="firestore/bytes/1.0",hi._jsonSchema={type:ze("string",hi._jsonSchemaVersion),bytes:ze("string")};var sa=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new O(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Mu=class{constructor(e){this._methodName=e}};var fi=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new O(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new O(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(xu(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};fi._jsonSchemaVersion="firestore/geoPoint/1.0",fi._jsonSchema={type:ze("string",fi._jsonSchemaVersion),latitude:ze("number"),longitude:ze("number")};var pi=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xu(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new O(A.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};pi._jsonSchemaVersion="firestore/vectorValue/1.0",pi._jsonSchema={type:ze("string",pi._jsonSchemaVersion),vectorValues:ze("object")};var F4=/^__.*__$/,II=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Gn(e,this.data,this.fieldMask,t,this.fieldTransforms):new To(e,this.data,t,this.fieldTransforms)}},Yf=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Gn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function WM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $(40011,{Ec:n})}}var wI=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Jf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(WM(this.Ec)&&F4.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},DI=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ap(e)}Dc(e,t,r,i=!1){return new wI({Ec:e,methodName:t,bc:r,path:jt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function lp(n){let e=n._freezeSettings(),t=ap(n._databaseId);return new DI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function KM(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);XI("Data must be an object, but it was:",s,r);let a=QM(r,s),u,l;if(o.merge)u=new Zt(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=TI(e,p,t);if(!s.contains(m))throw new O(A.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);ZM(h,m)||h.push(m)}u=new Zt(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new II(new Vt(a),u,l)}var Zf=class n extends Mu{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function L4(n,e,t,r){let i=n.Dc(1,e,t);XI("Data must be an object, but it was:",i,r);let o=[],s=Vt.empty();Ei(r,(u,l)=>{let h=ew(e,u,t);l=Oe(l);let p=i.gc(h);if(l instanceof Zf)o.push(h);else{let m=Fu(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new Zt(o);return new Yf(s,a,i.fieldTransforms)}function V4(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[TI(e,r,t)],u=[i];if(o.length%2!=0)throw new O(A.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(TI(e,o[m])),u.push(o[m+1]);let l=[],h=Vt.empty();for(let m=a.length-1;m>=0;--m)if(!ZM(l,a[m])){let y=a[m],b=u[m];b=Oe(b);let M=s.gc(y);if(b instanceof Zf)l.push(y);else{let R=Fu(b,M);R!=null&&(l.push(y),h.set(y,R))}}let p=new Zt(l);return new Yf(h,p,s.fieldTransforms)}function j4(n,e,t,r=!1){return Fu(t,n.Dc(r?4:3,e))}function Fu(n,e){if(YM(n=Oe(n)))return XI("Unsupported field value:",e,n),QM(n,e);if(n instanceof Mu)return(function(r,i){if(!WM(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=Fu(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=Oe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ge.fromDate(r);return{timestampValue:xf(i.serializer,o)}}if(r instanceof Ge){let o=new Ge(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xf(i.serializer,o)}}if(r instanceof fi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof hi)return{bytesValue:gM(i.serializer,r._byteString)};if(r instanceof Xe){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:BI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof pi)return(function(s,a){return{mapValue:{fields:{[kI]:{stringValue:OI},[Ys]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return UI(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${np(r)}`)})(n,e)}function QM(n,e){let t={};return BN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ei(n,(r,i)=>{let o=Fu(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function YM(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ge||n instanceof fi||n instanceof hi||n instanceof Xe||n instanceof Mu||n instanceof pi)}function XI(n,e,t){if(!YM(t)||!bN(t)){let r=np(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function TI(n,e,t){if((e=Oe(e))instanceof sa)return e._internalPath;if(typeof e=="string")return ew(n,e);throw Jf("Field path arguments must be of type string or ",n,!1,void 0,t)}var U4=new RegExp("[~\\*/\\[\\]]");function ew(n,e,t){if(e.search(U4)>=0)throw Jf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new sa(...e.split("."))._internalPath}catch{throw Jf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Jf(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new O(A.INVALID_ARGUMENT,a+n+u)}function ZM(n,e){return n.some(t=>t.isEqual(e))}var Xf=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new CI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(tw("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},CI=class extends Xf{data(){return super.data()}};function tw(n,e){return typeof e=="string"?ew(n,e):e instanceof sa?e._internalPath:e._delegate._internalPath}function B4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new O(A.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Pu=class{},ep=class extends Pu{};function JM(n,e,...t){let r=[];e instanceof Pu&&r.push(e),r=r.concat(t),(function(o){let s=o.filter(u=>u instanceof SI).length,a=o.filter(u=>u instanceof bI).length;if(s>1||s>0&&a>0)throw new O(A.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)n=i._apply(n);return n}var bI=class n extends ep{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return eP(e._query,t),new bo(e.firestore,e.converter,pE(e._query,t))}_parse(e){let t=lp(e.firestore);return(function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new O(A.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){wN(p,h);let b=[];for(let M of p)b.push(IN(u,o,M));m={arrayValue:{values:b}}}else m=IN(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||wN(p,h),m=j4(a,s,p,h==="in"||h==="not-in");return qe.create(l,h,m)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};var SI=class n extends Pu{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:mn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)eP(s,u),s=pE(s,u)})(e._query,t),new bo(e.firestore,e.converter,pE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var AI=class n extends ep{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=(function(i,o,s){if(i.startAt!==null)throw new O(A.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new O(A.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Io(o,s)})(e._query,this._field,this._direction);return new bo(e.firestore,e.converter,(function(i,o){let s=i.explicitOrderBy.concat([o]);return new yi(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}};function XM(n,e="asc"){let t=e,r=tw("orderBy",n);return AI._create(r,t)}function IN(n,e,t){if(typeof(t=Oe(t))=="string"){if(t==="")throw new O(A.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tM(e)&&t.indexOf("/")!==-1)throw new O(A.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Ce.fromString(t));if(!B.isDocumentKey(r))throw new O(A.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return HR(n,new B(r))}if(t instanceof Xe)return HR(n,t._key);throw new O(A.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${np(t)}.`)}function wN(n,e){if(!Array.isArray(n)||n.length===0)throw new O(A.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eP(n,e){let t=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new O(A.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new O(A.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var RI=class{convertValue(e,t="none"){switch(mi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Te(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Er(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw $(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Ei(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Ys].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Te(s.doubleValue));return new pi(o)}convertGeoPoint(e){return new fi(Te(e.latitude),Te(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=ip(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Tu(e));default:return null}}convertTimestamp(e){let t=_r(e);return new Ge(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ce.fromString(e);ye(IM(r),9688,{name:e});let i=new Sf(r.get(1),r.get(3)),o=new B(r.popFirst(5));return i.isEqual(t)||vr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function tP(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var yo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},vo=class n extends Xf{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Ws(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(tw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new O(A.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};vo._jsonSchemaVersion="firestore/documentSnapshot/1.0",vo._jsonSchema={type:ze("string",vo._jsonSchemaVersion),bundleSource:ze("string","DocumentSnapshot"),bundleName:ze("string"),bundle:ze("string")};var Ws=class extends vo{data(e={}){return super.data(e)}},Ks=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new yo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ws(this._firestore,this._userDataWriter,r.key,r,new yo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new O(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Ws(i._firestore,i._userDataWriter,a.doc.key,a.doc,new yo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Ws(i._firestore,i._userDataWriter,a.doc.key,a.doc,new yo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:$4(a.type),doc:u,oldIndex:l,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new O(A.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Iu.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function $4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $(61501,{type:n})}}function nP(n){n=pn(n,Xe);let e=pn(n.firestore,Dr);return x4(JI(e),n._key).then(t=>H4(e,n,t))}Ks._jsonSchemaVersion="firestore/querySnapshot/1.0",Ks._jsonSchema={type:ze("string",Ks._jsonSchemaVersion),bundleSource:ze("string","QuerySnapshot"),bundleName:ze("string"),bundle:ze("string")};var tp=class extends RI{constructor(e){super(),this.firestore=e}convertBytes(e){return new hi(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xe(this.firestore,null,t)}};function rP(n){n=pn(n,bo);let e=pn(n.firestore,Dr),t=JI(e),r=new tp(e);return B4(n._query),k4(t,n._query).then(i=>new Ks(e,r,n,i))}function iP(n,e,t){n=pn(n,Xe);let r=pn(n.firestore,Dr),i=tP(n.converter,e,t);return dp(r,[KM(lp(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Hn.none())])}function oP(n,e,t,...r){n=pn(n,Xe);let i=pn(n.firestore,Dr),o=lp(i),s;return s=typeof(e=Oe(e))=="string"||e instanceof sa?V4(o,"updateDoc",n._key,e,t,r):L4(o,"updateDoc",n._key,e),dp(i,[s.toMutation(n._key,Hn.exists(!0))])}function sP(n){return dp(pn(n.firestore,Dr),[new bu(n._key,Hn.none())])}function aP(n,e){let t=pn(n.firestore,Dr),r=ZI(n),i=tP(n.converter,e);return dp(t,[KM(lp(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Hn.exists(!1))]).then(()=>r)}function dp(n,e){return(function(r,i){let o=new fn;return r.asyncQueue.enqueueAndForget(async()=>w4(await P4(r),i,o)),o.promise})(JI(n),e)}function H4(n,e,t){let r=t.docs.get(e._key),i=new tp(n);return new vo(n,i,e._key,r,new yo(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){aa=i})(ni),dn(new wt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Dr(new K_(r.getProvider("auth-internal")),new Z_(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new O(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sf(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Me(MR,PR,e),Me(MR,PR,"esm2017")})();var Lu=class{constructor(e){return e}},cP="firestore",nw=class{constructor(){return Ls(cP)}};var rw=new j("angularfire2.firestore-instances");function q4(n,e){let t=tu(cP,n,e);return t&&new Lu(t)}function z4(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Lu(r)}}var G4={provide:nw,deps:[[new xt,rw]]},W4={provide:Lu,useFactory:q4,deps:[[new xt,rw],hr]};function jse(n,...e){return Me("angularfire",ri.full,"fst"),Bt([W4,G4,{provide:rw,useFactory:z4(n),multi:!0,deps:[pe,be,ii,uo,[new xt,pu],[new xt,Vs],...e]}])}var Use=Fe(aP,!0,2);var Bse=Fe(zM,!0,2);var $se=Fe(sP,!0,2);var Hse=Fe(ZI,!0,2);var qse=Fe(nP,!0);var zse=Fe(rP,!0);var Gse=Fe(GM,!0);var Wse=Fe(XM,!0,2),Kse=Fe(JM,!0,2);var Qse=Fe(iP,!0,2);var Yse=Fe(oP,!0,2);export{x as a,ne as b,U as c,z as d,ZD as e,mT as f,yT as g,Wt as h,zC as i,Xk as j,oe as k,ay as l,Vb as m,iF as n,oF as o,Bb as p,py as q,gy as r,Fd as s,cF as t,ar as u,lF as v,vc as w,SF as x,qb as y,my as z,zb as A,MF as B,Gb as C,FF as D,jF as E,Ji as F,hS as G,EL as H,fS as I,OL as J,iv as K,On as L,hA as M,vj as N,_j as O,kA as P,Wne as Q,Kne as R,Xj as S,n2 as T,Yne as U,i2 as V,a2 as W,l2 as X,h2 as Y,Zne as Z,Kre as _,Qre as $,fu as aa,doe as ba,hoe as ca,foe as da,poe as ea,goe as fa,moe as ga,Lu as ha,jse as ia,Use as ja,Bse as ka,$se as la,Hse as ma,qse as na,zse as oa,Gse as pa,Wse as qa,Kse as ra,Qse as sa,Yse as ta};
