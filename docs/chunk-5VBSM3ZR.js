import{Aa as N,B as f,C as x,D as _,I as k,J as E,K as I,M as L,Q as z,S as F,T,U as D,X as V,_ as W,a as P,f as p,fa as q,g as m,i as v,j as a,k as h,l as y,m as C,p as g,q as t,r as e,s as O,t as M,ta as A,u as b,v as s,w,wa as B,x as n,y as u,z as S}from"./chunk-7DSZXF6B.js";function R(c,d){c&1&&(t(0,"span",26),n(1,"\u{1F50D}"),e())}function G(c,d){if(c&1){let o=M();t(0,"div",27),b("click",function(){p(o);let i=s();return m(i.toggleMenu())}),e()}}function U(c,d){if(c&1){let o=M();t(0,"div",28)(1,"h3"),n(2,"Filtrar por:"),e(),t(3,"label")(4,"input",29),_("ngModelChange",function(i){p(o);let l=s();return x(l.filtroSeleccionado,i)||(l.filtroSeleccionado=i),m(i)}),e(),n(5," Todos los campos "),e(),t(6,"label")(7,"input",30),_("ngModelChange",function(i){p(o);let l=s();return x(l.filtroSeleccionado,i)||(l.filtroSeleccionado=i),m(i)}),e(),n(8," C\xF3digo de Barras "),e(),t(9,"label")(10,"input",31),_("ngModelChange",function(i){p(o);let l=s();return x(l.filtroSeleccionado,i)||(l.filtroSeleccionado=i),m(i)}),e(),n(11," Nombre del Producto "),e(),t(12,"label")(13,"input",32),_("ngModelChange",function(i){p(o);let l=s();return x(l.filtroSeleccionado,i)||(l.filtroSeleccionado=i),m(i)}),e(),n(14," Proveedor "),e()()}if(c&2){let o=s();a(4),f("ngModel",o.filtroSeleccionado),a(3),f("ngModel",o.filtroSeleccionado),a(3),f("ngModel",o.filtroSeleccionado),a(3),f("ngModel",o.filtroSeleccionado)}}function Y(c,d){if(c&1&&(t(0,"tr")(1,"td"),O(2,"img",33),e(),t(3,"td"),n(4),e(),t(5,"td"),n(6),e(),t(7,"td"),n(8),e(),t(9,"td"),n(10),e(),t(11,"td"),n(12),e(),t(13,"td"),n(14),e()()),c&2){let o=d.$implicit;a(2),g("src",o.imagen||"https://via.placeholder.com/60x60?text=Sin+Imagen",v),a(2),u(o.codigo),a(2),u(o.nombre),a(2),u(o.caracteristicas),a(2),S("$",o.precio.toLocaleString("es-MX")),a(2),u(o.stock),a(2),u(o.proveedor)}}var j=class c{constructor(d,o){this.firestore=d;this.cdr=o}busqueda="";filtroSeleccionado="todos";mostrarFiltro=!1;menuAbierto=!1;productos=[];async ngOnInit(){try{let d=B(this.firestore,"productos"),o=await N(d);this.productos=o.docs.map(r=>P({id:r.id},r.data())),console.log("Productos cargados:",this.productos),this.cdr.detectChanges()}catch(d){console.error("Error al cargar productos:",d)}}toggleMenu(){this.menuAbierto=!this.menuAbierto}toggleFiltro(){this.mostrarFiltro=!this.mostrarFiltro}filtrarProductos(){if(!this.busqueda)return this.productos;let d=this.busqueda.toLowerCase();return this.productos.filter(o=>{switch(this.filtroSeleccionado){case"codigo":return o.codigo?.includes(this.busqueda);case"nombre":return o.nombre?.toLowerCase().includes(d);case"proveedor":return o.proveedor?.toLowerCase().includes(d);case"todos":default:return o.nombre?.toLowerCase().includes(d)||o.codigo?.includes(this.busqueda)||o.proveedor?.toLowerCase().includes(d)||o.caracteristicas?.toLowerCase().includes(d)}})}static \u0275fac=function(o){return new(o||c)(h(A),h(k))};static \u0275cmp=y({type:c,selectors:[["app-main"]],decls:72,vars:7,consts:[[1,"main-wrapper"],[1,"top-header"],[1,"menu-button",3,"click"],[1,"material-symbols-outlined"],[1,"search-container"],[1,"search-box"],["class","search-icon",4,"ngIf"],["type","text","placeholder","Buscar Producto",1,"search-input",3,"ngModelChange","ngModel"],[1,"filter-button",3,"click"],[1,"material-icons"],[1,"sidebar-menu"],[1,"menu-header"],[1,"close-button",3,"click"],[1,"menu-nav"],["routerLink","/main",1,"menu-item","active"],["routerLink","/productos",1,"menu-item"],["routerLink","/proveedores",1,"menu-item"],["routerLink","/clientes",1,"menu-item"],["routerLink","/cotizaciones",1,"menu-item"],["routerLink","/configuracion",1,"menu-item"],["routerLink","/login",1,"menu-item","logout"],["class","menu-overlay",3,"click",4,"ngIf"],["class","filter-menu",4,"ngIf"],[1,"content-area"],[1,"table-container"],[4,"ngFor","ngForOf"],[1,"search-icon"],[1,"menu-overlay",3,"click"],[1,"filter-menu"],["type","radio","value","todos","name","filtro",3,"ngModelChange","ngModel"],["type","radio","value","codigo","name","filtro",3,"ngModelChange","ngModel"],["type","radio","value","nombre","name","filtro",3,"ngModelChange","ngModel"],["type","radio","value","proveedor","name","filtro",3,"ngModelChange","ngModel"],["alt","Producto",1,"product-image",3,"src"]],template:function(o,r){o&1&&(t(0,"div",0)(1,"div",1)(2,"button",2),b("click",function(){return r.toggleMenu()}),t(3,"span",3),n(4,"dehaze"),e()(),t(5,"h1"),n(6,"Stock General"),e(),t(7,"div",4)(8,"div",5),C(9,R,2,0,"span",6),t(10,"input",7),_("ngModelChange",function(l){return x(r.busqueda,l)||(r.busqueda=l),l}),e()(),t(11,"button",8),b("click",function(){return r.toggleFiltro()}),t(12,"span",9),n(13,"filter_list"),e()()()(),t(14,"div",10)(15,"div",11)(16,"h2"),n(17,"Men\xFA"),e(),t(18,"button",12),b("click",function(){return r.toggleMenu()}),n(19,"\u2715"),e()(),t(20,"nav",13)(21,"a",14)(22,"span",9),n(23,"inventory_2"),e(),n(24," Stock General "),e(),t(25,"a",15)(26,"span",9),n(27,"shopping_cart"),e(),n(28," Productos "),e(),t(29,"a",16)(30,"span",9),n(31,"local_shipping"),e(),n(32," Proveedores "),e(),t(33,"a",17)(34,"span",9),n(35,"people"),e(),n(36," Clientes "),e(),t(37,"a",18)(38,"span",9),n(39,"description"),e(),n(40," Cotizaciones "),e(),t(41,"a",19)(42,"span",9),n(43,"settings"),e(),n(44," Configuraci\xF3n "),e(),t(45,"a",20)(46,"span",9),n(47,"logout"),e(),n(48," Cerrar Sesi\xF3n "),e()()(),C(49,G,1,0,"div",21)(50,U,15,4,"div",22),t(51,"div",23)(52,"div",24)(53,"table")(54,"thead")(55,"tr")(56,"th"),n(57,"Imagen"),e(),t(58,"th"),n(59,"Codigo de Barras"),e(),t(60,"th"),n(61,"Nombre del producto"),e(),t(62,"th"),n(63,"Caracteristicas"),e(),t(64,"th"),n(65,"Precio"),e(),t(66,"th"),n(67,"Existencias"),e(),t(68,"th"),n(69,"Proveedor"),e()()(),t(70,"tbody"),C(71,Y,15,7,"tr",25),e()()()()()),o&2&&(a(9),g("ngIf",!r.busqueda),a(),f("ngModel",r.busqueda),a(4),w("open",r.menuAbierto),a(35),g("ngIf",r.menuAbierto),a(),g("ngIf",r.mostrarFiltro),a(21),g("ngForOf",r.filtrarProductos()))},dependencies:[L,E,I,q,T,W,D,V,F,z],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{margin:0;padding:0;overflow-x:hidden}.main-wrapper[_ngcontent-%COMP%]{min-height:100vh;width:100vw;margin:0;padding:0;background:linear-gradient(135deg,#0a2342,#1a4d7a,#2563a8);font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;position:fixed;top:0;left:0;overflow-y:auto}.top-header[_ngcontent-%COMP%]{background:#051428f2;padding:15px 30px;display:flex;align-items:center;gap:20px;box-shadow:0 2px 10px #0000004d;position:sticky;top:0;z-index:100}.menu-button[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;padding:8px;display:flex;align-items:center;justify-content:center;transition:background .3s ease;border-radius:5px}.menu-button[_ngcontent-%COMP%]:hover{background:#ffffff1a}.menu-button[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{color:#fff;font-size:28px}h1[_ngcontent-%COMP%]{color:#fff;font-size:28px;font-weight:700;flex:1}.search-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.search-box[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.search-icon[_ngcontent-%COMP%]{position:absolute;left:12px;font-size:16px;color:#999;pointer-events:none;transition:opacity .3s ease}.search-input[_ngcontent-%COMP%]{padding:8px 15px 8px 35px;border:none;border-radius:5px;background:#fff;font-size:14px;width:250px;outline:none;transition:all .3s ease}.search-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 10px #ffffff4d}.filter-button[_ngcontent-%COMP%]{background:#fff3;border:1px solid rgba(255,255,255,.3);border-radius:5px;padding:8px 12px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.filter-button[_ngcontent-%COMP%]:hover{background:#ffffff4d}.filter-button[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#e3e3e3;font-size:24px}.sidebar-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-300px;width:300px;height:100vh;background:#0a1929;box-shadow:2px 0 15px #00000080;transition:left .3s ease;z-index:1000;overflow-y:auto}.sidebar-menu.open[_ngcontent-%COMP%]{left:0}.menu-header[_ngcontent-%COMP%]{background:#051428f2;padding:20px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid rgba(255,255,255,.1)}.menu-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin:0}.close-button[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;font-size:28px;cursor:pointer;padding:5px 10px;transition:background .3s ease;border-radius:5px}.close-button[_ngcontent-%COMP%]:hover{background:#ffffff1a}.menu-nav[_ngcontent-%COMP%]{padding:20px 0}.menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;padding:15px 25px;color:#fffc;text-decoration:none;transition:all .3s ease;border-left:3px solid transparent}.menu-item[_ngcontent-%COMP%]:hover{background:#ffffff0d;color:#fff;border-left-color:#3498db}.menu-item.active[_ngcontent-%COMP%]{background:#3498db33;color:#fff;border-left-color:#3498db}.menu-item.logout[_ngcontent-%COMP%]{margin-top:20px;border-top:1px solid rgba(255,255,255,.1);padding-top:25px}.menu-item.logout[_ngcontent-%COMP%]:hover{background:#e74c3c1a;border-left-color:#e74c3c}.menu-item[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:24px}.menu-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;z-index:999;animation:_ngcontent-%COMP%_fadeIn .3s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.filter-menu[_ngcontent-%COMP%]{background:#fffffff2;border-radius:10px;padding:20px;margin:20px 30px;box-shadow:0 4px 15px #0000004d;animation:_ngcontent-%COMP%_slideDown .3s ease}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.filter-menu[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:15px;color:#0a2342;font-size:18px}.filter-menu[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px;cursor:pointer;color:#333;transition:background .2s ease;border-radius:5px}.filter-menu[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background:#2563a81a}.filter-menu[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{margin-right:10px;cursor:pointer;width:18px;height:18px}.content-area[_ngcontent-%COMP%]{padding:30px}.table-container[_ngcontent-%COMP%]{background:#ffffff0d;border-radius:10px;padding:20px;box-shadow:0 8px 32px #0000004d;overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:transparent}thead[_ngcontent-%COMP%]{background:#0a2342e6}th[_ngcontent-%COMP%]{padding:15px;text-align:left;color:#fff;font-weight:600;font-size:14px;border:1px solid rgba(255,255,255,.2)}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background .3s ease}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background:#6495ed80}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background:#87cefa66}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#6495edb3;cursor:pointer}td[_ngcontent-%COMP%]{padding:15px;color:#fff;font-size:14px;border:1px solid rgba(255,255,255,.2);vertical-align:middle}.product-image[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:cover;border-radius:8px;background:#fff;padding:2px}@media (max-width: 768px){.top-header[_ngcontent-%COMP%]{flex-wrap:wrap;padding:15px}h1[_ngcontent-%COMP%]{font-size:22px}.search-container[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}.search-input[_ngcontent-%COMP%]{width:180px}}"]})};export{j as MainComponent};
