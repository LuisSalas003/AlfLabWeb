var Kx=Object.defineProperty,Qx=Object.defineProperties;var Yx=Object.getOwnPropertyDescriptors;var UD=Object.getOwnPropertySymbols;var Zx=Object.prototype.hasOwnProperty,Jx=Object.prototype.propertyIsEnumerable;var BD=(t,e,n)=>e in t?Kx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,x=(t,e)=>{for(var n in e||={})Zx.call(e,n)&&BD(t,n,e[n]);if(UD)for(var n of UD(e))Jx.call(e,n)&&BD(t,n,e[n]);return t},ne=(t,e)=>Qx(t,Yx(e));var ag;function Il(){return ag}function xn(t){let e=ag;return ag=t,e}var $D=Symbol("NotFound");function Go(t){return t===$D||t?.name==="\u0275NotFound"}var pt=null,wl=!1,cg=1,Xx=null,gt=Symbol("SIGNAL");function X(t){let e=pt;return pt=t,e}function bl(){return pt}var Wo={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ko(t){if(wl)throw new Error("");if(pt===null)return;pt.consumerOnSignalRead(t);let e=pt.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=pt.recomputing;if(r&&(n=e!==void 0?e.nextProducer:pt.producers,n!==void 0&&n.producer===t)){pt.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===pt&&(!r||tk(i,pt)))return;let o=Yo(pt),s={producer:t,consumer:pt,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};pt.producersTail=s,e!==void 0?e.nextProducer=s:pt.producers=s,o&&GD(t,s)}function HD(){cg++}function Sl(t){if(!(Yo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===cg)){if(!t.producerMustRecompute(t)&&!Wa(t)){Cl(t);return}t.producerRecomputeValue(t),Cl(t)}}function ug(t){if(t.consumers===void 0)return;let e=wl;wl=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||ek(r)}}finally{wl=e}}function lg(){return pt?.consumerAllowSignalWrites!==!1}function ek(t){t.dirty=!0,ug(t),t.consumerMarkedDirty?.(t)}function Cl(t){t.dirty=!1,t.lastCleanEpoch=cg}function Qo(t){return t&&qD(t),X(t)}function qD(t){t.producersTail=void 0,t.recomputing=!0}function Ga(t,e){X(e),t&&zD(t)}function zD(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(Yo(t))do n=dg(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function Wa(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Sl(n),r!==n.version))return!0}return!1}function Ka(t){if(Yo(t)){let e=t.producers;for(;e!==void 0;)e=dg(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function GD(t,e){let n=t.consumersTail,r=Yo(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)GD(i.producer,i)}function dg(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Yo(e)){let o=e.producers;for(;o!==void 0;)o=dg(o)}return n}function Yo(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function Al(t){Xx?.(t)}function tk(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Rl(t,e){return Object.is(t,e)}function Nl(t,e){let n=Object.create(nk);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Sl(n),Ko(n),n.value===za)throw n.error;return n.value};return r[gt]=n,Al(n),r}var Dl=Symbol("UNSET"),Tl=Symbol("COMPUTING"),za=Symbol("ERRORED"),nk=ne(x({},Wo),{value:Dl,dirty:!0,error:null,equal:Rl,kind:"computed",producerMustRecompute(t){return t.value===Dl||t.value===Tl},producerRecomputeValue(t){if(t.value===Tl)throw new Error("");let e=t.value;t.value=Tl;let n=Qo(t),r,i=!1;try{r=t.computation(),X(null),i=e!==Dl&&e!==za&&r!==za&&t.equal(e,r)}catch(o){r=za,t.error=o}finally{Ga(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function rk(){throw new Error}var WD=rk;function KD(t){WD(t)}function hg(t){WD=t}var ik=null;function fg(t,e){let n=Object.create(Ml);n.value=t,e!==void 0&&(n.equal=e);let r=()=>QD(n);return r[gt]=n,Al(n),[r,s=>Zo(n,s),s=>pg(n,s)]}function QD(t){return Ko(t),t.value}function Zo(t,e){lg()||KD(t),t.equal(t.value,e)||(t.value=e,ok(t))}function pg(t,e){lg()||KD(t),Zo(t,e(t.value))}var Ml=ne(x({},Wo),{equal:Rl,value:void 0,kind:"signal"});function ok(t){t.version++,HD(),ug(t),ik?.(t)}function ee(t){return typeof t=="function"}function Jo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Pl=Jo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function $i(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var xe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ee(r))try{r()}catch(o){e=o instanceof Pl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{YD(o)}catch(s){e=e??[],s instanceof Pl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Pl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)YD(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&$i(n,e)}remove(e){let{_finalizers:n}=this;n&&$i(n,e),e instanceof t&&e._removeParent(this)}};xe.EMPTY=(()=>{let t=new xe;return t.closed=!0,t})();var gg=xe.EMPTY;function xl(t){return t instanceof xe||t&&"closed"in t&&ee(t.remove)&&ee(t.add)&&ee(t.unsubscribe)}function YD(t){ee(t)?t():t.unsubscribe()}var fn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Xo={setTimeout(t,e,...n){let{delegate:r}=Xo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Xo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function kl(t){Xo.setTimeout(()=>{let{onUnhandledError:e}=fn;if(e)e(t);else throw t})}function Qa(){}var ZD=mg("C",void 0,void 0);function JD(t){return mg("E",void 0,t)}function XD(t){return mg("N",t,void 0)}function mg(t,e,n){return{kind:t,value:e,error:n}}var Hi=null;function es(t){if(fn.useDeprecatedSynchronousErrorHandling){let e=!Hi;if(e&&(Hi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Hi;if(Hi=null,n)throw r}}else t()}function eT(t){fn.useDeprecatedSynchronousErrorHandling&&Hi&&(Hi.errorThrown=!0,Hi.error=t)}var qi=class extends xe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,xl(e)&&e.add(this)):this.destination=ck}static create(e,n,r){return new ts(e,n,r)}next(e){this.isStopped?vg(XD(e),this):this._next(e)}error(e){this.isStopped?vg(JD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?vg(ZD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},sk=Function.prototype.bind;function yg(t,e){return sk.call(t,e)}var _g=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ol(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ol(r)}else Ol(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ol(n)}}},ts=class extends qi{constructor(e,n,r){super();let i;if(ee(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&fn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&yg(e.next,o),error:e.error&&yg(e.error,o),complete:e.complete&&yg(e.complete,o)}):i=e}this.destination=new _g(i)}};function Ol(t){fn.useDeprecatedSynchronousErrorHandling?eT(t):kl(t)}function ak(t){throw t}function vg(t,e){let{onStoppedNotification:n}=fn;n&&Xo.setTimeout(()=>n(t,e))}var ck={closed:!0,next:Qa,error:ak,complete:Qa};var ns=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Vt(t){return t}function Eg(...t){return Ig(t)}function Ig(t){return t.length===0?Vt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var re=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=lk(n)?n:new ts(n,r,i);return es(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=tT(r),new r((i,o)=>{let s=new ts({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ns](){return this}pipe(...n){return Ig(n)(this)}toPromise(n){return n=tT(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function tT(t){var e;return(e=t??fn.Promise)!==null&&e!==void 0?e:Promise}function uk(t){return t&&ee(t.next)&&ee(t.error)&&ee(t.complete)}function lk(t){return t&&t instanceof qi||uk(t)&&xl(t)}function wg(t){return ee(t?.lift)}function le(t){return e=>{if(wg(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ae(t,e,n,r,i){return new Dg(t,e,n,r,i)}var Dg=class extends qi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function rs(){return le((t,e)=>{let n=null;t._refCount++;let r=ae(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var is=class extends re{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,wg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new xe;let n=this.getSubject();e.add(this.source.subscribe(ae(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=xe.EMPTY)}return e}refCount(){return rs()(this)}};var nT=Jo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ue=(()=>{class t extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Fl(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new nT}next(n){es(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){es(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){es(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?gg:(this.currentObservers=null,o.push(n),new xe(()=>{this.currentObservers=null,$i(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new re;return n.source=this,n}}return t.create=(e,n)=>new Fl(e,n),t})(),Fl=class extends Ue{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:gg}};var st=class extends Ue{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Tg={now(){return(Tg.delegate||Date).now()},delegate:void 0};var Ll=class extends xe{constructor(e,n){super()}schedule(e,n=0){return this}};var Ya={setInterval(t,e,...n){let{delegate:r}=Ya;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ya;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var os=class extends Ll{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Ya.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ya.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,$i(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ss=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ss.now=Tg.now;var as=class extends ss{constructor(e,n=ss.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Cg=new as(os);var Vl=class extends os{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var jl=class extends as{};var bg=new jl(Vl);var Mt=new re(t=>t.complete());function rT(t){return t&&ee(t.schedule)}function iT(t){return t[t.length-1]}function Ul(t){return ee(iT(t))?t.pop():void 0}function $r(t){return rT(iT(t))?t.pop():void 0}function Sg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function sT(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function oT(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function zi(t){return this instanceof zi?(this.v=t,this):new zi(t)}function aT(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(C){return Promise.resolve(C).then(y,p)}}function a(y,C){r[y]&&(i[y]=function(M){return new Promise(function(A,F){o.push([y,M,A,F])>1||u(y,M)})},C&&(i[y]=C(i[y])))}function u(y,C){try{l(r[y](C))}catch(M){m(o[0][3],M)}}function l(y){y.value instanceof zi?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,C){y(C),o.shift(),o.length&&u(o[0][0],o[0][1])}}function cT(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof oT=="function"?oT(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Bl=t=>t&&typeof t.length=="number"&&typeof t!="function";function $l(t){return ee(t?.then)}function Hl(t){return ee(t[ns])}function ql(t){return Symbol.asyncIterator&&ee(t?.[Symbol.asyncIterator])}function zl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function dk(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Gl=dk();function Wl(t){return ee(t?.[Gl])}function Kl(t){return aT(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield zi(n.read());if(i)return yield zi(void 0);yield yield zi(r)}}finally{n.releaseLock()}})}function Ql(t){return ee(t?.getReader)}function Be(t){if(t instanceof re)return t;if(t!=null){if(Hl(t))return hk(t);if(Bl(t))return fk(t);if($l(t))return pk(t);if(ql(t))return uT(t);if(Wl(t))return gk(t);if(Ql(t))return mk(t)}throw zl(t)}function hk(t){return new re(e=>{let n=t[ns]();if(ee(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function fk(t){return new re(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function pk(t){return new re(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,kl)})}function gk(t){return new re(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function uT(t){return new re(e=>{yk(t,e).catch(n=>e.error(n))})}function mk(t){return uT(Kl(t))}function yk(t,e){var n,r,i,o;return sT(this,void 0,void 0,function*(){try{for(n=cT(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Pt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Hr(t,e=0){return le((n,r)=>{n.subscribe(ae(r,i=>Pt(r,t,()=>r.next(i),e),()=>Pt(r,t,()=>r.complete(),e),i=>Pt(r,t,()=>r.error(i),e)))})}function qr(t,e=0){return le((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function lT(t,e){return Be(t).pipe(qr(e),Hr(e))}function dT(t,e){return Be(t).pipe(qr(e),Hr(e))}function hT(t,e){return new re(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function fT(t,e){return new re(n=>{let r;return Pt(n,e,()=>{r=t[Gl](),Pt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ee(r?.return)&&r.return()})}function Yl(t,e){if(!t)throw new Error("Iterable cannot be null");return new re(n=>{Pt(n,e,()=>{let r=t[Symbol.asyncIterator]();Pt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function pT(t,e){return Yl(Kl(t),e)}function gT(t,e){if(t!=null){if(Hl(t))return lT(t,e);if(Bl(t))return hT(t,e);if($l(t))return dT(t,e);if(ql(t))return Yl(t,e);if(Wl(t))return fT(t,e);if(Ql(t))return pT(t,e)}throw zl(t)}function be(t,e){return e?gT(t,e):Be(t)}function H(...t){let e=$r(t);return be(t,e)}function cs(t,e){let n=ee(t)?t:()=>t,r=i=>i.error(n());return new re(e?i=>e.schedule(r,0,i):r)}function Ag(t){return!!t&&(t instanceof re||ee(t.lift)&&ee(t.subscribe))}var ur=Jo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ce(t,e){return le((n,r)=>{let i=0;n.subscribe(ae(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:vk}=Array;function _k(t,e){return vk(e)?t(...e):t(e)}function Zl(t){return ce(e=>_k(t,e))}var{isArray:Ek}=Array,{getPrototypeOf:Ik,prototype:wk,keys:Dk}=Object;function Jl(t){if(t.length===1){let e=t[0];if(Ek(e))return{args:e,keys:null};if(Tk(e)){let n=Dk(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Tk(t){return t&&typeof t=="object"&&Ik(t)===wk}function Xl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Za(...t){let e=$r(t),n=Ul(t),{args:r,keys:i}=Jl(t);if(r.length===0)return be([],e);let o=new re(Ck(r,e,i?s=>Xl(i,s):Vt));return n?o.pipe(Zl(n)):o}function Ck(t,e,n=Vt){return r=>{mT(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)mT(e,()=>{let l=be(t[u],e),h=!1;l.subscribe(ae(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function mT(t,e,n){t?Pt(n,t,e):e()}function yT(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=M=>l<r?C(M):u.push(M),C=M=>{o&&e.next(M),l++;let A=!1;Be(n(M,h++)).subscribe(ae(e,F=>{i?.(F),o?y(F):e.next(F)},()=>{A=!0},void 0,()=>{if(A)try{for(l--;u.length&&l<r;){let F=u.shift();s?Pt(e,s,()=>C(F)):C(F)}m()}catch(F){e.error(F)}}))};return t.subscribe(ae(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Le(t,e,n=1/0){return ee(e)?Le((r,i)=>ce((o,s)=>e(r,o,i,s))(Be(t(r,i))),n):(typeof e=="number"&&(n=e),le((r,i)=>yT(r,i,t,n)))}function us(t=1/0){return Le(Vt,t)}function vT(){return us(1)}function ls(...t){return vT()(be(t,$r(t)))}function Ja(t){return new re(e=>{Be(t()).subscribe(e)})}function Rg(...t){let e=Ul(t),{args:n,keys:r}=Jl(t),i=new re(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Be(n[h]).subscribe(ae(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Xl(r,a):a),o.complete())}))}});return e?i.pipe(Zl(e)):i}function xt(t,e){return le((n,r)=>{let i=0;n.subscribe(ae(r,o=>t.call(e,o,i++)&&r.next(o)))})}function lr(t){return le((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ae(n,void 0,void 0,s=>{o=Be(t(s,lr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function _T(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(ae(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function zr(t,e){return ee(e)?Le(t,e,1):Le(t,1)}function Gr(t){return le((e,n)=>{let r=!1;e.subscribe(ae(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function dr(t){return t<=0?()=>Mt:le((e,n)=>{let r=0;e.subscribe(ae(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function ed(t=bk){return le((e,n)=>{let r=!1;e.subscribe(ae(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function bk(){return new ur}function Xa(t){return le((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function hr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?xt((i,o)=>t(i,o,r)):Vt,dr(1),n?Gr(e):ed(()=>new ur))}function ds(t){return t<=0?()=>Mt:le((e,n)=>{let r=[];e.subscribe(ae(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ng(t,e){let n=arguments.length>=2;return r=>r.pipe(t?xt((i,o)=>t(i,o,r)):Vt,ds(1),n?Gr(e):ed(()=>new ur))}function Mg(t,e){return le(_T(t,e,arguments.length>=2,!0))}function Pg(...t){let e=$r(t);return le((n,r)=>{(e?ls(t,n,e):ls(t,n)).subscribe(r)})}function Ct(t,e){return le((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ae(r,u=>{i?.unsubscribe();let l=0,h=o++;Be(t(u,h)).subscribe(i=ae(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function td(t){return le((e,n)=>{Be(t).subscribe(ae(n,()=>n.complete(),Qa)),!n.closed&&e.subscribe(n)})}function Je(t,e,n){let r=ee(t)||e||n?{next:t,error:e,complete:n}:t;return r?le((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ae(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Vt}function ET(t){let e=X(null);try{return t()}finally{X(e)}}var Wr=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},zg=new Wr("20.3.15");var od="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",L=class extends Error{code;constructor(e,n){super(Yr(e,n)),this.code=e}};function Sk(t){return`NG0${Math.abs(t)}`}function Yr(t,e){return`${Sk(t)}${e?": "+e:""}`}var gr=globalThis;function me(t){for(let e in t)if(t[e]===me)return e;throw Error("")}function DT(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function pr(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(pr).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Gg(t,e){return t?e?`${t} ${e}`:t:e||""}var Ak=me({__forward_ref__:me});function St(t){return t.__forward_ref__=St,t.toString=function(){return pr(this())},t}function at(t){return Wg(t)?t():t}function Wg(t){return typeof t=="function"&&t.hasOwnProperty(Ak)&&t.__forward_ref__===St}function U(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function gn(t){return{providers:t.providers||[],imports:t.imports||[]}}function rc(t){return Rk(t,sd)}function Kg(t){return rc(t)!==null}function Rk(t,e){return t.hasOwnProperty(e)&&t[e]||null}function Nk(t){let e=t?.[sd]??null;return e||null}function kg(t){return t&&t.hasOwnProperty(rd)?t[rd]:null}var sd=me({\u0275prov:me}),rd=me({\u0275inj:me}),j=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=U({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Qg(t){return t&&!!t.\u0275providers}var Yg=me({\u0275cmp:me}),Zg=me({\u0275dir:me}),Jg=me({\u0275pipe:me}),Xg=me({\u0275mod:me}),tc=me({\u0275fac:me}),Yi=me({__NG_ELEMENT_ID__:me}),IT=me({__NG_ENV_ID__:me});function Zi(t){return typeof t=="string"?t:t==null?"":String(t)}function TT(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Zi(t)}var CT=me({ngErrorCode:me}),Mk=me({ngErrorMessage:me}),Pk=me({ngTokenPath:me});function em(t,e){return bT("",-200,e)}function ad(t,e){throw new L(-201,!1)}function bT(t,e,n){let r=new L(e,t);return r[CT]=e,r[Mk]=t,n&&(r[Pk]=n),r}function xk(t){return t[CT]}var Og;function ST(){return Og}function bt(t){let e=Og;return Og=t,e}function tm(t,e,n){let r=rc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;ad(t,"Injector")}var kk={},Gi=kk,Fg="__NG_DI_FLAG__",Lg=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Wi(n)||0;try{return this.injector.get(e,r&8?null:Gi,r)}catch(i){if(Go(i))return i;throw i}}};function Ok(t,e=0){let n=Il();if(n===void 0)throw new L(-203,!1);if(n===null)return tm(t,void 0,e);{let r=Fk(e),i=n.retrieve(t,r);if(Go(i)){if(r.optional)return null;throw i}return i}}function G(t,e=0){return(ST()||Ok)(at(t),e)}function N(t,e){return G(t,Wi(e))}function Wi(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Fk(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Vg(t){let e=[];for(let n=0;n<t.length;n++){let r=at(t[n]);if(Array.isArray(r)){if(r.length===0)throw new L(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=Lk(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(G(i,o))}else e.push(G(r))}return e}function AT(t,e){return t[Fg]=e,t.prototype[Fg]=e,t}function Lk(t){return t[Fg]}function Kr(t,e){let n=t.hasOwnProperty(tc);return n?t[tc]:null}function cd(t,e){t.forEach(n=>Array.isArray(n)?cd(n,e):e(n))}function nm(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ic(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function RT(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function NT(t,e,n){let r=fs(t,e);return r>=0?t[r|1]=n:(r=~r,RT(t,r,e,n)),r}function ud(t,e){let n=fs(t,e);if(n>=0)return t[n|1]}function fs(t,e){return Vk(t,e,1)}function Vk(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Zr={},jt=[],Jr=new j(""),rm=new j("",-1),im=new j(""),nc=class{get(e,n=Gi){if(n===Gi){let i=bT("",-201);throw i.name="\u0275NotFound",i}return n}};function om(t){return t[Xg]||null}function mr(t){return t[Yg]||null}function sm(t){return t[Zg]||null}function MT(t){return t[Jg]||null}function Yt(t){return{\u0275providers:t}}function PT(...t){return{\u0275providers:am(!0,t),\u0275fromNgModule:!0}}function am(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return cd(e,s=>{let a=s;id(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&xT(i,o),n}function xT(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];cm(i,o=>{e(o,r)})}}function id(t,e,n,r){if(t=at(t),!t)return!1;let i=null,o=kg(t),s=!o&&mr(t);if(!o&&!s){let u=t.ngModule;if(o=kg(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)id(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{cd(o.imports,h=>{id(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&xT(l,e)}if(!a){let l=Kr(i)||(()=>new i);e({provide:i,useFactory:l,deps:jt},i),e({provide:im,useValue:i,multi:!0},i),e({provide:Jr,useValue:()=>G(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;cm(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function cm(t,e){for(let n of t)Qg(n)&&(n=n.\u0275providers),Array.isArray(n)?cm(n,e):e(n)}var jk=me({provide:String,useValue:me});function kT(t){return t!==null&&typeof t=="object"&&jk in t}function Uk(t){return!!(t&&t.useExisting)}function Bk(t){return!!(t&&t.useFactory)}function Ki(t){return typeof t=="function"}function OT(t){return!!t.useClass}var oc=new j(""),nd={},wT={},xg;function sc(){return xg===void 0&&(xg=new nc),xg}var Ve=class{},Qi=class extends Ve{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Ug(e,s=>this.processProvider(s)),this.records.set(rm,hs(void 0,this)),i.has("environment")&&this.records.set(Ve,hs(void 0,this));let o=this.records.get(oc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(im,jt,{self:!0}))}retrieve(e,n){let r=Wi(n)||0;try{return this.get(e,Gi,r)}catch(i){if(Go(i))return i;throw i}}destroy(){ec(this),this._destroyed=!0;let e=X(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),X(e)}}onDestroy(e){return ec(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ec(this);let n=xn(this),r=bt(void 0),i;try{return e()}finally{xn(n),bt(r)}}get(e,n=Gi,r){if(ec(this),e.hasOwnProperty(IT))return e[IT](this);let i=Wi(r),o,s=xn(this),a=bt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=Gk(e)&&rc(e);h&&this.injectableDefInScope(h)?l=hs(jg(e),nd):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?sc():this.parent;return n=i&8&&n===Gi?null:n,u.get(e,n)}catch(u){let l=xk(u);throw l===-200||l===-201?new L(l,null):u}finally{bt(a),xn(s)}}resolveInjectorInitializers(){let e=X(null),n=xn(this),r=bt(void 0),i;try{let o=this.get(Jr,jt,{self:!0});for(let s of o)s()}finally{xn(n),bt(r),X(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(pr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=at(e);let n=Ki(e)?e:at(e&&e.provide),r=Hk(e);if(!Ki(e)&&e.multi===!0){let i=this.records.get(n);i||(i=hs(void 0,nd,!0),i.factory=()=>Vg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=X(null);try{if(n.value===wT)throw em(pr(e));return n.value===nd&&(n.value=wT,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&zk(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{X(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=at(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function jg(t){let e=rc(t),n=e!==null?e.factory:Kr(t);if(n!==null)return n;if(t instanceof j)throw new L(204,!1);if(t instanceof Function)return $k(t);throw new L(204,!1)}function $k(t){if(t.length>0)throw new L(204,!1);let n=Nk(t);return n!==null?()=>n.factory(t):()=>new t}function Hk(t){if(kT(t))return hs(void 0,t.useValue);{let e=um(t);return hs(e,nd)}}function um(t,e,n){let r;if(Ki(t)){let i=at(t);return Kr(i)||jg(i)}else if(kT(t))r=()=>at(t.useValue);else if(Bk(t))r=()=>t.useFactory(...Vg(t.deps||[]));else if(Uk(t))r=(i,o)=>G(at(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=at(t&&(t.useClass||t.provide));if(qk(t))r=()=>new i(...Vg(t.deps));else return Kr(i)||jg(i)}return r}function ec(t){if(t.destroyed)throw new L(205,!1)}function hs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function qk(t){return!!t.deps}function zk(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Gk(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Ug(t,e){for(let n of t)Array.isArray(n)?Ug(n,e):n&&Qg(n)?Ug(n.\u0275providers,e):e(n)}function $e(t,e){let n;t instanceof Qi?(ec(t),n=t):n=new Lg(t);let r,i=xn(n),o=bt(void 0);try{return e()}finally{xn(i),bt(o)}}function FT(){return ST()!==void 0||Il()!=null}var mn=0,Y=1,Q=2,ct=3,Zt=4,Jt=5,ac=6,ps=7,ut=8,Xr=9,On=10,ke=11,gs=12,lm=13,Ji=14,Xt=15,Xi=16,eo=17,to=18,cc=19,dm=20,fr=21,ld=22,uc=23,Ut=24,no=25,lc=26,Xe=27,LT=1;var ei=7,dc=8,hc=9,At=10;function Fn(t){return Array.isArray(t)&&typeof t[LT]=="object"}function yn(t){return Array.isArray(t)&&t[LT]===!0}function hm(t){return(t.flags&4)!==0}function ti(t){return t.componentOffset>-1}function fc(t){return(t.flags&1)===1}function Ln(t){return!!t.template}function ms(t){return(t[Q]&512)!==0}function ro(t){return(t[Q]&256)===256}var VT="svg",jT="math";function en(t){for(;Array.isArray(t);)t=t[mn];return t}function fm(t,e){return en(e[t])}function vn(t,e){return en(e[t.index])}function pc(t,e){return t.data[e]}function UT(t,e){return t[e]}function pm(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function tn(t,e){let n=e[t];return Fn(n)?n:n[mn]}function dd(t){return(t[Q]&128)===128}function BT(t){return yn(t[ct])}function ni(t,e){return e==null?null:t[e]}function gm(t){t[eo]=0}function mm(t){t[Q]&1024||(t[Q]|=1024,dd(t)&&ys(t))}function $T(t,e){for(;t>0;)e=e[Ji],t--;return e}function gc(t){return!!(t[Q]&9216||t[Ut]?.dirty)}function hd(t){t[On].changeDetectionScheduler?.notify(8),t[Q]&64&&(t[Q]|=1024),gc(t)&&ys(t)}function ys(t){t[On].changeDetectionScheduler?.notify(0);let e=Qr(t);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!dd(e)));)e=Qr(e)}function ym(t,e){if(ro(t))throw new L(911,!1);t[fr]===null&&(t[fr]=[]),t[fr].push(e)}function HT(t,e){if(t[fr]===null)return;let n=t[fr].indexOf(e);n!==-1&&t[fr].splice(n,1)}function Qr(t){let e=t[ct];return yn(e)?e[ct]:e}function qT(t){return t[ps]??=[]}function zT(t){return t.cleanup??=[]}var oe={lFrame:uC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Bg=!1;function GT(){return oe.lFrame.elementDepthCount}function WT(){oe.lFrame.elementDepthCount++}function KT(){oe.lFrame.elementDepthCount--}function vm(){return oe.bindingsEnabled}function QT(){return oe.skipHydrationRootTNode!==null}function YT(t){return oe.skipHydrationRootTNode===t}function ZT(){oe.skipHydrationRootTNode=null}function de(){return oe.lFrame.lView}function mt(){return oe.lFrame.tView}function JT(t){return oe.lFrame.contextLView=t,t[ut]}function XT(t){return oe.lFrame.contextLView=null,t}function yt(){let t=_m();for(;t!==null&&t.type===64;)t=t.parent;return t}function _m(){return oe.lFrame.currentTNode}function eC(){let t=oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function vs(t,e){let n=oe.lFrame;n.currentTNode=t,n.isParent=e}function Em(){return oe.lFrame.isParent}function tC(){oe.lFrame.isParent=!1}function Im(){return Bg}function wm(t){let e=Bg;return Bg=t,e}function Dm(){let t=oe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function nC(){return oe.lFrame.bindingIndex}function rC(t){return oe.lFrame.bindingIndex=t}function _s(){return oe.lFrame.bindingIndex++}function Tm(t){let e=oe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function iC(){return oe.lFrame.inI18n}function oC(t,e){let n=oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,fd(e)}function sC(){return oe.lFrame.currentDirectiveIndex}function fd(t){oe.lFrame.currentDirectiveIndex=t}function aC(t){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Cm(t){oe.lFrame.currentQueryIndex=t}function Wk(t){let e=t[Y];return e.type===2?e.declTNode:e.type===1?t[Jt]:null}function bm(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=Wk(o),i===null||(o=o[Ji],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=oe.lFrame=cC();return r.currentTNode=e,r.lView=t,!0}function pd(t){let e=cC(),n=t[Y];oe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function cC(){let t=oe.lFrame,e=t===null?null:t.child;return e===null?uC(t):e}function uC(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function lC(){let t=oe.lFrame;return oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Sm=lC;function gd(){let t=lC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function dC(t){return(oe.lFrame.contextLView=$T(t,oe.lFrame.contextLView))[ut]}function ri(){return oe.lFrame.selectedIndex}function ii(t){oe.lFrame.selectedIndex=t}function md(){let t=oe.lFrame;return pc(t.tView,t.selectedIndex)}function hC(){return oe.lFrame.currentNamespace}var fC=!0;function yd(){return fC}function vd(t){fC=t}function $g(t,e=null,n=null,r){let i=Am(t,e,n,r);return i.resolveInjectorInitializers(),i}function Am(t,e=null,n=null,r,i=new Set){let o=[n||jt,PT(t)];return r=r||(typeof t=="object"?void 0:pr(t)),new Qi(o,e||sc(),r||null,i)}var Re=class t{static THROW_IF_NOT_FOUND=Gi;static NULL=new nc;static create(e,n){if(Array.isArray(e))return $g({name:""},n,e,"");{let r=e.name??"";return $g({name:r},e.parent,e.providers,r)}}static \u0275prov=U({token:t,providedIn:"any",factory:()=>G(rm)});static __NG_ELEMENT_ID__=-1},He=new j(""),_n=(()=>{class t{static __NG_ELEMENT_ID__=Kk;static __NG_ENV_ID__=n=>n}return t})(),Hg=class extends _n{_lView;constructor(e){super(),this._lView=e}get destroyed(){return ro(this._lView)}onDestroy(e){let n=this._lView;return ym(n,e),()=>HT(n,e)}};function Kk(){return new Hg(de())}var pn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},kt=new j("",{providedIn:"root",factory:()=>{let t=N(Ve),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(pn),e.handleError(n))}}}),pC={provide:Jr,useValue:()=>void N(pn),multi:!0};function Rm(t){return typeof t=="function"&&t[gt]!==void 0}function nn(t,e){let[n,r,i]=fg(t,e?.equal),o=n,s=o[gt];return o.set=r,o.update=i,o.asReadonly=gC.bind(o),o}function gC(){let t=this[gt];if(t.readonlyFn===void 0){let e=()=>this();e[gt]=t,t.readonlyFn=e}return t.readonlyFn}function Nm(t){return Rm(t)&&typeof t.set=="function"}var _d=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=Qk}return t})();function Qk(){return new _d(de(),yt())}var kn=class{},mc=new j("",{providedIn:"root",factory:()=>!1});var Mm=new j(""),Ed=new j(""),Vn=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new st(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new re(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=U({token:t,providedIn:"root",factory:()=>new t})}return t})(),Es=(()=>{class t{internalPendingTasks=N(Vn);scheduler=N(kn);errorHandler=N(kt);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=U({token:t,providedIn:"root",factory:()=>new t})}return t})();function yc(...t){}var Pm=(()=>{class t{static \u0275prov=U({token:t,providedIn:"root",factory:()=>new qg})}return t})(),qg=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function bs(t){return{toString:t}.toString()}var Id="__parameters__";function rO(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function iO(t,e,n){return bs(()=>{let r=rO(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Id)?u[Id]:Object.defineProperty(u,Id,{value:[]})[Id];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Bt=AT(iO("Optional"),8);function oO(t){return typeof t=="function"}var Ad=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function KC(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var vr=(()=>{let t=()=>QC;return t.ngInherit=!0,t})();function QC(t){return t.type.prototype.ngOnChanges&&(t.setInput=aO),sO}function sO(){let t=ZC(this),e=t?.current;if(e){let n=t.previous;if(n===Zr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function aO(t,e,n,r,i){let o=this.declaredInputs[r],s=ZC(t)||cO(t,{previous:Zr,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Ad(l&&l.currentValue,n,u===Zr),KC(t,e,i,n)}var YC="__ngSimpleChanges__";function ZC(t){return t[YC]||null}function cO(t,e){return t[YC]=e}var mC=[];var _e=function(t,e=null,n){for(let r=0;r<mC.length;r++){let i=mC[r];i(t,e,n)}};function uO(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=QC(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function JC(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Cd(t,e,n){XC(t,e,3,n)}function bd(t,e,n,r){(t[Q]&3)===n&&XC(t,e,n,r)}function xm(t,e){let n=t[Q];(n&3)===e&&(n&=16383,n+=1,t[Q]=n)}function XC(t,e,n,r){let i=r!==void 0?t[eo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[eo]+=65536),(a<o||o==-1)&&(lO(t,n,e,u),t[eo]=(t[eo]&4294901760)+u+2),u++}function yC(t,e){_e(4,t,e);let n=X(null);try{e.call(t)}finally{X(n),_e(5,t,e)}}function lO(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[Q]>>14<t[eo]>>16&&(t[Q]&3)===e&&(t[Q]+=16384,yC(a,o)):yC(a,o)}var ws=-1,oo=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function dO(t){return(t.flags&8)!==0}function hO(t){return(t.flags&16)!==0}function fO(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];pO(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function eb(t){return t===3||t===4||t===6}function pO(t){return t.charCodeAt(0)===64}function Ec(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?vC(t,n,i,null,e[++r]):vC(t,n,i,null,null))}}return t}function vC(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function tb(t){return t!==ws}function Rd(t){return t&32767}function gO(t){return t>>16}function Nd(t,e){let n=gO(t),r=e;for(;n>0;)r=r[Ji],n--;return r}var qm=!0;function Md(t){let e=qm;return qm=t,e}var mO=256,nb=mO-1,rb=5,yO=0,jn={};function vO(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Yi)&&(r=n[Yi]),r==null&&(r=n[Yi]=yO++);let i=r&nb,o=1<<i;e.data[t+(i>>rb)]|=o}function Pd(t,e){let n=ib(t,e);if(n!==-1)return n;let r=e[Y];r.firstCreatePass&&(t.injectorIndex=e.length,km(r.data,t),km(e,null),km(r.blueprint,null));let i=uy(t,e),o=t.injectorIndex;if(tb(i)){let s=Rd(i),a=Nd(i,e),u=a[Y].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function km(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ib(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function uy(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=ub(i),r===null)return ws;if(n++,i=i[Ji],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ws}function zm(t,e,n){vO(t,e,n)}function _O(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(eb(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function ob(t,e,n){if(n&8||t!==void 0)return t;ad(e,"NodeInjector")}function sb(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[Xr],o=bt(void 0);try{return i?i.get(e,r,n&8):tm(e,r,n&8)}finally{bt(o)}}return ob(r,e,n)}function ab(t,e,n,r=0,i){if(t!==null){if(e[Q]&2048&&!(r&2)){let s=TO(t,e,n,r,jn);if(s!==jn)return s}let o=cb(t,e,n,r,jn);if(o!==jn)return o}return sb(e,n,r,i)}function cb(t,e,n,r,i){let o=wO(n);if(typeof o=="function"){if(!bm(e,t,r))return r&1?ob(i,n,r):sb(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))ad(n);else return s}finally{Sm()}}else if(typeof o=="number"){let s=null,a=ib(t,e),u=ws,l=r&1?e[Xt][Jt]:null;for((a===-1||r&4)&&(u=a===-1?uy(t,e):e[a+8],u===ws||!EC(r,!1)?a=-1:(s=e[Y],a=Rd(u),e=Nd(u,e)));a!==-1;){let h=e[Y];if(_C(o,a,h.data)){let p=EO(a,e,n,s,r,l);if(p!==jn)return p}u=e[a+8],u!==ws&&EC(r,e[Y].data[a+8]===l)&&_C(o,a,e)?(s=h,a=Rd(u),e=Nd(u,e)):a=-1}}return i}function EO(t,e,n,r,i,o){let s=e[Y],a=s.data[t+8],u=r==null?ti(a)&&qm:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=IO(a,s,n,u,l);return h!==null?xd(e,s,h,a,i):jn}function IO(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let C=s[y];if(y<u&&n===C||y>=u&&C.type===n)return y}if(i){let y=s[u];if(y&&Ln(y)&&y.type===n)return u}return null}function xd(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof oo){let a=o;if(a.resolving){let y=TT(s[n]);throw em(y)}let u=Md(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],h,p=a.injectImpl?bt(a.injectImpl):null,m=bm(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&uO(n,s[n],e)}finally{p!==null&&bt(p),Md(u),a.resolving=!1,Sm()}}return o}function wO(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Yi)?t[Yi]:void 0;return typeof e=="number"?e>=0?e&nb:DO:e}function _C(t,e,n){let r=1<<t;return!!(n[e+(t>>rb)]&r)}function EC(t,e){return!(t&2)&&!(t&1&&e)}var io=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return ab(this._tNode,this._lView,e,Wi(r),n)}};function DO(){return new io(yt(),de())}function rn(t){return bs(()=>{let e=t.prototype.constructor,n=e[tc]||Gm(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[tc]||Gm(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Gm(t){return Wg(t)?()=>{let e=Gm(at(t));return e&&e()}:Kr(t)}function TO(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Q]&2048&&!ms(s);){let a=cb(o,s,n,r|2,jn);if(a!==jn)return a;let u=o.parent;if(!u){let l=s[dm];if(l){let h=l.get(n,jn,r);if(h!==jn)return h}u=ub(s),s=s[Ji]}o=u}return i}function ub(t){let e=t[Y],n=e.type;return n===2?e.declTNode:n===1?t[Jt]:null}function Cc(t){return _O(yt(),t)}function CO(){return zd(yt(),de())}function zd(t,e){return new $t(vn(t,e))}var $t=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=CO}return t})();function lb(t){return(t.flags&128)===128}var ly=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(ly||{}),db=new Map,bO=0;function SO(){return bO++}function AO(t){db.set(t[cc],t)}function Wm(t){db.delete(t[cc])}var IC="__ngContext__";function Ds(t,e){Fn(e)?(t[IC]=e[cc],AO(e)):t[IC]=e}function hb(t){return pb(t[gs])}function fb(t){return pb(t[Zt])}function pb(t){for(;t!==null&&!yn(t);)t=t[Zt];return t}var Km;function dy(t){Km=t}function gb(){if(Km!==void 0)return Km;if(typeof document<"u")return document;throw new L(210,!1)}var Gd=new j("",{providedIn:"root",factory:()=>RO}),RO="ng",Wd=new j(""),lo=new j("",{providedIn:"platform",factory:()=>"unknown"});var Kd=new j("",{providedIn:"root",factory:()=>gb().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var NO="h",MO="b";var mb=!1,yb=new j("",{providedIn:"root",factory:()=>mb});var hy=new j("");var PO=(t,e,n,r)=>{};function xO(t,e,n,r){PO(t,e,n,r)}function fy(t){return(t.flags&32)===32}var kO=()=>null;function vb(t,e,n=!1){return kO(t,e,n)}function _b(t,e){let n=t.contentQueries;if(n!==null){let r=X(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Cm(o),a.contentQueries(2,e[s],s)}}}finally{X(r)}}}function Qm(t,e,n){Cm(0);let r=X(null);try{e(t,n)}finally{X(r)}}function Eb(t,e,n){if(hm(e)){let r=X(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{X(r)}}}var yr=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(yr||{});var wd;function OO(){if(wd===void 0&&(wd=null,gr.trustedTypes))try{wd=gr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return wd}function wC(t){return OO()?.createScriptURL(t)||t}var kd=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${od})`}};function bc(t){return t instanceof kd?t.changingThisBreaksApplicationSecurity:t}function py(t,e){let n=Ib(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${od})`)}return n===e}function Ib(t){return t instanceof kd&&t.getTypeName()||null}var FO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function wb(t){return t=String(t),t.match(FO)?t:"unsafe:"+t}function LO(t,e){return t.createText(e)}function VO(t,e,n){t.setValue(e,n)}function Db(t,e,n){return t.createElement(e,n)}function Od(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Tb(t,e,n){t.appendChild(e,n)}function DC(t,e,n,r,i){r!==null?Od(t,e,n,r,i):Tb(t,e,n)}function jO(t,e,n,r){t.removeChild(null,e,n,r)}function UO(t,e,n){t.setAttribute(e,"style",n)}function BO(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Cb(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&fO(t,e,r),i!==null&&BO(t,e,i),o!==null&&UO(t,e,o)}var Qd=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(Qd||{});function bb(t){let e=Ab();return e?e.sanitize(Qd.URL,t)||"":py(t,"URL")?bc(t):wb(Zi(t))}function Sb(t){let e=Ab();if(e)return wC(e.sanitize(Qd.RESOURCE_URL,t)||"");if(py(t,"ResourceURL"))return wC(bc(t));throw new L(904,!1)}function $O(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?Sb:bb}function gy(t,e,n){return $O(e,n)(t)}function Ab(){let t=de();return t&&t[On].sanitizer}function Rb(t){return t instanceof Function?t():t}function HO(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var Nb="ng-template";function qO(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&HO(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(my(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function my(t){return t.type===4&&t.value!==Nb}function zO(t,e,n){let r=t.type===4&&!n?Nb:t.value;return e===r}function GO(t,e,n){let r=4,i=t.attrs,o=i!==null?QO(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!En(r)&&!En(u))return!1;if(s&&En(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!zO(t,u,n)||u===""&&e.length===1){if(En(r))return!1;s=!0}}else if(r&8){if(i===null||!qO(t,i,u,n)){if(En(r))return!1;s=!0}}else{let l=e[++a],h=WO(u,i,my(t),n);if(h===-1){if(En(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(En(r))return!1;s=!0}}}}return En(r)||s}function En(t){return(t&1)===0}function WO(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return YO(e,t)}function KO(t,e,n=!1){for(let r=0;r<e.length;r++)if(GO(t,e[r],n))return!0;return!1}function QO(t){for(let e=0;e<t.length;e++){let n=t[e];if(eb(n))return e}return t.length}function YO(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function TC(t,e){return t?":not("+e.trim()+")":e}function ZO(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!En(s)&&(e+=TC(o,i),i=""),r=s,o=o||!En(r);n++}return i!==""&&(e+=TC(o,i)),e}function JO(t){return t.map(ZO).join(",")}function XO(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!En(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Ht={};function yy(t,e,n,r,i,o,s,a,u,l,h){let p=Xe+r,m=p+i,y=e1(p,m),C=typeof l=="function"?l():l;return y[Y]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function e1(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ht);return n}function t1(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=yy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function vy(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[mn]=i,p[Q]=r|4|128|8|64|1024,(l!==null||t&&t[Q]&2048)&&(p[Q]|=2048),gm(p),p[ct]=p[Ji]=t,p[ut]=n,p[On]=s||t&&t[On],p[ke]=a||t&&t[ke],p[Xr]=u||t&&t[Xr]||null,p[Jt]=o,p[cc]=SO(),p[ac]=h,p[dm]=l,p[Xt]=e.type==2?t[Xt]:p,p}function n1(t,e,n){let r=vn(e,t),i=t1(n),o=t[On].rendererFactory,s=_y(t,vy(t,i,null,Mb(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function Mb(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function Pb(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function _y(t,e){return t[gs]?t[lm][Zt]=e:t[gs]=e,t[lm]=e,e}function r1(t=1){xb(mt(),de(),ri()+t,!1)}function xb(t,e,n,r){if(!r)if((e[Q]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Cd(e,o,n)}else{let o=t.preOrderHooks;o!==null&&bd(e,o,0,n)}ii(n)}var Yd=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Yd||{});function Ym(t,e,n,r){let i=X(null);try{let[o,s,a]=t.inputs[n],u=null;(s&Yd.SignalBased)!==0&&(u=e[o][gt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):KC(e,u,o,r)}finally{X(i)}}var Un=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Un||{}),i1;function Ey(t,e){return i1(t,e)}var Ts=new Set,Zd=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(Zd||{}),ho=new j(""),CC=new Set;function Bn(t){CC.has(t)||(CC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var kb=!1,Zm=class extends Ue{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,FT()&&(this.destroyRef=N(_n,{optional:!0})??void 0,this.pendingTasks=N(Vn,{optional:!0})??void 0)}emit(e){let n=X(null);try{super.next(e)}finally{X(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof xe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},qe=Zm;function Ob(t){let e,n;function r(){t=yc;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function bC(t){return queueMicrotask(()=>t()),()=>{t=yc}}var Iy="isAngularZone",Fd=Iy+"_ID",o1=0,pe=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new qe(!1);onMicrotaskEmpty=new qe(!1);onStable=new qe(!1);onError=new qe(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=kb}=e;if(typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,c1(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Iy)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new L(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,s1,yc,yc);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},s1={};function wy(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function a1(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Ob(()=>{t.callbackScheduled=!1,Jm(t),t.isCheckStableRunning=!0,wy(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Jm(t)}function c1(t){let e=()=>{a1(t)},n=o1++;t._inner=t._inner.fork({name:"angular",properties:{[Iy]:!0,[Fd]:n,[Fd+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(u1(u))return r.invokeTask(o,s,a,u);try{return SC(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),AC(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return SC(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!l1(u)&&e(),AC(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Jm(t),wy(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Jm(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function SC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function AC(t){t._nesting--,wy(t)}var Ic=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new qe;onMicrotaskEmpty=new qe;onStable=new qe;onError=new qe;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function u1(t){return Fb(t,"__ignore_ng_zone__")}function l1(t){return Fb(t,"__scheduler_tick__")}function Fb(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Dy=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=U({token:t,providedIn:"root",factory:()=>new t})}return t})(),Lb=[0,1,2,3],Vb=(()=>{class t{ngZone=N(pe);scheduler=N(kn);errorHandler=N(pn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){N(ho,{optional:!0})}execute(){let n=this.sequences.size>0;n&&_e(16),this.executing=!0;for(let r of Lb)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&_e(17)}register(n){let{view:r}=n;r!==void 0?((r[no]??=[]).push(n),ys(r),r[Q]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Zd.AFTER_NEXT_RENDER,n):n()}static \u0275prov=U({token:t,providedIn:"root",factory:()=>new t})}return t})(),Ld=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[no];e&&(this.view[no]=e.filter(n=>n!==this))}};function Sc(t,e){let n=e?.injector??N(Re);return Bn("NgAfterNextRender"),h1(t,n,e,!0)}function d1(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function h1(t,e,n,r){let i=e.get(Dy);i.impl??=e.get(Vb);let o=e.get(ho,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(_n):null,a=e.get(_d,null,{optional:!0}),u=new Ld(i.impl,d1(t),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var f1=new j("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function jb(t,e,n){let r=t.get(f1);if(Array.isArray(e))for(let i of e)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function p1(t,e){for(let[n,r]of e)jb(t,r.animateFns)}function RC(t,e,n,r){let i=t?.[lc]?.enter;e!==null&&i&&i.has(n.index)&&p1(r,i)}function Is(t,e,n,r,i,o,s,a){if(i!=null){let u,l=!1;yn(i)?u=i:Fn(i)&&(l=!0,i=i[mn]);let h=en(i);t===0&&r!==null?(RC(a,r,o,n),s==null?Tb(e,r,h):Od(e,r,h,s||null,!0)):t===1&&r!==null?(RC(a,r,o,n),Od(e,r,h,s||null,!0)):t===2?NC(a,o,n,p=>{jO(e,h,l,p)}):t===3&&NC(a,o,n,()=>{e.destroyNode(h)}),u!=null&&S1(e,t,n,u,o,r,s)}}function g1(t,e){Ub(t,e),e[mn]=null,e[Jt]=null}function m1(t,e,n,r,i,o){r[mn]=i,r[Jt]=e,Jd(t,r,n,1,i,o)}function Ub(t,e){e[On].changeDetectionScheduler?.notify(9),Jd(t,e,e[ke],2,null,null)}function y1(t){let e=t[gs];if(!e)return Om(t[Y],t);for(;e;){let n=null;if(Fn(e))n=e[gs];else{let r=e[At];r&&(n=r)}if(!n){for(;e&&!e[Zt]&&e!==t;)Fn(e)&&Om(e[Y],e),e=e[ct];e===null&&(e=t),Fn(e)&&Om(e[Y],e),n=e&&e[Zt]}e=n}}function Ty(t,e){let n=t[hc],r=n.indexOf(e);n.splice(r,1)}function Cy(t,e){if(ro(e))return;let n=e[ke];n.destroyNode&&Jd(t,e,n,3,null,null),y1(e)}function Om(t,e){if(ro(e))return;let n=X(null);try{e[Q]&=-129,e[Q]|=256,e[Ut]&&Ka(e[Ut]),E1(t,e),_1(t,e),e[Y].type===1&&e[ke].destroy();let r=e[Xi];if(r!==null&&yn(e[ct])){r!==e[ct]&&Ty(r,e);let i=e[to];i!==null&&i.detachView(t)}Wm(e)}finally{X(n)}}function NC(t,e,n,r){let i=t?.[lc];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);t&&Ts.add(t),jb(n,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:h}=l();a.push(h)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),v1(t,r)}else t&&Ts.delete(t),r(!1)},i)}function v1(t,e){let n=t[lc]?.running;if(n){n.then(()=>{t[lc].running=void 0,Ts.delete(t),e(!0)});return}e(!1)}function _1(t,e){let n=t.cleanup,r=e[ps];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[ps]=null);let i=e[fr];if(i!==null){e[fr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[uc];if(o!==null){e[uc]=null;for(let s of o)s.destroy()}}function E1(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof oo)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];_e(4,a,u);try{u.call(a)}finally{_e(5,a,u)}}else{_e(4,i,o);try{o.call(i)}finally{_e(5,i,o)}}}}}function I1(t,e,n){return w1(t,e.parent,n)}function w1(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[mn];if(ti(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===yr.None||i===yr.Emulated)return null}return vn(r,n)}function D1(t,e,n){return C1(t,e,n)}function T1(t,e,n){return t.type&40?vn(t,n):null}var C1=T1,MC;function by(t,e,n,r){let i=I1(t,r,e),o=e[ke],s=r.parent||e[Jt],a=D1(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)DC(o,i,n[u],a,!1);else DC(o,i,n,a,!1);MC!==void 0&&MC(o,r,e,n,i)}function vc(t,e){if(e!==null){let n=e.type;if(n&3)return vn(e,t);if(n&4)return Xm(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return vc(t,r);{let i=t[e.index];return yn(i)?Xm(-1,i):en(i)}}else{if(n&128)return vc(t,e.next);if(n&32)return Ey(e,t)()||en(t[e.index]);{let r=Bb(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Qr(t[Xt]);return vc(i,r)}else return vc(t,e.next)}}}return null}function Bb(t,e){if(e!==null){let r=t[Xt][Jt],i=e.projection;return r.projection[i]}return null}function Xm(t,e){let n=At+t+1;if(n<e.length){let r=e[n],i=r[Y].firstChild;if(i!==null)return vc(r,i)}return e[ei]}function Sy(t,e,n,r,i,o,s){for(;n!=null;){let a=r[Xr];if(n.type===128){n=n.next;continue}let u=r[n.index],l=n.type;if(s&&e===0&&(u&&Ds(en(u),r),n.flags|=2),!fy(n))if(l&8)Sy(t,e,n.child,r,i,o,!1),Is(e,t,a,i,u,n,o,r);else if(l&32){let h=Ey(n,r),p;for(;p=h();)Is(e,t,a,i,p,n,o,r);Is(e,t,a,i,u,n,o,r)}else l&16?b1(t,e,r,n,i,o):Is(e,t,a,i,u,n,o,r);n=s?n.projectionNext:n.next}}function Jd(t,e,n,r,i,o){Sy(n,r,t.firstChild,e,i,o,!1)}function b1(t,e,n,r,i,o){let s=n[Xt],u=s[Jt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Is(e,t,n[Xr],i,h,r,o,n)}else{let l=u,h=s[ct];lb(r)&&(l.flags|=128),Sy(t,e,l,h,i,o,!0)}}function S1(t,e,n,r,i,o,s){let a=r[ei],u=en(r);a!==u&&Is(e,t,n,o,a,i,s);for(let l=At;l<r.length;l++){let h=r[l];Jd(h[Y],h,t,e,o,a)}}function A1(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Un.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Un.Important),t.setStyle(n,r,i,o))}}function $b(t,e,n,r,i){let o=ri(),s=r&2;try{ii(-1),s&&e.length>Xe&&xb(t,e,Xe,!1),_e(s?2:0,i,n),n(r,i)}finally{ii(o),_e(s?3:1,i,n)}}function Ay(t,e,n){O1(t,e,n),(n.flags&64)===64&&F1(t,e,n)}function Ry(t,e,n=vn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function R1(t,e,n,r){let o=r.get(yb,mb)||n===yr.ShadowDom,s=t.selectRootElement(e,o);return N1(s),s}function N1(t){M1(t)}var M1=()=>null;function P1(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Hb(t,e,n,r,i,o){let s=e[Y];if(Ny(t,s,e,n,r)){ti(t)&&k1(e,t.index);return}t.type&3&&(n=P1(n)),x1(t,e,n,r,i,o)}function x1(t,e,n,r,i,o){if(t.type&3){let s=vn(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function k1(t,e){let n=tn(e,t);n[Q]&16||(n[Q]|=64)}function O1(t,e,n){let r=n.directiveStart,i=n.directiveEnd;ti(n)&&n1(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Pd(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],u=xd(e,t,s,n);if(Ds(u,e),o!==null&&U1(e,s-r,u,a,n,o),Ln(a)){let l=tn(n.index,e);l[ut]=xd(e,t,s,n)}}}function F1(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=sC();try{ii(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];fd(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&L1(u,l)}}finally{ii(-1),fd(s)}}function L1(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function qb(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];KO(e,o.selectors,!1)&&(r??=[],Ln(o)?r.unshift(o):r.push(o))}return r}function V1(t,e,n,r,i,o){let s=vn(t,e);j1(e[ke],s,o,t.value,n,r,i)}function j1(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Zi(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function U1(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Ym(r,n,u,l)}}function B1(t,e,n,r,i){let o=Xe+n,s=e[Y],a=i(s,e,t,r,n);e[o]=a,vs(t,!0);let u=t.type===2;return u?(Cb(e[ke],a,t),(GT()===0||fc(t))&&Ds(a,e),WT()):Ds(a,e),yd()&&(!u||!fy(t))&&by(s,e,a,t),t}function $1(t){let e=t;return Em()?tC():(e=e.parent,vs(e,!1)),e}function H1(t,e){let n=t[Xr];if(!n)return;let r;try{r=n.get(kt,null)}catch{r=null}r?.(e)}function Ny(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Ym(p,n[l],h,i),a=!0}if(o)for(let u of o){let l=n[u],h=e.data[u];Ym(h,l,r,i),a=!0}return a}function q1(t,e){let n=tn(e,t),r=n[Y];z1(r,n);let i=n[mn];i!==null&&n[ac]===null&&(n[ac]=vb(i,n[Xr])),_e(18),My(r,n,n[ut]),_e(19,n[ut])}function z1(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function My(t,e,n){pd(e);try{let r=t.viewQuery;r!==null&&Qm(1,r,n);let i=t.template;i!==null&&$b(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[to]?.finishViewCreation(t),t.staticContentQueries&&_b(t,e),t.staticViewQueries&&Qm(2,t.viewQuery,n);let o=t.components;o!==null&&G1(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Q]&=-5,gd()}}function G1(t,e){for(let n=0;n<e.length;n++)q1(t,e[n])}function zb(t,e,n,r){let i=X(null);try{let o=e.tView,a=t[Q]&4096?4096:16,u=vy(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Xi]=l;let h=t[to];return h!==null&&(u[to]=h.createEmbeddedView(o)),My(o,u,n),u}finally{X(i)}}function ey(t,e){return!e||e.firstChild===null||lb(t)}function wc(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(en(o)),yn(o)&&Gb(o,r);let s=n.type;if(s&8)wc(t,e,n.child,r);else if(s&32){let a=Ey(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=Bb(e,n);if(Array.isArray(a))r.push(...a);else{let u=Qr(e[Xt]);wc(u[Y],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function Gb(t,e){for(let n=At;n<t.length;n++){let r=t[n],i=r[Y].firstChild;i!==null&&wc(r[Y],r,i,e)}t[ei]!==t[mn]&&e.push(t[ei])}function Wb(t){if(t[no]!==null){for(let e of t[no])e.impl.addSequence(e);t[no].length=0}}var Kb=[];function W1(t){return t[Ut]??K1(t)}function K1(t){let e=Kb.pop()??Object.create(Y1);return e.lView=t,e}function Q1(t){t.lView[Ut]!==t&&(t.lView=null,Kb.push(t))}var Y1=ne(x({},Wo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{ys(t.lView)},consumerOnSignalRead(){this.lView[Ut]=this}});function Z1(t){let e=t[Ut]??Object.create(J1);return e.lView=t,e}var J1=ne(x({},Wo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Qr(t.lView);for(;e&&!Qb(e[Y]);)e=Qr(e);e&&mm(e)},consumerOnSignalRead(){this.lView[Ut]=this}});function Qb(t){return t.type!==2}function Yb(t){if(t[uc]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[uc])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[Q]&8192)}}var X1=100;function Zb(t,e=0){let r=t[On].rendererFactory,i=!1;i||r.begin?.();try{eF(t,e)}finally{i||r.end?.()}}function eF(t,e){let n=Im();try{wm(!0),ty(t,e);let r=0;for(;gc(t);){if(r===X1)throw new L(103,!1);r++,ty(t,1)}}finally{wm(n)}}function tF(t,e,n,r){if(ro(e))return;let i=e[Q],o=!1,s=!1;pd(e);let a=!0,u=null,l=null;o||(Qb(t)?(l=W1(e),u=Qo(l)):bl()===null?(a=!1,l=Z1(e),u=Qo(l)):e[Ut]&&(Ka(e[Ut]),e[Ut]=null));try{gm(e),rC(t.bindingStartIndex),n!==null&&$b(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&Cd(e,y,null)}else{let y=t.preOrderHooks;y!==null&&bd(e,y,0,null),xm(e,0)}if(s||nF(e),Yb(e),Jb(e,0),t.contentQueries!==null&&_b(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&Cd(e,y)}else{let y=t.contentHooks;y!==null&&bd(e,y,1),xm(e,1)}iF(t,e);let p=t.components;p!==null&&eS(e,p,0);let m=t.viewQuery;if(m!==null&&Qm(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&Cd(e,y)}else{let y=t.viewHooks;y!==null&&bd(e,y,2),xm(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ld]){for(let y of e[ld])y();e[ld]=null}o||(Wb(e),e[Q]&=-73)}catch(h){throw o||ys(e),h}finally{l!==null&&(Ga(l,u),a&&Q1(l)),gd()}}function Jb(t,e){for(let n=hb(t);n!==null;n=fb(n))for(let r=At;r<n.length;r++){let i=n[r];Xb(i,e)}}function nF(t){for(let e=hb(t);e!==null;e=fb(e)){if(!(e[Q]&2))continue;let n=e[hc];for(let r=0;r<n.length;r++){let i=n[r];mm(i)}}}function rF(t,e,n){_e(18);let r=tn(e,t);Xb(r,n),_e(19,r[ut])}function Xb(t,e){dd(t)&&ty(t,e)}function ty(t,e){let r=t[Y],i=t[Q],o=t[Ut],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Wa(o)),s||=!1,o&&(o.dirty=!1),t[Q]&=-9217,s)tF(r,t,r.template,t[ut]);else if(i&8192){let a=X(null);try{Yb(t),Jb(t,1);let u=r.components;u!==null&&eS(t,u,1),Wb(t)}finally{X(a)}}}function eS(t,e,n){for(let r=0;r<e.length;r++)rF(t,e[r],n)}function iF(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ii(~i);else{let o=i,s=n[++r],a=n[++r];oC(s,o);let u=e[o];_e(24,u),a(2,u),_e(25,u)}}}finally{ii(-1)}}function Py(t,e){let n=Im()?64:1088;for(t[On].changeDetectionScheduler?.notify(e);t;){t[Q]|=n;let r=Qr(t);if(ms(t)&&!r)return t;t=r}return null}function tS(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function oF(t,e){let n=At+e;if(n<t.length)return t[n]}function nS(t,e,n,r=!0){let i=e[Y];if(aF(i,e,t,n),r){let s=Xm(n,t),a=e[ke],u=a.parentNode(t[ei]);u!==null&&m1(i,t[Jt],a,e,u,s)}let o=e[ac];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function sF(t,e){let n=Vd(t,e);return n!==void 0&&Cy(n[Y],n),n}function Vd(t,e){if(t.length<=At)return;let n=At+e,r=t[n];if(r){let i=r[Xi];i!==null&&i!==t&&Ty(i,r),e>0&&(t[n-1][Zt]=r[Zt]);let o=ic(t,At+e);g1(r[Y],r);let s=o[to];s!==null&&s.detachView(o[Y]),r[ct]=null,r[Zt]=null,r[Q]&=-129}return r}function aF(t,e,n,r){let i=At+r,o=n.length;r>0&&(n[i-1][Zt]=e),r<o-At?(e[Zt]=n[i],nm(n,At+r,e)):(n.push(e),e[Zt]=null),e[ct]=n;let s=e[Xi];s!==null&&n!==s&&rS(s,e);let a=e[to];a!==null&&a.insertView(t),hd(e),e[Q]|=128}function rS(t,e){let n=t[hc],r=e[ct];if(Fn(r))t[Q]|=2;else{let i=r[ct][Xt];e[Xt]!==i&&(t[Q]|=2)}n===null?t[hc]=[e]:n.push(e)}var oi=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[Y];return wc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[ut]}set context(e){this._lView[ut]=e}get destroyed(){return ro(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ct];if(yn(e)){let n=e[dc],r=n?n.indexOf(this):-1;r>-1&&(Vd(e,r),ic(n,r))}this._attachedToViewContainer=!1}Cy(this._lView[Y],this._lView)}onDestroy(e){ym(this._lView,e)}markForCheck(){Py(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Q]&=-129}reattach(){hd(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,Zb(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ms(this._lView),n=this._lView[Xi];n!==null&&!e&&Ty(n,this._lView),Ub(this._lView[Y],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=e;let n=ms(this._lView),r=this._lView[Xi];r!==null&&!n&&rS(r,this._lView),hd(this._lView)}};var Ac=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=cF;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=zb(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new oi(o)}}return t})();function cF(){return uF(yt(),de())}function uF(t,e){return t.type&4?new Ac(e,t,zd(t,e)):null}function Xd(t,e,n,r,i){let o=t.data[e];if(o===null)o=lF(t,e,n,r,i),iC()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=eC();o.injectorIndex=s===null?-1:s.injectorIndex}return vs(o,!0),o}function lF(t,e,n,r,i){let o=_m(),s=Em(),a=s?o:o&&o.parent,u=t.data[e]=hF(t,a,n,e,r,i);return dF(t,u,o,s),u}function dF(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function hF(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return QT()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var IK=new RegExp(`^(\\d+)*(${MO}|${NO})*(.*)`);var fF=()=>null,pF=()=>null;function PC(t,e){return fF(t,e)}function gF(t,e,n){return pF(t,e,n)}var iS=class{},eh=class{},ny=class{resolveComponentFactory(e){throw new L(917,!1)}},Rc=class{static NULL=new ny},so=class{},on=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>mF()}return t})();function mF(){let t=de(),e=yt(),n=tn(e.index,t);return(Fn(n)?n:t)[ke]}var oS=(()=>{class t{static \u0275prov=U({token:t,providedIn:"root",factory:()=>null})}return t})();var Sd={},ry=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,Sd,r);return i!==Sd||n===Sd?i:this.parentInjector.get(e,n,r)}};function xC(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Gg(i,a);else if(o==2){let u=a,l=e[++s];r=Gg(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function q(t,e=0){let n=de();if(n===null)return G(t,e);let r=yt();return ab(r,n,at(t),e)}function xy(){let t="invalid";throw new Error(t)}function sS(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}_F(t,e,n,a,o,u,l)}o!==null&&r!==null&&yF(n,r,o)}function yF(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new L(-301,!1);r.push(e[i],o)}}function vF(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function _F(t,e,n,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let y=r[m];!u&&Ln(y)&&(u=!0,vF(t,n,m)),zm(Pd(n,e),t,y.type)}CF(n,t.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=Pb(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(n.mergedAttrs=Ec(n.mergedAttrs,y.hostAttrs),IF(t,n,e,p,y),TF(p,y,i),s!==null&&s.has(y)){let[M,A]=s.get(y);n.directiveToIndex.set(y.type,[p,M+n.directiveStart,A+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let C=y.type.prototype;!l&&(C.ngOnChanges||C.ngOnInit||C.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(C.ngOnChanges||C.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}EF(t,n,o)}function EF(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))kC(0,e,i,r),kC(1,e,i,r),FC(e,r,!1);else{let o=n.get(i);OC(0,e,o,r),OC(1,e,o,r),FC(e,r,!0)}}}function kC(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),aS(e,o)}}function OC(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),aS(e,s)}}function aS(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function FC(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||my(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function IF(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Kr(i.type,!0)),s=new oo(o,Ln(i),q,null);t.blueprint[r]=s,n[r]=s,wF(t,e,r,Pb(t,n,i.hostVars,Ht),i)}function wF(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;DF(s)!=a&&s.push(a),s.push(n,r,o)}}function DF(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function TF(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ln(e)&&(n[""]=t)}}function CF(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function cS(t,e,n,r,i,o,s,a){let u=e[Y],l=u.consts,h=ni(l,s),p=Xd(u,t,n,r,h);return o&&sS(u,e,p,ni(l,a),i),p.mergedAttrs=Ec(p.mergedAttrs,p.attrs),p.attrs!==null&&xC(p,p.attrs,!1),p.mergedAttrs!==null&&xC(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function uS(t,e){JC(t,e),hm(e)&&t.queries.elementEnd(e)}function ky(t){return dS(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function lS(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function dS(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function hS(t,e,n){return t[e]=n}function bF(t,e){return t[e]}function si(t,e,n){if(n===Ht)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function fS(t,e,n,r){let i=si(t,e,n);return si(t,e+1,r)||i}function Fm(t,e,n){return function r(i){let o=ti(t)?tn(t.index,e):e;Py(o,5);let s=e[ut],a=LC(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)a=LC(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function LC(t,e,n,r){let i=X(null);try{return _e(6,e,n),n(r)!==!1}catch(o){return H1(t,o),!1}finally{_e(7,e,n),X(i)}}function SF(t,e,n,r,i,o,s,a){let u=fc(t),l=!1,h=null;if(!r&&u&&(h=RF(e,n,o,t.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=vn(t,n),m=r?r(p):p;xO(n,m,o,a);let y=i.listen(m,o,a);if(!AF(o)){let C=r?M=>r(en(M[t.index])):t.index;pS(C,e,n,o,a,y,!1)}}return l}function AF(t){return t.startsWith("animation")||t.startsWith("transition")}function RF(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[ps],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function pS(t,e,n,r,i,o,s){let a=e.firstCreatePass?zT(e):null,u=qT(n),l=u.length;u.push(i,o),a&&a.push(r,t,l,(l+1)*(s?-1:1))}function VC(t,e,n,r,i,o){let s=e[n],a=e[Y],l=a.data[n].outputs[r],p=s[l].subscribe(o);pS(t.index,a,e,i,o,p,!0)}var iy=Symbol("BINDING");var jd=class extends Rc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=mr(e);return new ao(n,this.ngModule)}};function NF(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Yd.SignalBased)!==0};return i&&(o.transform=i),o})}function MF(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function PF(t,e,n){let r=e instanceof Ve?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new ry(n,r):n}function xF(t){let e=t.get(so,null);if(e===null)throw new L(407,!1);let n=t.get(oS,null),r=t.get(kn,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function kF(t,e){let n=gS(t);return Db(e,n,n==="svg"?VT:n==="math"?jT:null)}function gS(t){return(t.selectors[0][0]||"div").toLowerCase()}var ao=class extends eh{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=NF(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=MF(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=JO(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){_e(22);let a=X(null);try{let u=this.componentDef,l=OF(r,u,s,o),h=PF(u,i||this.ngModule,e),p=xF(h),m=p.rendererFactory.createRenderer(null,u),y=r?R1(m,r,u.encapsulation,h):kF(u,m),C=s?.some(jC)||o?.some(F=>typeof F!="function"&&F.bindings.some(jC)),M=vy(null,l,null,512|Mb(u),null,null,p,m,h,null,vb(y,h,!0));M[Xe]=y,pd(M);let A=null;try{let F=cS(Xe,M,2,"#host",()=>l.directiveRegistry,!0,0);Cb(m,y,F),Ds(y,M),Ay(l,M,F),Eb(l,F,M),uS(l,F),n!==void 0&&LF(F,this.ngContentSelectors,n),A=tn(F.index,M),M[ut]=A[ut],My(l,M,null)}catch(F){throw A!==null&&Wm(A),Wm(M),F}finally{_e(23),gd()}return new Ud(this.componentType,M,!!C)}finally{X(a)}}};function OF(t,e,n,r){let i=t?["ng-version","20.3.15"]:XO(e.selectors[0]),o=null,s=null,a=0;if(n)for(let h of n)a+=h[iy].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let m of p.bindings){a+=m[iy].requiredVars;let y=h+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,m=sm(p);u.push(m)}return yy(0,null,FF(o,s),1,a,u,null,null,null,[i],null)}function FF(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function jC(t){let e=t[iy].kind;return e==="input"||e==="twoWay"}var Ud=class extends iS{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=pc(n[Y],Xe),this.location=zd(this._tNode,n),this.instance=tn(this._tNode.index,n)[ut],this.hostView=this.changeDetectorRef=new oi(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Ny(r,i[Y],i,e,n);this.previousInputValues.set(e,n);let s=tn(r.index,i);Py(s,1)}get injector(){return new io(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function LF(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var fo=(()=>{class t{static __NG_ELEMENT_ID__=VF}return t})();function VF(){let t=yt();return UF(t,de())}var jF=fo,mS=class extends jF{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return zd(this._hostTNode,this._hostLView)}get injector(){return new io(this._hostTNode,this._hostLView)}get parentInjector(){let e=uy(this._hostTNode,this._hostLView);if(tb(e)){let n=Nd(e,this._hostLView),r=Rd(e),i=n[Y].data[r+8];return new io(i,n)}else return new io(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=UC(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-At}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=PC(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,ey(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let u=e&&!oO(e),l;if(u)l=n;else{let A=n||{};l=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef,s=A.directives,a=A.bindings}let h=u?e:new ao(mr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let F=(u?p:this.parentInjector).get(Ve,null);F&&(o=F)}let m=mr(h.componentType??{}),y=PC(this._lContainer,m?.id??null),C=y?.firstChild??null,M=h.create(p,i,C,o,s,a);return this.insertImpl(M.hostView,l,ey(this._hostTNode,y)),M}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(BT(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[ct],l=new mS(u,u[Jt],u[ct]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return nS(s,i,o,r),e.attachToViewContainerRef(),nm(Lm(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=UC(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Vd(this._lContainer,n);r&&(ic(Lm(this._lContainer),n),Cy(r[Y],r))}detach(e){let n=this._adjustIndex(e,-1),r=Vd(this._lContainer,n);return r&&ic(Lm(this._lContainer),n)!=null?new oi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function UC(t){return t[dc]}function Lm(t){return t[dc]||(t[dc]=[])}function UF(t,e){let n,r=e[t.index];return yn(r)?n=r:(n=tS(r,e,null,t),e[t.index]=n,_y(e,n)),$F(n,e,t,r),new mS(n,t,e)}function BF(t,e){let n=t[ke],r=n.createComment(""),i=vn(e,t),o=n.parentNode(i);return Od(n,o,r,n.nextSibling(i),!1),r}var $F=zF,HF=()=>!1;function qF(t,e,n){return HF(t,e,n)}function zF(t,e,n,r){if(t[ei])return;let i;n.type&8?i=en(r):i=BF(e,n),t[ei]=i}var co=class{},th=class{};var Bd=class extends co{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new jd(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=om(e);this._bootstrapComponents=Rb(o.bootstrap),this._r3Injector=Am(e,n,[{provide:co,useValue:this},{provide:Rc,useValue:this.componentFactoryResolver},...r],pr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},$d=class extends th{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Bd(this.moduleType,e,[])}};var Dc=class extends co{injector;componentFactoryResolver=new jd(this);instance=null;constructor(e){super();let n=new Qi([...e.providers,{provide:co,useValue:this},{provide:Rc,useValue:this.componentFactoryResolver}],e.parent||sc(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ss(t,e,n=null){return new Dc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var GF=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=am(!1,n.type),i=r.length>0?Ss([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=U({token:t,providedIn:"environment",factory:()=>new t(G(Ve))})}return t})();function Oy(t){return bs(()=>{let e=yS(t),n=ne(x({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ly.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(GF).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||yr.Emulated,styles:t.styles||jt,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Bn("NgStandalone"),vS(n);let r=t.dependencies;return n.directiveDefs=BC(r,WF),n.pipeDefs=BC(r,MT),n.id=YF(n),n})}function WF(t){return mr(t)||sm(t)}function $n(t){return bs(()=>({type:t.type,bootstrap:t.bootstrap||jt,declarations:t.declarations||jt,imports:t.imports||jt,exports:t.exports||jt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function KF(t,e){if(t==null)return Zr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Yd.None,u=null),n[o]=[r,a,u],e[o]=s}return n}function QF(t){if(t==null)return Zr;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Ee(t){return bs(()=>{let e=yS(t);return vS(e),e})}function Fy(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function yS(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Zr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||jt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:KF(t.inputs,e),outputs:QF(t.outputs),debugInfo:null}}function vS(t){t.features?.forEach(e=>e(t))}function BC(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function YF(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function ZF(t){return Object.getPrototypeOf(t.prototype).constructor}function vt(t){let e=ZF(t.type),n=!0,r=[t];for(;e;){let i;if(Ln(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new L(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Vm(t.inputs),s.declaredInputs=Vm(t.declaredInputs),s.outputs=Vm(t.outputs);let a=i.hostBindings;a&&nL(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&eL(t,u),l&&tL(t,l),JF(t,i),DT(t.outputs,i.outputs),Ln(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===vt&&(n=!1)}}e=Object.getPrototypeOf(e)}XF(r)}function JF(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function XF(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ec(i.hostAttrs,n=Ec(n,i.hostAttrs))}}function Vm(t){return t===Zr?{}:t===jt?[]:t}function eL(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function tL(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function nL(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function _S(t,e,n,r,i,o,s,a){if(n.firstCreatePass){t.mergedAttrs=Ec(t.mergedAttrs,t.attrs);let h=t.tView=yy(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),h.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),vs(t,!1);let u=iL(n,e,t,r);yd()&&by(n,e,u,t),Ds(u,e);let l=tS(u,e,u,t);e[r+Xe]=l,_y(e,l),qF(l,t,e)}function rL(t,e,n,r,i,o,s,a,u,l,h){let p=n+Xe,m;return e.firstCreatePass?(m=Xd(e,p,4,s||null,a||null),vm()&&sS(e,t,m,ni(e.consts,l),qb),JC(e,m)):m=e.data[p],_S(m,t,e,n,r,i,o,u),fc(m)&&Ay(e,t,m),l!=null&&Ry(t,m,h),m}function ES(t,e,n,r,i,o,s,a,u,l,h){let p=n+Xe,m;if(e.firstCreatePass){if(m=Xd(e,p,4,s||null,a||null),l!=null){let y=ni(e.consts,l);m.localNames=[];for(let C=0;C<y.length;C+=2)m.localNames.push(y[C],-1)}}else m=e.data[p];return _S(m,t,e,n,r,i,o,u),l!=null&&Ry(t,m,h),m}function IS(t,e,n,r,i,o,s,a){let u=de(),l=mt(),h=ni(l.consts,o);return rL(u,l,t,e,n,r,i,h,void 0,s,a),IS}var iL=oL;function oL(t,e,n,r){return vd(!0),e[ke].createComment("")}var Ly=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Vy=new j("");function ai(t){return!!t&&typeof t.then=="function"}function jy(t){return!!t&&typeof t.subscribe=="function"}var Uy=new j("");function nh(t){return Yt([{provide:Uy,multi:!0,useValue:t}])}var By=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=N(Uy,{optional:!0})??[];injector=N(Re);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=$e(this.injector,i);if(ai(o))n.push(o);else if(jy(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Nc=new j("");function wS(){hg(()=>{let t="";throw new L(600,t)})}function DS(t){return t.isBoundToModule}var sL=10;var _r=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=N(kt);afterRenderManager=N(Dy);zonelessEnabled=N(mc);rootEffectScheduler=N(Pm);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ue;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=N(Vn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ce(n=>!n))}constructor(){N(ho,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=N(Ve);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Re.NULL){return this._injector.get(pe).run(()=>{_e(10);let s=n instanceof eh;if(!this._injector.get(By).done){let C="";throw new L(405,C)}let u;s?u=n:u=this._injector.get(Rc).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let l=DS(u)?void 0:this._injector.get(co),h=r||u.selector,p=u.create(i,[],h,l),m=p.location.nativeElement,y=p.injector.get(Vy,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),_c(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),_e(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){_e(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Zd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new L(101,!1);let n=X(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,X(n),this.afterTick.next(),_e(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(so,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<sL;)_e(14),this.synchronizeOnce(),_e(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!gc(i))continue;let o=r&&!this.zonelessEnabled?0:1;Zb(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>gc(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;_c(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Nc,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>_c(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new L(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function _c(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ci(t,e,n,r){let i=de(),o=_s();if(si(i,o,e)){let s=mt(),a=md();V1(a,i,t,e,n,r)}return ci}var AK=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function aL(t,e,n,r,i,o,s,a){Bn("NgControlFlow");let u=de(),l=mt(),h=ni(l.consts,o);return ES(u,l,t,e,n,r,i,h,256,s,a),$y}function $y(t,e,n,r,i,o,s,a){Bn("NgControlFlow");let u=de(),l=mt(),h=ni(l.consts,o);return ES(u,l,t,e,n,r,i,h,512,s,a),$y}function cL(t,e){Bn("NgControlFlow");let n=de(),r=_s(),i=n[r]!==Ht?n[r]:-1,o=i!==-1?$C(n,Xe+i):void 0,s=0;if(si(n,r,t)){let a=X(null);try{if(o!==void 0&&sF(o,s),t!==-1){let u=Xe+t,l=$C(n,u),h=uL(n[Y],u),p=gF(l,h,n),m=zb(n,h,e,{dehydratedView:p});nS(l,m,s,ey(h,p))}}finally{X(a)}}else if(o!==void 0){let a=oF(o,s);a!==void 0&&(a[ut]=e)}}function $C(t,e){return t[e]}function uL(t,e){return pc(t,e)}function TS(t,e,n){let r=de(),i=_s();if(si(r,i,e)){let o=mt(),s=md();Hb(s,r,t,e,r[ke],n)}return TS}function HC(t,e,n,r,i){Ny(e,t,n,i?"class":"style",r)}function Hy(t,e,n,r){let i=de(),o=i[Y],s=t+Xe,a=o.firstCreatePass?cS(s,i,2,e,qb,vm(),n,r):o.data[s];if(B1(a,i,t,e,lL),fc(a)){let u=i[Y];Ay(u,i,a),Eb(u,a,i)}return r!=null&&Ry(i,a),Hy}function qy(){let t=mt(),e=yt(),n=$1(e);return t.firstCreatePass&&uS(t,n),YT(n)&&ZT(),KT(),n.classesWithoutHost!=null&&dO(n)&&HC(t,n,de(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&hO(n)&&HC(t,n,de(),n.stylesWithoutHost,!1),qy}function rh(t,e,n,r){return Hy(t,e,n,r),qy(),rh}var lL=(t,e,n,r,i)=>(vd(!0),Db(e[ke],r,hC()));function dL(){return de()}var Dd=void 0;function hL(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var fL=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Dd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Dd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Dd,"{1} 'at' {0}",Dd],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",hL],jm={};function qt(t){let e=pL(t),n=qC(e);if(n)return n;let r=e.split("-")[0];if(n=qC(r),n)return n;if(r==="en")return fL;throw new L(701,!1)}function qC(t){return t in jm||(jm[t]=gr.ng&&gr.ng.common&&gr.ng.common.locales&&gr.ng.common.locales[t]),jm[t]}var je=(function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t})(je||{});function pL(t){return t.toLowerCase().replace(/_/g,"-")}var Mc="en-US";var gL=Mc;function CS(t){typeof t=="string"&&(gL=t.toLowerCase().replace(/_/g,"-"))}function In(t,e,n){let r=de(),i=mt(),o=yt();return bS(i,r,r[ke],o,t,e,n),In}function bS(t,e,n,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=Fm(r,e,o),SF(r,t,e,s,n,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],y=h[p+1];u??=Fm(r,e,o),VC(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=Fm(r,e,o),VC(r,e,p,i,i,u)}}function mL(t=1){return dC(t)}function Td(t,e){return t<<17|e<<2}function uo(t){return t>>17&32767}function yL(t){return(t&2)==2}function vL(t,e){return t&131071|e<<17}function oy(t){return t|2}function Cs(t){return(t&131068)>>2}function Um(t,e){return t&-131069|e<<2}function _L(t){return(t&1)===1}function sy(t){return t|1}function EL(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=uo(s),u=Cs(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||fs(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=uo(t[a+1]);t[r+1]=Td(m,a),m!==0&&(t[m+1]=Um(t[m+1],r)),t[a+1]=vL(t[a+1],r)}else t[r+1]=Td(a,0),a!==0&&(t[a+1]=Um(t[a+1],r)),a=r;else t[r+1]=Td(u,0),a===0?a=r:t[u+1]=Um(t[u+1],r),u=r;l&&(t[r+1]=oy(t[r+1])),zC(t,h,r,!0),zC(t,h,r,!1),IL(e,h,t,r,o),s=Td(a,u),o?e.classBindings=s:e.styleBindings=s}function IL(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&fs(o,e)>=0&&(n[r+1]=sy(n[r+1]))}function zC(t,e,n,r){let i=t[n+1],o=e===null,s=r?uo(i):Cs(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];wL(u,e)&&(a=!0,t[s+1]=r?sy(l):oy(l)),s=r?uo(l):Cs(l)}a&&(t[n+1]=r?oy(i):sy(i))}function wL(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?fs(t,e)>=0:!1}function Pc(t,e){return DL(t,e,null,!0),Pc}function DL(t,e,n,r){let i=de(),o=mt(),s=Tm(2);if(o.firstUpdatePass&&CL(o,t,s,r),e!==Ht&&si(i,s,e)){let a=o.data[ri()];NL(o,a,i,i[ke],t,i[s+1]=ML(e,n),r,s)}}function TL(t,e){return e>=t.expandoStartIndex}function CL(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[ri()],s=TL(t,n);PL(o,r)&&e===null&&!s&&(e=!1),e=bL(i,o,e,r),EL(i,o,e,n,s,r)}}function bL(t,e,n,r){let i=aC(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Bm(null,t,e,n,r),n=Tc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Bm(i,t,e,n,r),o===null){let u=SL(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Bm(null,t,e,u[1],r),u=Tc(u,e.attrs,r),AL(t,e,r,u))}else o=RL(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function SL(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Cs(r)!==0)return t[uo(r)]}function AL(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[uo(i)]=r}function RL(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Tc(r,s,n)}return Tc(r,e.attrs,n)}function Bm(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Tc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Tc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),NT(t,s,n?!0:e[++o]))}return t===void 0?null:t}function NL(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=_L(l)?GC(u,e,n,i,Cs(l),s):void 0;if(!Hd(h)){Hd(o)||yL(l)&&(o=GC(u,null,n,i,a,s));let p=fm(ri(),n);A1(r,s,p,i,o)}}function GC(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===Ht&&(m=p?jt:void 0);let y=p?ud(m,r):h===r?m:void 0;if(l&&!Hd(y)&&(y=ud(u,r)),Hd(y)&&(a=y,s))return a;let C=t[i+1];i=s?uo(C):Cs(C)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=ud(u,r))}return a}function Hd(t){return t!==void 0}function ML(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=pr(bc(t)))),t}function PL(t,e){return(t.flags&(e?8:16))!==0}function xL(t,e=""){let n=de(),r=mt(),i=t+Xe,o=r.firstCreatePass?Xd(r,i,1,e,null):r.data[i],s=kL(r,n,o,e,t);n[i]=s,yd()&&by(r,n,s,o),vs(o,!1)}var kL=(t,e,n,r,i)=>(vd(!0),LO(e[ke],r));function OL(t,e,n,r=""){return si(t,_s(),n)?e+Zi(n)+r:Ht}function FL(t,e,n,r,i,o=""){let s=nC(),a=fS(t,s,n,i);return Tm(2),a?e+Zi(n)+r+Zi(i)+o:Ht}function SS(t){return zy("",t),SS}function zy(t,e,n){let r=de(),i=OL(r,t,e,n);return i!==Ht&&RS(r,ri(),i),zy}function AS(t,e,n,r,i){let o=de(),s=FL(o,t,e,n,r,i);return s!==Ht&&RS(o,ri(),s),AS}function RS(t,e,n){let r=fm(e,t);VO(t[ke],r,n)}function NS(t,e,n){Nm(e)&&(e=e());let r=de(),i=_s();if(si(r,i,e)){let o=mt(),s=md();Hb(s,r,t,e,r[ke],n)}return NS}function LL(t,e){let n=Nm(t);return n&&t.set(e),n}function MS(t,e){let n=de(),r=mt(),i=yt();return bS(r,n,n[ke],i,t,e),MS}function VL(t,e,n){let r=mt();if(r.firstCreatePass){let i=Ln(t);ay(n,r.data,r.blueprint,i,!0),ay(e,r.data,r.blueprint,i,!1)}}function ay(t,e,n,r,i){if(t=at(t),Array.isArray(t))for(let o=0;o<t.length;o++)ay(t[o],e,n,r,i);else{let o=mt(),s=de(),a=yt(),u=Ki(t)?t:at(t.provide),l=um(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Ki(t)||!t.multi){let y=new oo(l,i,q,null),C=Hm(u,e,i?h:h+m,p);C===-1?(zm(Pd(a,s),o,u),$m(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[C]=y,s[C]=y)}else{let y=Hm(u,e,h+m,p),C=Hm(u,e,h,h+m),M=y>=0&&n[y],A=C>=0&&n[C];if(i&&!A||!i&&!M){zm(Pd(a,s),o,u);let F=BL(i?UL:jL,n.length,i,r,l,t);!i&&A&&(n[C].providerFactory=F),$m(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(F),s.push(F)}else{let F=PS(n[i?C:y],l,!i&&r);$m(o,t,y>-1?y:C,F)}!i&&r&&A&&n[C].componentProviders++}}}function $m(t,e,n,r){let i=Ki(e),o=OT(e);if(i||o){let u=(o?at(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function PS(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Hm(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function jL(t,e,n,r,i){return cy(this.multi,[])}function UL(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=xd(r,r[Y],this.providerFactory.index,i);s=u.slice(0,a),cy(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],cy(o,s);return s}function cy(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function BL(t,e,n,r,i,o){let s=new oo(t,n,q,null);return s.multi=[],s.index=e,s.componentProviders=0,PS(s,i,r&&!n),s}function sn(t,e=[]){return n=>{n.providersResolver=(r,i)=>VL(r,i?i(t):t,e)}}function $L(t,e,n){let r=Dm()+t,i=de();return i[r]===Ht?hS(i,r,n?e.call(n):e()):bF(i,r)}function HL(t,e){let n=t[e];return n===Ht?void 0:n}function qL(t,e,n,r,i,o,s){let a=e+n;return fS(t,a,i,o)?hS(t,a+2,s?r.call(s,i,o):r(i,o)):HL(t,a+2)}function zL(t,e){let n=mt(),r,i=t+Xe;n.firstCreatePass?(r=GL(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Kr(r.type,!0)),s,a=bt(q);try{let u=Md(!1),l=o();return Md(u),pm(n,de(),i,l),l}finally{bt(a)}}function GL(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function WL(t,e,n,r){let i=t+Xe,o=de(),s=UT(o,i);return KL(o,i)?qL(o,Dm(),e,s.transform,n,r,s):s.transform(n,r)}function KL(t,e){return t[Y].data[e].pure}var qd=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Gy=(()=>{class t{compileModuleSync(n){return new $d(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=om(n),o=Rb(i.declarations).reduce((s,a)=>{let u=mr(a);return u&&s.push(new ao(u)),s},[]);return new qd(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var QL=(()=>{class t{zone=N(pe);changeDetectionScheduler=N(kn);applicationRef=N(_r);applicationErrorHandler=N(kt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function xS({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new pe(ne(x({},kS()),{scheduleInRootZone:n})),[{provide:pe,useFactory:t},{provide:Jr,multi:!0,useFactory:()=>{let r=N(QL,{optional:!0});return()=>r.initialize()}},{provide:Jr,multi:!0,useFactory:()=>{let r=N(YL);return()=>{r.initialize()}}},e===!0?{provide:Mm,useValue:!0}:[],{provide:Ed,useValue:n??kb},{provide:kt,useFactory:()=>{let r=N(pe),i=N(Ve),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(pn),o.handleError(s))})}}}]}function kS(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var YL=(()=>{class t{subscription=new xe;initialized=!1;zone=N(pe);pendingTasks=N(Vn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{pe.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{pe.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Wy=(()=>{class t{applicationErrorHandler=N(kt);appRef=N(_r);taskService=N(Vn);ngZone=N(pe);zonelessEnabled=N(mc);tracing=N(ho,{optional:!0});disableScheduling=N(Mm,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new xe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Fd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(Ed,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ic||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?bC:Ob;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Fd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,bC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ZL(){return Bn("NgZoneless"),Yt([{provide:kn,useExisting:Wy},{provide:pe,useClass:Ic},{provide:mc,useValue:!0},{provide:Ed,useValue:!1},[]])}function JL(){return typeof $localize<"u"&&$localize.locale||Mc}var xc=new j("",{providedIn:"root",factory:()=>N(xc,{optional:!0,skipSelf:!0})||JL()});function et(t){return ET(t)}function As(t,e){return Nl(t,e?.equal)}var OS=class{[gt];constructor(e){this[gt]=e}destroy(){this[gt].destroy()}};var US=Symbol("InputSignalNode#UNSET"),fV=ne(x({},Ml),{transformFn:void 0,applyValueToInputSignal(t,e){Zo(t,e)}});function BS(t,e){let n=Object.create(fV);n.value=t,n.transformFn=e?.transform;function r(){if(Ko(n),n.value===US){let i=null;throw new L(-950,i)}return n.value}return r[gt]=n,r}var oh=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Cc(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},pV=new j("");pV.__NG_ELEMENT_ID__=t=>{let e=yt();if(e===null)throw new L(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new L(204,!1)};function FS(t,e){return BS(t,e)}function gV(t){return BS(US,t)}var $S=(FS.required=gV,FS);var Ky=new j(""),mV=new j("");function kc(t){return!t.moduleRef}function yV(t){let e=kc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(pe);return n.run(()=>{kc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(kt),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),kc(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Ky);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Ky);s.add(o),t.moduleRef.onDestroy(()=>{_c(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return _V(r,n,()=>{let o=e.get(Vn),s=o.add(),a=e.get(By);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(xc,Mc);if(CS(u||Mc),!e.get(mV,!0))return kc(t)?e.get(_r):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(kc(t)){let h=e.get(_r);return t.rootComponent!==void 0&&h.bootstrap(t.rootComponent),h}else return vV?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var vV;function _V(t,e,n){try{let r=n();return ai(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var ih=null;function EV(t=[],e){return Re.create({name:e,providers:[{provide:oc,useValue:"platform"},{provide:Ky,useValue:new Set([()=>ih=null])},...t]})}function IV(t=[]){if(ih)return ih;let e=EV(t);return ih=e,wS(),wV(e),e}function wV(t){let e=t.get(Wd,null);$e(t,()=>{e?.forEach(n=>n())})}function Xy(){return!1}var ui=(()=>{class t{static __NG_ELEMENT_ID__=DV}return t})();function DV(t){return TV(yt(),de(),(t&16)===16)}function TV(t,e,n){if(ti(t)&&!n){let r=tn(t.index,e);return new oi(r,r)}else if(t.type&175){let r=e[Xt];return new oi(r,e)}return null}var Qy=class{constructor(){}supports(e){return ky(e)}create(e){return new Yy(e)}},CV=(t,e)=>e,Yy=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||CV}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<LS(r,i,o)?n:r,a=LS(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,C=y+m;h<=C&&C<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!ky(e))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,lS(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Zy(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new sh),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new sh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Zy=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},Jy=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},sh=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Jy,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function LS(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function VS(){return new ev([new Qy])}var ev=(()=>{class t{factories;static \u0275prov=U({token:t,providedIn:"root",factory:VS});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:()=>{let r=N(t,{optional:!0,skipSelf:!0});return t.create(n,r||VS())}}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new L(901,!1)}}return t})();function HS(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;_e(8);try{let o=i?.injector??IV(r),s=[xS({}),{provide:kn,useExisting:Wy},pC,...n||[]],a=new Dc({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return yV({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{_e(9)}}function li(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function qS(t){let e=mr(t);if(!e)return null;let n=new ao(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var WS=null;function an(){return WS}function tv(t){WS??=t}var Oc=class{},Fc=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>N(KS),providedIn:"platform"})}return t})(),nv=new j(""),KS=(()=>{class t extends Fc{_location;_history;_doc=N(He);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return an().getBaseHref(this._doc)}onPopState(n){let r=an().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=an().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function ah(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function zS(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function wn(t){return t&&t[0]!=="?"?`?${t}`:t}var Dn=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>N(uh),providedIn:"root"})}return t})(),ch=new j(""),uh=(()=>{class t extends Dn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??N(He).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return ah(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+wn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+wn(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+wn(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(G(Fc),G(ch,8))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),di=(()=>{class t{_subject=new Ue;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=AV(zS(GS(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+wn(r))}normalize(n){return t.stripTrailingSlash(SV(this._basePath,GS(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+wn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+wn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=wn;static joinWithSlash=ah;static stripTrailingSlash=zS;static \u0275fac=function(r){return new(r||t)(G(Dn))};static \u0275prov=U({token:t,factory:()=>bV(),providedIn:"root"})}return t})();function bV(){return new di(G(Dn))}function SV(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function GS(t){return t.replace(/\/index.html$/,"")}function AV(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var av=(()=>{class t extends Dn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=ah(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+wn(o))||this._platformLocation.pathname;this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+wn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(G(Fc),G(ch,8))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})();var _t=(function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t})(_t||{}),Ie=(function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t})(Ie||{}),Ot=(function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t})(Ot||{}),wr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function XS(t){return qt(t)[je.LocaleId]}function eA(t,e,n){let r=qt(t),i=[r[je.DayPeriodsFormat],r[je.DayPeriodsStandalone]],o=cn(i,e);return cn(o,n)}function tA(t,e,n){let r=qt(t),i=[r[je.DaysFormat],r[je.DaysStandalone]],o=cn(i,e);return cn(o,n)}function nA(t,e,n){let r=qt(t),i=[r[je.MonthsFormat],r[je.MonthsStandalone]],o=cn(i,e);return cn(o,n)}function rA(t,e){let r=qt(t)[je.Eras];return cn(r,e)}function Lc(t,e){let n=qt(t);return cn(n[je.DateFormat],e)}function Vc(t,e){let n=qt(t);return cn(n[je.TimeFormat],e)}function jc(t,e){let r=qt(t)[je.DateTimeFormat];return cn(r,e)}function Uc(t,e){let n=qt(t),r=n[je.NumberSymbols][e];if(typeof r>"u"){if(e===wr.CurrencyDecimal)return n[je.NumberSymbols][wr.Decimal];if(e===wr.CurrencyGroup)return n[je.NumberSymbols][wr.Group]}return r}function iA(t){if(!t[je.ExtraData])throw new L(2303,!1)}function oA(t){let e=qt(t);return iA(e),(e[je.ExtraData][2]||[]).map(r=>typeof r=="string"?rv(r):[rv(r[0]),rv(r[1])])}function sA(t,e,n){let r=qt(t);iA(r);let i=[r[je.ExtraData][0],r[je.ExtraData][1]],o=cn(i,e)||[];return cn(o,n)||[]}function cn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new L(2304,!1)}function rv(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var RV=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,lh={},NV=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function aA(t,e,n,r){let i=jV(t);e=Ir(n,e)||e;let s=[],a;for(;e;)if(a=NV.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=uA(r,u),i=VV(i,r));let l="";return s.forEach(h=>{let p=FV(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function gh(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Ir(t,e){let n=XS(t);if(lh[n]??={},lh[n][e])return lh[n][e];let r="";switch(e){case"shortDate":r=Lc(t,Ot.Short);break;case"mediumDate":r=Lc(t,Ot.Medium);break;case"longDate":r=Lc(t,Ot.Long);break;case"fullDate":r=Lc(t,Ot.Full);break;case"shortTime":r=Vc(t,Ot.Short);break;case"mediumTime":r=Vc(t,Ot.Medium);break;case"longTime":r=Vc(t,Ot.Long);break;case"fullTime":r=Vc(t,Ot.Full);break;case"short":let i=Ir(t,"shortTime"),o=Ir(t,"shortDate");r=dh(jc(t,Ot.Short),[i,o]);break;case"medium":let s=Ir(t,"mediumTime"),a=Ir(t,"mediumDate");r=dh(jc(t,Ot.Medium),[s,a]);break;case"long":let u=Ir(t,"longTime"),l=Ir(t,"longDate");r=dh(jc(t,Ot.Long),[u,l]);break;case"full":let h=Ir(t,"fullTime"),p=Ir(t,"fullDate");r=dh(jc(t,Ot.Full),[h,p]);break}return r&&(lh[n][e]=r),r}function dh(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function Tn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function MV(t,e){return Tn(t,3).substring(0,e)}function ze(t,e,n=0,r=!1,i=!1){return function(o,s){let a=PV(t,o);if((n>0||a>-n)&&(a+=n),t===3)a===0&&n===-12&&(a=12);else if(t===6)return MV(a,e);let u=Uc(s,wr.MinusSign);return Tn(a,e,u,r,i)}}function PV(t,e){switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new L(2301,!1)}}function Te(t,e,n=_t.Format,r=!1){return function(i,o){return xV(i,o,t,e,n,r)}}function xV(t,e,n,r,i,o){switch(n){case 2:return nA(e,i,r)[t.getMonth()];case 1:return tA(e,i,r)[t.getDay()];case 0:let s=t.getHours(),a=t.getMinutes();if(o){let l=oA(e),h=sA(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[y,C]=m,M=s>=y.hours&&a>=y.minutes,A=s<C.hours||s===C.hours&&a<C.minutes;if(y.hours<C.hours){if(M&&A)return!0}else if(M||A)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return eA(e,i,r)[s<12?0:1];case 3:return rA(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new L(2302,!1)}}function hh(t){return function(e,n,r){let i=-1*r,o=Uc(n,wr.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case 0:return(i>=0?"+":"")+Tn(s,2,o)+Tn(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Tn(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+Tn(s,2,o)+":"+Tn(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Tn(s,2,o)+":"+Tn(Math.abs(i%60),2,o);default:throw new L(2310,!1)}}}var kV=0,ph=4;function OV(t){let e=gh(t,kV,1).getDay();return gh(t,0,1+(e<=ph?ph:ph+7)-e)}function cA(t){let e=t.getDay(),n=e===0?-3:ph-e;return gh(t.getFullYear(),t.getMonth(),t.getDate()+n)}function iv(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=cA(n),s=OV(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Tn(i,t,Uc(r,wr.MinusSign))}}function fh(t,e=!1){return function(n,r){let o=cA(n).getFullYear();return Tn(o,t,Uc(r,wr.MinusSign),e)}}var ov={};function FV(t){if(ov[t])return ov[t];let e;switch(t){case"G":case"GG":case"GGG":e=Te(3,Ie.Abbreviated);break;case"GGGG":e=Te(3,Ie.Wide);break;case"GGGGG":e=Te(3,Ie.Narrow);break;case"y":e=ze(0,1,0,!1,!0);break;case"yy":e=ze(0,2,0,!0,!0);break;case"yyy":e=ze(0,3,0,!1,!0);break;case"yyyy":e=ze(0,4,0,!1,!0);break;case"Y":e=fh(1);break;case"YY":e=fh(2,!0);break;case"YYY":e=fh(3);break;case"YYYY":e=fh(4);break;case"M":case"L":e=ze(1,1,1);break;case"MM":case"LL":e=ze(1,2,1);break;case"MMM":e=Te(2,Ie.Abbreviated);break;case"MMMM":e=Te(2,Ie.Wide);break;case"MMMMM":e=Te(2,Ie.Narrow);break;case"LLL":e=Te(2,Ie.Abbreviated,_t.Standalone);break;case"LLLL":e=Te(2,Ie.Wide,_t.Standalone);break;case"LLLLL":e=Te(2,Ie.Narrow,_t.Standalone);break;case"w":e=iv(1);break;case"ww":e=iv(2);break;case"W":e=iv(1,!0);break;case"d":e=ze(2,1);break;case"dd":e=ze(2,2);break;case"c":case"cc":e=ze(7,1);break;case"ccc":e=Te(1,Ie.Abbreviated,_t.Standalone);break;case"cccc":e=Te(1,Ie.Wide,_t.Standalone);break;case"ccccc":e=Te(1,Ie.Narrow,_t.Standalone);break;case"cccccc":e=Te(1,Ie.Short,_t.Standalone);break;case"E":case"EE":case"EEE":e=Te(1,Ie.Abbreviated);break;case"EEEE":e=Te(1,Ie.Wide);break;case"EEEEE":e=Te(1,Ie.Narrow);break;case"EEEEEE":e=Te(1,Ie.Short);break;case"a":case"aa":case"aaa":e=Te(0,Ie.Abbreviated);break;case"aaaa":e=Te(0,Ie.Wide);break;case"aaaaa":e=Te(0,Ie.Narrow);break;case"b":case"bb":case"bbb":e=Te(0,Ie.Abbreviated,_t.Standalone,!0);break;case"bbbb":e=Te(0,Ie.Wide,_t.Standalone,!0);break;case"bbbbb":e=Te(0,Ie.Narrow,_t.Standalone,!0);break;case"B":case"BB":case"BBB":e=Te(0,Ie.Abbreviated,_t.Format,!0);break;case"BBBB":e=Te(0,Ie.Wide,_t.Format,!0);break;case"BBBBB":e=Te(0,Ie.Narrow,_t.Format,!0);break;case"h":e=ze(3,1,-12);break;case"hh":e=ze(3,2,-12);break;case"H":e=ze(3,1);break;case"HH":e=ze(3,2);break;case"m":e=ze(4,1);break;case"mm":e=ze(4,2);break;case"s":e=ze(5,1);break;case"ss":e=ze(5,2);break;case"S":e=ze(6,1);break;case"SS":e=ze(6,2);break;case"SSS":e=ze(6,3);break;case"Z":case"ZZ":case"ZZZ":e=hh(0);break;case"ZZZZZ":e=hh(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=hh(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=hh(2);break;default:return null}return ov[t]=e,e}function uA(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function LV(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function VV(t,e,n){let i=t.getTimezoneOffset(),o=uA(e,i);return LV(t,-1*(o-i))}function jV(t){if(QS(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return gh(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(RV))return UV(r)}let e=new Date(t);if(!QS(e))throw new L(2311,!1);return e}function UV(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function QS(t){return t instanceof Date&&!isNaN(t.valueOf())}var sv=/\s+/,YS=[],BV=(()=>{class t{_ngEl;_renderer;initialClasses=YS;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(sv):YS}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(sv):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(sv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(q($t),q(on))};static \u0275dir=Ee({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var mh=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},lA=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new mh(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),ZS(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);ZS(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(q(fo),q(Ac),q(ev))};static \u0275dir=Ee({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function ZS(t,e){t.context.$implicit=e.item}var $V=(()=>{class t{_viewContainer;_context=new yh;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){JS(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){JS(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(q(fo),q(Ac))};static \u0275dir=Ee({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),yh=class{$implicit=null;ngIf=null};function JS(t,e){if(t&&!t.createEmbeddedView)throw new L(2020,!1)}function HV(t,e){return new L(2100,!1)}var qV="mediumDate",dA=new j(""),hA=new j(""),zV=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??qV,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return aA(n,s,o||this.locale,a)}catch(s){throw HV(t,s.message)}}static \u0275fac=function(r){return new(r||t)(q(xc,16),q(dA,24),q(hA,24))};static \u0275pipe=Fy({name:"date",type:t,pure:!0})}return t})();var fA=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=$n({type:t});static \u0275inj=gn({})}return t})();function cv(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Bc=class{};var pA="browser";var gA=(()=>{class t{static \u0275prov=U({token:t,providedIn:"root",factory:()=>new uv(N(He),window)})}return t})(),uv=class{document;window;offset=()=>[0,0];constructor(e,n){this.document=e,this.window=n}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,n){this.window.scrollTo(ne(x({},n),{left:e[0],top:e[1]}))}scrollToAnchor(e,n){let r=GV(this.document,e);r&&(this.scrollToElement(r,n),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(Yr(2400,!1))}}scrollToElement(e,n){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(ne(x({},n),{left:i-s[0],top:o-s[1]}))}};function GV(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var $c=class{_doc;constructor(e){this._doc=e}manager},vh=(()=>{class t extends $c{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(G(He))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),Eh=new j(""),pv=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof vh));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof vh);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new L(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(G(Eh),G(pe))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),lv="ng-app-id";function mA(t){for(let e of t)e.remove()}function yA(t,e){let n=e.createElement("style");return n.textContent=t,n}function KV(t,e,n,r){let i=t.head?.querySelectorAll(`style[${lv}="${e}"],link[${lv}="${e}"]`);if(i)for(let o of i)o.removeAttribute(lv),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function hv(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var gv=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,KV(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,yA);r?.forEach(i=>this.addUsage(i,this.external,hv))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(mA(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])mA(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,yA(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,hv(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(G(He),G(Gd),G(Kd,8),G(lo))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),dv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},mv=/%COMP%/g;var _A="%COMP%",QV=`_nghost-${_A}`,YV=`_ngcontent-${_A}`,ZV=!0,JV=new j("",{providedIn:"root",factory:()=>ZV});function XV(t){return YV.replace(mv,t)}function ej(t){return QV.replace(mv,t)}function EA(t,e){return e.map(n=>n.replace(mv,t))}var yv=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,u=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=u,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new Hc(n,s,a,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof _h?i.applyToHost(n):i instanceof qc&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case yr.Emulated:o=new _h(u,l,r,this.appId,h,s,a,p,m);break;case yr.ShadowDom:return new fv(u,l,n,r,s,a,this.nonce,p,m);default:o=new qc(u,l,r,h,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(G(pv),G(gv),G(Gd),G(JV),G(He),G(pe),G(Kd),G(ho,8))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),Hc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(dv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(vA(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(vA(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new L(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=dv[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=dv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Un.DashCase|Un.Important)?e.style.setProperty(n,r,i&Un.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Un.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=an().getGlobalEventTarget(this.doc,e),!e))throw new L(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function vA(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var fv=class extends Hc{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=EA(i.id,h);for(let m of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=hv(m,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},qc=class extends Hc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?EA(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Ts.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},_h=class extends qc{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,n,r,o,s,a,u,l,h),this.contentAttr=XV(h),this.hostAttr=ej(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Ih=class t extends Oc{supportsDOMEvents=!0;static makeCurrent(){tv(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=tj();return n==null?null:nj(n)}resetBaseElement(){zc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return cv(document.cookie,e)}},zc=null;function tj(){return zc=zc||document.head.querySelector("base"),zc?zc.getAttribute("href"):null}function nj(t){return new URL(t,document.baseURI).pathname}var rj=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),IA=["alt","control","meta","shift"],ij={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},oj={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},wA=(()=>{class t extends $c{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>an().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),IA.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=ij[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),IA.forEach(s=>{if(s!==i){let a=oj[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(G(He))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})();function sj(t,e,n){let r=x({rootComponent:t,platformRef:n?.platformRef},aj(e));return HS(r)}function aj(t){return{appProviders:[...hj,...t?.providers??[]],platformProviders:dj}}function cj(){Ih.makeCurrent()}function uj(){return new pn}function lj(){return dy(document),document}var dj=[{provide:lo,useValue:pA},{provide:Wd,useValue:cj,multi:!0},{provide:He,useFactory:lj}];var hj=[{provide:oc,useValue:"root"},{provide:pn,useFactory:uj},{provide:Eh,useClass:vh,multi:!0,deps:[He]},{provide:Eh,useClass:wA,multi:!0,deps:[He]},yv,gv,pv,{provide:so,useExisting:yv},{provide:Bc,useClass:rj},[]];var DA=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(G(He))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Z="primary",iu=Symbol("RouteTitle"),wv=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function mo(t){return new wv(t)}function MA(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function pj(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Hn(t[n],e[n]))return!1;return!0}function Hn(t,e){let n=t?Dv(t):void 0,r=e?Dv(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!PA(t[i],e[i]))return!1;return!0}function Dv(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function PA(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function xA(t){return t.length>0?t[t.length-1]:null}function Dr(t){return Ag(t)?t:ai(t)?be(Promise.resolve(t)):H(t)}var gj={exact:OA,subset:FA},kA={exact:mj,subset:yj,ignored:()=>!0};function TA(t,e,n){return gj[n.paths](t.root,e.root,n.matrixParams)&&kA[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function mj(t,e){return Hn(t,e)}function OA(t,e,n){if(!po(t.segments,e.segments)||!Th(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!OA(t.children[r],e.children[r],n))return!1;return!0}function yj(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>PA(t[n],e[n]))}function FA(t,e,n){return LA(t,e,e.segments,n)}function LA(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!po(i,n)||e.hasChildren()||!Th(i,n,r))}else if(t.segments.length===n.length){if(!po(t.segments,n)||!Th(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!FA(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!po(t.segments,i)||!Th(t.segments,i,r)||!t.children[Z]?!1:LA(t.children[Z],e,o,r)}}function Th(t,e,n){return e.every((r,i)=>kA[n](t[i].parameters,r.parameters))}var zn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ge([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=mo(this.queryParams),this._queryParamMap}toString(){return Ej.serialize(this)}},ge=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ch(this)}},hi=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=mo(this.parameters),this._parameterMap}toString(){return jA(this)}};function vj(t,e){return po(t,e)&&t.every((n,r)=>Hn(n.parameters,e[r].parameters))}function po(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function _j(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Z&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Z&&(n=n.concat(e(i,r)))}),n}var yo=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>new fi,providedIn:"root"})}return t})(),fi=class{parse(e){let n=new Cv(e);return new zn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Gc(e.root,!0)}`,r=Dj(e.queryParams),i=typeof e.fragment=="string"?`#${Ij(e.fragment)}`:"";return`${n}${r}${i}`}},Ej=new fi;function Ch(t){return t.segments.map(e=>jA(e)).join("/")}function Gc(t,e){if(!t.hasChildren())return Ch(t);if(e){let n=t.children[Z]?Gc(t.children[Z],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Z&&r.push(`${i}:${Gc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=_j(t,(r,i)=>i===Z?[Gc(t.children[Z],!1)]:[`${i}:${Gc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Z]!=null?`${Ch(t)}/${n[0]}`:`${Ch(t)}/(${n.join("//")})`}}function VA(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wh(t){return VA(t).replace(/%3B/gi,";")}function Ij(t){return encodeURI(t)}function Tv(t){return VA(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bh(t){return decodeURIComponent(t)}function CA(t){return bh(t.replace(/\+/g,"%20"))}function jA(t){return`${Tv(t.path)}${wj(t.parameters)}`}function wj(t){return Object.entries(t).map(([e,n])=>`;${Tv(e)}=${Tv(n)}`).join("")}function Dj(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${wh(n)}=${wh(i)}`).join("&"):`${wh(n)}=${wh(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Tj=/^[^\/()?;#]+/;function vv(t){let e=t.match(Tj);return e?e[0]:""}var Cj=/^[^\/()?;=#]+/;function bj(t){let e=t.match(Cj);return e?e[0]:""}var Sj=/^[^=?&#]+/;function Aj(t){let e=t.match(Sj);return e?e[0]:""}var Rj=/^[^&#]+/;function Nj(t){let e=t.match(Rj);return e?e[0]:""}var Cv=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Z]=new ge(e,n)),r}parseSegment(){let e=vv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new L(4009,!1);return this.capture(e),new hi(bh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=bj(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=vv(this.remaining);i&&(r=i,this.capture(r))}e[bh(n)]=bh(r)}parseQueryParam(e){let n=Aj(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=Nj(this.remaining);s&&(r=s,this.capture(r))}let i=CA(n),o=CA(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=vv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new L(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Z);let s=this.parseChildren();n[o??Z]=Object.keys(s).length===1&&s[Z]?s[Z]:new ge([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new L(4011,!1)}};function UA(t){return t.segments.length>0?new ge([],{[Z]:t}):t}function BA(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=BA(i);if(r===Z&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new ge(t.segments,e);return Mj(n)}function Mj(t){if(t.numberOfChildren===1&&t.children[Z]){let e=t.children[Z];return new ge(t.segments.concat(e.segments),e.children)}return t}function pi(t){return t instanceof zn}function $A(t,e,n=null,r=null){let i=HA(t);return qA(i,e,n,r)}function HA(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new ge(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=UA(r);return e??i}function qA(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return _v(i,i,i,n,r);let o=Pj(e);if(o.toRoot())return _v(i,i,new ge([],{}),n,r);let s=xj(o,i,t),a=s.processChildren?Kc(s.segmentGroup,s.index,o.commands):GA(s.segmentGroup,s.index,o.commands);return _v(i,s.segmentGroup,a,n,r)}function Sh(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Yc(t){return typeof t=="object"&&t!=null&&t.outlets}function _v(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=zA(t,e,n);let a=UA(BA(s));return new zn(a,o,i)}function zA(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=zA(o,e,n)}),new ge(t.segments,r)}var Ah=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Sh(r[0]))throw new L(4003,!1);let i=r.find(Yc);if(i&&i!==xA(r))throw new L(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Pj(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ah(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Ah(n,e,r)}var Ms=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function xj(t,e,n){if(t.isAbsolute)return new Ms(e,!0,0);if(!n)return new Ms(e,!1,NaN);if(n.parent===null)return new Ms(n,!0,0);let r=Sh(t.commands[0])?0:1,i=n.segments.length-1+r;return kj(n,i,t.numberOfDoubleDots)}function kj(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new L(4005,!1);i=r.segments.length}return new Ms(r,!1,i-o)}function Oj(t){return Yc(t[0])?t[0].outlets:{[Z]:t}}function GA(t,e,n){if(t??=new ge([],{}),t.segments.length===0&&t.hasChildren())return Kc(t,e,n);let r=Fj(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new ge(t.segments.slice(0,r.pathIndex),{});return o.children[Z]=new ge(t.segments.slice(r.pathIndex),t.children),Kc(o,0,i)}else return r.match&&i.length===0?new ge(t.segments,{}):r.match&&!t.hasChildren()?bv(t,e,n):r.match?Kc(t,0,i):bv(t,e,n)}function Kc(t,e,n){if(n.length===0)return new ge(t.segments,{});{let r=Oj(n),i={};if(Object.keys(r).some(o=>o!==Z)&&t.children[Z]&&t.numberOfChildren===1&&t.children[Z].segments.length===0){let o=Kc(t.children[Z],e,n);return new ge(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=GA(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ge(t.segments,i)}}function Fj(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Yc(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!SA(u,l,s))return o;r+=2}else{if(!SA(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function bv(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Yc(o)){let u=Lj(o.outlets);return new ge(r,u)}if(i===0&&Sh(n[0])){let u=t.segments[e];r.push(new hi(u.path,bA(n[0]))),i++;continue}let s=Yc(o)?o.outlets[Z]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Sh(a)?(r.push(new hi(s,bA(a))),i+=2):(r.push(new hi(s,{})),i++)}return new ge(r,{})}function Lj(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=bv(new ge([],{}),0,r))}),e}function bA(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function SA(t,e,n){return t==n.path&&Hn(e,n.parameters)}var Ps="imperative",Ze=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(Ze||{}),Gt=class{id;url;constructor(e,n){this.id=e,this.url=n}},gi=class extends Gt{type=Ze.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},un=class extends Gt{urlAfterRedirects;type=Ze.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Rt=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(Rt||{}),ks=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(ks||{}),qn=class extends Gt{reason;code;type=Ze.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Gn=class extends Gt{reason;code;type=Ze.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Os=class extends Gt{error;target;type=Ze.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Zc=class extends Gt{urlAfterRedirects;state;type=Ze.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rh=class extends Gt{urlAfterRedirects;state;type=Ze.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nh=class extends Gt{urlAfterRedirects;state;shouldActivate;type=Ze.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Mh=class extends Gt{urlAfterRedirects;state;type=Ze.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ph=class extends Gt{urlAfterRedirects;state;type=Ze.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xh=class{route;type=Ze.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},kh=class{route;type=Ze.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Oh=class{snapshot;type=Ze.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fh=class{snapshot;type=Ze.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lh=class{snapshot;type=Ze.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vh=class{snapshot;type=Ze.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fs=class{routerEvent;position;anchor;type=Ze.Scroll;constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Jc=class{},Ls=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function Vj(t){return!(t instanceof Jc)&&!(t instanceof Ls)}function jj(t,e){return t.providers&&!t._injector&&(t._injector=Ss(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Cn(t){return t.outlet||Z}function Uj(t,e){let n=t.filter(r=>Cn(r)===e);return n.push(...t.filter(r=>Cn(r)!==e)),n}function Us(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var jh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Us(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new vo(this.rootInjector)}},vo=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new jh(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(G(Ve))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Uh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Sv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Sv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Av(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Av(e,this._root).map(n=>n.value)}};function Sv(t,e){if(t===e.value)return e;for(let n of e.children){let r=Sv(t,n);if(r)return r}return null}function Av(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Av(t,n);if(r.length)return r.unshift(e),r}return[]}var zt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ns(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Xc=class extends Uh{snapshot;constructor(e,n){super(e),this.snapshot=n,Fv(this,e)}toString(){return this.snapshot.toString()}};function WA(t){let e=Bj(t),n=new st([new hi("",{})]),r=new st({}),i=new st({}),o=new st({}),s=new st(""),a=new Wn(n,r,o,s,i,Z,t,e.root);return a.snapshot=e.root,new Xc(new zt(a,[]),e)}function Bj(t){let e={},n={},r={},o=new go([],e,r,"",n,Z,t,null,{});return new eu("",new zt(o,[]))}var Wn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ce(l=>l[iu]))??H(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ce(e=>mo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ce(e=>mo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Bh(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:x(x({},e.params),t.params),data:x(x({},e.data),t.data),resolve:x(x(x(x({},t.data),e.data),i?.data),t._resolvedData)}:r={params:x({},t.params),data:x({},t.data),resolve:x(x({},t.data),t._resolvedData??{})},i&&QA(i)&&(r.resolve[iu]=i.title),r}var go=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[iu]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=mo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=mo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},eu=class extends Uh{url;constructor(e,n){super(n),this.url=e,Fv(this,n)}toString(){return KA(this._root)}};function Fv(t,e){e.value._routerState=t,e.children.forEach(n=>Fv(t,n))}function KA(t){let e=t.children.length>0?` { ${t.children.map(KA).join(", ")} } `:"";return`${t.value}${e}`}function Ev(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Hn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Hn(e.params,n.params)||t.paramsSubject.next(n.params),pj(e.url,n.url)||t.urlSubject.next(n.url),Hn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Rv(t,e){let n=Hn(t.params,e.params)&&vj(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Rv(t.parent,e.parent))}function QA(t){return typeof t.title=="string"||t.title===null}var YA=new j(""),Lv=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Z;activateEvents=new qe;deactivateEvents=new qe;attachEvents=new qe;detachEvents=new qe;routerOutletData=$S();parentContexts=N(vo);location=N(fo);changeDetector=N(ui);inputBinder=N(ou,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new L(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new L(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new L(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new L(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Nv(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ee({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[vr]})}return t})(),Nv=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Wn?this.route:e===vo?this.childContexts:e===YA?this.outletData:this.parent.get(e,n)}},ou=new j(""),Vv=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Za([r.queryParams,r.params,r.data]).pipe(Ct(([o,s,a],u)=>(a=x(x(x({},o),s),a),u===0?H(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=qS(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),jv=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Oy({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&rh(0,"router-outlet")},dependencies:[Lv],encapsulation:2})}return t})();function Uv(t){let e=t.children&&t.children.map(Uv),n=e?ne(x({},t),{children:e}):x({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Z&&(n.component=jv),n}function $j(t,e,n){let r=tu(t,e._root,n?n._root:void 0);return new Xc(r,e)}function tu(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=Hj(t,e,n);return new zt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>tu(t,a)),s}}let r=qj(e.value),i=e.children.map(o=>tu(t,o));return new zt(r,i)}}function Hj(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return tu(t,r,i);return tu(t,r)})}function qj(t){return new Wn(new st(t.url),new st(t.params),new st(t.queryParams),new st(t.fragment),new st(t.data),t.outlet,t.component,t)}var Vs=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},ZA="ngNavigationCancelingError";function $h(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=pi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=JA(!1,Rt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function JA(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[ZA]=!0,n.cancellationCode=e,n}function zj(t){return XA(t)&&pi(t.url)}function XA(t){return!!t&&t[ZA]}var Gj=(t,e,n,r)=>ce(i=>(new Mv(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Mv=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Ev(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ns(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ns(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ns(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ns(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Vh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Fh(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Ev(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Ev(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Hh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},xs=class{component;route;constructor(e,n){this.component=e,this.route=n}};function Wj(t,e,n){let r=t._root,i=e?e._root:null;return Wc(r,i,n,[r.value])}function Kj(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Bs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Kg(t)?t:e.get(t):r}function Wc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ns(e);return t.children.forEach(s=>{Qj(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Qc(a,n.getContext(s),i)),i}function Qj(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=Yj(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Hh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Wc(t,e,a?a.children:null,r,i):Wc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new xs(a.outlet.component,s))}else s&&Qc(e,a,i),i.canActivateChecks.push(new Hh(r)),o.component?Wc(t,null,a?a.children:null,r,i):Wc(t,null,n,r,i);return i}function Yj(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!po(t.url,e.url);case"pathParamsOrQueryParamsChange":return!po(t.url,e.url)||!Hn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rv(t,e)||!Hn(t.queryParams,e.queryParams);case"paramsChange":default:return!Rv(t,e)}}function Qc(t,e,n){let r=Ns(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Qc(s,e.children.getContext(o),n):Qc(s,null,n):Qc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new xs(e.outlet.component,i)):n.canDeactivateChecks.push(new xs(null,i)):n.canDeactivateChecks.push(new xs(null,i))}function su(t){return typeof t=="function"}function Zj(t){return typeof t=="boolean"}function Jj(t){return t&&su(t.canLoad)}function Xj(t){return t&&su(t.canActivate)}function e2(t){return t&&su(t.canActivateChild)}function t2(t){return t&&su(t.canDeactivate)}function n2(t){return t&&su(t.canMatch)}function e0(t){return t instanceof ur||t?.name==="EmptyError"}var Dh=Symbol("INITIAL_VALUE");function js(){return Ct(t=>Za(t.map(e=>e.pipe(dr(1),Pg(Dh)))).pipe(ce(e=>{for(let n of e)if(n!==!0){if(n===Dh)return Dh;if(n===!1||r2(n))return n}return!0}),xt(e=>e!==Dh),dr(1)))}function r2(t){return pi(t)||t instanceof Vs}function i2(t,e){return Le(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?H(ne(x({},n),{guardsResult:!0})):o2(s,r,i,t).pipe(Le(a=>a&&Zj(a)?s2(r,o,t,e):H(a)),ce(a=>ne(x({},n),{guardsResult:a})))})}function o2(t,e,n,r){return be(t).pipe(Le(i=>d2(i.component,i.route,n,e,r)),hr(i=>i!==!0,!0))}function s2(t,e,n,r){return be(e).pipe(zr(i=>ls(c2(i.route.parent,r),a2(i.route,r),l2(t,i.path,n),u2(t,i.route,n))),hr(i=>i!==!0,!0))}function a2(t,e){return t!==null&&e&&e(new Lh(t)),H(!0)}function c2(t,e){return t!==null&&e&&e(new Oh(t)),H(!0)}function u2(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return H(!0);let i=r.map(o=>Ja(()=>{let s=Us(e)??n,a=Bs(o,s),u=Xj(a)?a.canActivate(e,t):$e(s,()=>a(e,t));return Dr(u).pipe(hr())}));return H(i).pipe(js())}function l2(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Kj(s)).filter(s=>s!==null).map(s=>Ja(()=>{let a=s.guards.map(u=>{let l=Us(s.node)??n,h=Bs(u,l),p=e2(h)?h.canActivateChild(r,t):$e(l,()=>h(r,t));return Dr(p).pipe(hr())});return H(a).pipe(js())}));return H(o).pipe(js())}function d2(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return H(!0);let s=o.map(a=>{let u=Us(e)??i,l=Bs(a,u),h=t2(l)?l.canDeactivate(t,e,n,r):$e(u,()=>l(t,e,n,r));return Dr(h).pipe(hr())});return H(s).pipe(js())}function h2(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return H(!0);let o=i.map(s=>{let a=Bs(s,t),u=Jj(a)?a.canLoad(e,n):$e(t,()=>a(e,n));return Dr(u)});return H(o).pipe(js(),t0(r))}function t0(t){return Eg(Je(e=>{if(typeof e!="boolean")throw $h(t,e)}),ce(e=>e===!0))}function f2(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return H(!0);let o=i.map(s=>{let a=Bs(s,t),u=n2(a)?a.canMatch(e,n):$e(t,()=>a(e,n));return Dr(u)});return H(o).pipe(js(),t0(r))}var nu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},ru=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Rs(t){return cs(new nu(t))}function p2(t){return cs(new L(4e3,!1))}function g2(t){return cs(JA(!1,Rt.GuardRejected))}var Pv=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return H(r);if(i.numberOfChildren>1||!i.children[Z])return p2(`${e.redirectTo}`);i=i.children[Z]}}applyRedirectCommands(e,n,r,i,o){return m2(n,i,o).pipe(ce(s=>{if(s instanceof zn)throw new ru(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new ru(a);return a}))}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new zn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new ge(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new L(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function m2(t,e,n){if(typeof t=="string")return H(t);let r=t,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return Dr($e(n,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var xv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function y2(t,e,n,r,i){let o=n0(t,e,n);return o.matched?(r=jj(e,r),f2(r,e,n,i).pipe(ce(s=>s===!0?o:x({},xv)))):H(o)}function n0(t,e,n){if(e.path==="**")return v2(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?x({},xv):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||MA)(n,t,e);if(!i)return x({},xv);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?x(x({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function v2(t){return{matched:!0,parameters:t.length>0?xA(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function AA(t,e,n,r){return n.length>0&&I2(t,n,r)?{segmentGroup:new ge(e,E2(r,new ge(n,t.children))),slicedSegments:[]}:n.length===0&&w2(t,n,r)?{segmentGroup:new ge(t.segments,_2(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ge(t.segments,t.children),slicedSegments:n}}function _2(t,e,n,r){let i={};for(let o of n)if(zh(t,e,o)&&!r[Cn(o)]){let s=new ge([],{});i[Cn(o)]=s}return x(x({},r),i)}function E2(t,e){let n={};n[Z]=e;for(let r of t)if(r.path===""&&Cn(r)!==Z){let i=new ge([],{});n[Cn(r)]=i}return n}function I2(t,e,n){return n.some(r=>zh(t,e,r)&&Cn(r)!==Z)}function w2(t,e,n){return n.some(r=>zh(t,e,r))}function zh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function D2(t,e,n){return e.length===0&&!t.children[n]}var kv=class{};function T2(t,e,n,r,i,o,s="emptyOnly"){return new Ov(t,e,n,r,i,s,o).recognize()}var C2=31,Ov=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Pv(this.urlSerializer,this.urlTree)}noMatchError(e){return new L(4002,`'${e.segmentGroup}'`)}recognize(){let e=AA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ce(({children:n,rootSnapshot:r})=>{let i=new zt(r,n),o=new eu("",i),s=$A(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new go([],Object.freeze({}),Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Z,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Z,n).pipe(ce(r=>({children:r,rootSnapshot:n})),lr(r=>{if(r instanceof ru)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof nu?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(ce(s=>s instanceof zt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return be(o).pipe(zr(s=>{let a=r.children[s],u=Uj(n,s);return this.processSegmentGroup(e,u,a,s,i)}),Mg((s,a)=>(s.push(...a),s)),Gr(null),Ng(),Le(s=>{if(s===null)return Rs(r);let a=r0(s);return b2(a),H(a)}))}processSegment(e,n,r,i,o,s,a){return be(n).pipe(zr(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(lr(l=>{if(l instanceof nu)return H(null);throw l}))),hr(u=>!!u),lr(u=>{if(e0(u))return D2(r,i,o)?H(new kv):Rs(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return Cn(r)!==s&&(s===Z||!zh(i,o,r))?Rs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):Rs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=n0(n,i,o);if(!u)return Rs(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>C2&&(this.allowRedirects=!1));let y=new go(o,l,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,RA(i),Cn(i),i.component??i._loadedComponent??null,i,NA(i)),C=Bh(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(C.params),y.data=Object.freeze(C.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(Ct(A=>this.applyRedirects.lineralizeSegments(i,A)),Le(A=>this.processSegment(e,r,n,A.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=y2(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Ct(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ct(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,C=new go(m,p,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,RA(r),Cn(r),r.component??r._loadedComponent??null,r,NA(r)),M=Bh(C,s,this.paramsInheritanceStrategy);C.params=Object.freeze(M.params),C.data=Object.freeze(M.data);let{segmentGroup:A,slicedSegments:F}=AA(n,m,y,l);if(F.length===0&&A.hasChildren())return this.processChildren(h,l,A,C).pipe(ce(K=>new zt(C,K)));if(l.length===0&&F.length===0)return H(new zt(C,[]));let W=Cn(r)===o;return this.processSegment(h,l,A,F,W?Z:o,!0,C).pipe(ce(K=>new zt(C,K instanceof zt?[K]:[])))}))):Rs(n)))}getChildConfig(e,n,r){return n.children?H({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?H({routes:n._loadedRoutes,injector:n._loadedInjector}):h2(e,n,r,this.urlSerializer).pipe(Le(i=>i?this.configLoader.loadChildren(e,n).pipe(Je(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):g2(n))):H({routes:[],injector:e})}};function b2(t){t.sort((e,n)=>e.value.outlet===Z?-1:n.value.outlet===Z?1:e.value.outlet.localeCompare(n.value.outlet))}function S2(t){let e=t.value.routeConfig;return e&&e.path===""}function r0(t){let e=[],n=new Set;for(let r of t){if(!S2(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=r0(r.children);e.push(new zt(r.value,i))}return e.filter(r=>!n.has(r))}function RA(t){return t.data||{}}function NA(t){return t.resolve||{}}function A2(t,e,n,r,i,o){return Le(s=>T2(t,e,n,r,s.extractedUrl,i,o).pipe(ce(({state:a,tree:u})=>ne(x({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function R2(t,e){return Le(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return H(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of i0(u))s.add(l);let a=0;return be(s).pipe(zr(u=>o.has(u)?N2(u,r,t,e):(u.data=Bh(u,u.parent,t).resolve,H(void 0))),Je(()=>a++),ds(1),Le(u=>a===s.size?H(n):Mt))})}function i0(t){let e=t.children.map(n=>i0(n)).flat();return[t,...e]}function N2(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!QA(i)&&(o[iu]=i.title),Ja(()=>(t.data=Bh(t,t.parent,n).resolve,M2(o,t,e,r).pipe(ce(s=>(t._resolvedData=s,t.data=x(x({},t.data),s),null)))))}function M2(t,e,n,r){let i=Dv(t);if(i.length===0)return H({});let o={};return be(i).pipe(Le(s=>P2(t[s],e,n,r).pipe(hr(),Je(a=>{if(a instanceof Vs)throw $h(new fi,a);o[s]=a}))),ds(1),ce(()=>o),lr(s=>e0(s)?Mt:cs(s)))}function P2(t,e,n,r){let i=Us(e)??r,o=Bs(t,i),s=o.resolve?o.resolve(e,n):$e(i,()=>o(e,n));return Dr(s)}function Iv(t){return Ct(e=>{let n=t(e);return n?be(n).pipe(ce(()=>e)):H(e)})}var Bv=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Z);return r}getResolvedTitleForRoute(n){return n.data[iu]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>N(o0),providedIn:"root"})}return t})(),o0=(()=>{class t extends Bv{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(G(DA))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),mi=new j("",{providedIn:"root",factory:()=>({})}),_o=new j(""),Gh=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=N(Gy);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return H(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Dr($e(n,()=>r.loadComponent())).pipe(ce(a0),Ct(c0),Je(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Xa(()=>{this.componentLoaders.delete(r)})),o=new is(i,()=>new Ue).pipe(rs());return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return H({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=s0(r,this.compiler,n,this.onLoadEndListener).pipe(Xa(()=>{this.childrenLoaders.delete(r)})),s=new is(o,()=>new Ue).pipe(rs());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function s0(t,e,n,r){return Dr($e(n,()=>t.loadChildren())).pipe(ce(a0),Ct(c0),Le(i=>i instanceof th||Array.isArray(i)?H(i):be(e.compileModuleAsync(i))),ce(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(_o,[],{optional:!0,self:!0}).flat()),{routes:s.map(Uv),injector:o}}))}function x2(t){return t&&typeof t=="object"&&"default"in t}function a0(t){return x2(t)?t.default:t}function c0(t){return H(t)}var Wh=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>N(k2),providedIn:"root"})}return t})(),k2=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$v=new j(""),Hv=new j("");function u0(t,e,n){let r=t.get(Hv),i=t.get(He);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),O2(t)));a.ready.catch(l=>{});let{onViewTransitionCreated:u}=r;return u&&$e(t,()=>u({transition:a,from:e,to:n})),s}function O2(t){return new Promise(e=>{Sc({read:()=>setTimeout(e)},{injector:t})})}var qv=new j(""),Kh=(()=>{class t{currentNavigation=nn(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Ue;transitionAbortWithErrorSubject=new Ue;configLoader=N(Gh);environmentInjector=N(Ve);destroyRef=N(_n);urlSerializer=N(yo);rootContexts=N(vo);location=N(di);inputBindingEnabled=N(ou,{optional:!0})!==null;titleStrategy=N(Bv);options=N(mi,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=N(Wh);createViewTransition=N($v,{optional:!0});navigationErrorHandler=N(qv,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>H(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new xh(i)),r=i=>this.events.next(new kh(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;et(()=>{this.transitions?.next(ne(x({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(n){return this.transitions=new st(null),this.transitions.pipe(xt(r=>r!==null),Ct(r=>{let i=!1;return H(r).pipe(Ct(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Rt.SupersededByNewNavigation),Mt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ne(x({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new Gn(o.id,this.urlSerializer.serialize(o.rawUrl),"",ks.IgnoredSameUrlNavigation)),o.resolve(!1),Mt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return H(o).pipe(Ct(u=>(this.events.next(new gi(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Mt:Promise.resolve(u))),A2(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Je(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let l=new Zc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:m}=o,y=new gi(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let C=WA(this.rootComponentType).snapshot;return this.currentTransition=r=ne(x({},o),{targetSnapshot:C,urlAfterRedirects:l,extras:ne(x({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(M=>(M.finalUrl=l,M)),H(r)}else return this.events.next(new Gn(o.id,this.urlSerializer.serialize(o.extractedUrl),"",ks.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Mt}),Je(o=>{let s=new Rh(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),ce(o=>(this.currentTransition=r=ne(x({},o),{guards:Wj(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),i2(this.environmentInjector,o=>this.events.next(o)),Je(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw $h(this.urlSerializer,o.guardsResult);let s=new Nh(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),xt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Rt.GuardRejected),!1)),Iv(o=>{if(o.guards.canActivateChecks.length!==0)return H(o).pipe(Je(s=>{let a=new Mh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),Ct(s=>{let a=!1;return H(s).pipe(R2(this.paramsInheritanceStrategy,this.environmentInjector),Je({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Rt.NoDataFromResolver)}}))}),Je(s=>{let a=new Ph(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),Iv(o=>{let s=a=>{let u=[];if(a.routeConfig?.loadComponent){let l=Us(a)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(Je(h=>{a.component=h}),ce(()=>{})))}for(let l of a.children)u.push(...s(l));return u};return Za(s(o.targetSnapshot.root)).pipe(Gr(null),dr(1))}),Iv(()=>this.afterPreactivation()),Ct(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?be(a).pipe(ce(()=>r)):H(r)}),ce(o=>{let s=$j(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ne(x({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),Je(()=>{this.events.next(new Jc)}),Gj(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),dr(1),td(new re(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(xt(()=>!i&&!r.targetRouterState),Je(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Rt.Aborted)}))),Je({next:o=>{i=!0,this.lastSuccessfulNavigation=et(this.currentNavigation),this.events.next(new un(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),td(this.transitionAbortWithErrorSubject.pipe(Je(o=>{throw o}))),Xa(()=>{i||this.cancelNavigationTransition(r,"",Rt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),lr(o=>{if(this.destroyed)return r.resolve(!1),Mt;if(i=!0,XA(o))this.events.next(new qn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),zj(o)?this.events.next(new Ls(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Os(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=$e(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Vs){let{message:u,cancellationCode:l}=$h(this.urlSerializer,a);this.events.next(new qn(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new Ls(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Mt}))}))}cancelNavigationTransition(n,r,i){let o=new qn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=et(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function F2(t){return t!==Ps}var l0=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>N(L2),providedIn:"root"})}return t})(),qh=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},L2=(()=>{class t extends qh{static \u0275fac=(()=>{let n;return function(i){return(n||(n=rn(t)))(i||t)}})();static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),d0=(()=>{class t{urlSerializer=N(yo);options=N(mi,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=N(di);urlHandlingStrategy=N(Wh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new zn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof zn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=WA(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>N(V2),providedIn:"root"})}return t})(),V2=(()=>{class t extends d0{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof gi?this.updateStateMemento():n instanceof Gn?this.commitTransition(r):n instanceof Zc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Jc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof qn&&n.code!==Rt.SupersededByNewNavigation&&n.code!==Rt.Redirect?this.restoreHistory(r):n instanceof Os?this.restoreHistory(r,!0):n instanceof un&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,u=x(x({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",u)}else{let a=x(x({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=rn(t)))(i||t)}})();static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Qh(t,e){t.events.pipe(xt(n=>n instanceof un||n instanceof qn||n instanceof Os||n instanceof Gn),ce(n=>n instanceof un||n instanceof Gn?0:(n instanceof qn?n.code===Rt.Redirect||n.code===Rt.SupersededByNewNavigation:!1)?2:1),xt(n=>n!==2),dr(1)).subscribe(()=>{e()})}var j2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},U2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Kn=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=N(Ly);stateManager=N(d0);options=N(mi,{optional:!0})||{};pendingTasks=N(Vn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=N(Kh);urlSerializer=N(yo);location=N(di);urlHandlingStrategy=N(Wh);injector=N(Ve);_events=new Ue;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=N(l0);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=N(_o,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!N(ou,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new xe;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=et(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof qn&&r.code!==Rt.Redirect&&r.code!==Rt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof un)this.navigated=!0;else if(r instanceof Ls){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=x({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||F2(i.source)},s);this.scheduleNavigation(a,Ps,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Vj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ps,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=x({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(kt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return et(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Uv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=x(x({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=HA(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return qA(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=pi(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ps,null,r)}navigate(n,r={skipLocationChange:!1}){return B2(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(Yr(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=x({},j2):r===!1?i=x({},U2):i=r,pi(n))return TA(this.currentUrlTree,n,i);let o=this.parseUrl(n);return TA(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return Qh(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function B2(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new L(4008,!1)}var h0=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=nn(null);get href(){return et(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ue;applicationErrorHandler=N(kt);options=N(mi,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(N(new oh("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof un&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(pi(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:pi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(q(Kn),q(Wn),Cc("tabindex"),q(on),q($t),q(Dn))};static \u0275dir=Ee({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&In("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&ci("href",i.reactiveHref(),gy)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",li],skipLocationChange:[2,"skipLocationChange","skipLocationChange",li],replaceUrl:[2,"replaceUrl","replaceUrl",li],routerLink:"routerLink"},features:[vr]})}return t})();var au=class{};var f0=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(n,r,i,o){this.router=n,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(xt(n=>n instanceof un),zr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Ss(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return be(i).pipe(us())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=H(null);let o=i.pipe(Le(s=>s===null?H(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(n,r);return be([o,s]).pipe(us())}else return o})}static \u0275fac=function(r){return new(r||t)(G(Kn),G(Ve),G(au),G(Gh))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),p0=new j(""),$2=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Ps;restoredId=0;store={};constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof gi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof un?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Gn&&n.code===ks.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{if(!(n instanceof Fs))return;let r={behavior:"instant"};n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position,r):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(async()=>{await new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new Fs(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){xy()};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})();function H2(t,...e){return Yt([{provide:_o,multi:!0,useValue:t},[],{provide:Wn,useFactory:g0,deps:[Kn]},{provide:Nc,multi:!0,useFactory:m0},e.map(n=>n.\u0275providers)])}function g0(t){return t.routerState.root}function cu(t,e){return{\u0275kind:t,\u0275providers:e}}function m0(){let t=N(Re);return e=>{let n=t.get(_r);if(e!==n.components[0])return;let r=t.get(Kn),i=t.get(y0);t.get(Gv)===1&&r.initialNavigation(),t.get(E0,null,{optional:!0})?.setUpPreloading(),t.get(p0,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var y0=new j("",{factory:()=>new Ue}),Gv=new j("",{providedIn:"root",factory:()=>1});function v0(){let t=[{provide:hy,useValue:!0},{provide:Gv,useValue:0},nh(()=>{let e=N(Re);return e.get(nv,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(Kn),o=e.get(y0);Qh(i,()=>{r(!0)}),e.get(Kh).afterPreactivation=()=>(r(!0),o.closed?H(void 0):o),i.initialNavigation()}))})];return cu(2,t)}function _0(){let t=[nh(()=>{N(Kn).setUpLocationChangeListener()}),{provide:Gv,useValue:2}];return cu(3,t)}var E0=new j("");function I0(t){return cu(0,[{provide:E0,useExisting:f0},{provide:au,useExisting:t}])}function w0(){return cu(8,[Vv,{provide:ou,useExisting:Vv}])}function D0(t){Bn("NgRouterViewTransitions");let e=[{provide:$v,useValue:u0},{provide:Hv,useValue:x({skipNextTransition:!!t?.skipInitialTransition},t)}];return cu(9,e)}var T0=[di,{provide:yo,useClass:fi},Kn,vo,{provide:Wn,useFactory:g0,deps:[Kn]},Gh,[]],q2=(()=>{class t{constructor(){}static forRoot(n,r){return{ngModule:t,providers:[T0,[],{provide:_o,multi:!0,useValue:n},[],r?.errorHandler?{provide:qv,useValue:r.errorHandler}:[],{provide:mi,useValue:r||{}},r?.useHash?G2():W2(),z2(),r?.preloadingStrategy?I0(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?K2(r):[],r?.bindToComponentInputs?w0().\u0275providers:[],r?.enableViewTransitions?D0().\u0275providers:[],Q2()]}}static forChild(n){return{ngModule:t,providers:[{provide:_o,multi:!0,useValue:n}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=$n({type:t});static \u0275inj=gn({})}return t})();function z2(){return{provide:p0,useFactory:()=>{let t=N(gA),e=N(pe),n=N(mi),r=N(Kh),i=N(yo);return n.scrollOffset&&t.setOffset(n.scrollOffset),new $2(i,r,t,e,n)}}}function G2(){return{provide:Dn,useClass:av}}function W2(){return{provide:Dn,useClass:uh}}function K2(t){return[t.initialNavigation==="disabled"?_0().\u0275providers:[],t.initialNavigation==="enabledBlocking"?v0().\u0275providers:[]]}var zv=new j("");function Q2(){return[{provide:zv,useFactory:m0},{provide:Nc,multi:!0,useExisting:zv}]}var k0=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(q(on),q($t))};static \u0275dir=Ee({type:t})}return t})(),pu=(()=>{class t extends k0{static \u0275fac=(()=>{let n;return function(i){return(n||(n=rn(t)))(i||t)}})();static \u0275dir=Ee({type:t,features:[vt]})}return t})(),Gs=new j("");var Y2={provide:Gs,useExisting:St(()=>O0),multi:!0};function Z2(){let t=an()?an().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var J2=new j(""),O0=(()=>{class t extends k0{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!Z2())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(q(on),q($t),q(J2,8))};static \u0275dir=Ee({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&In("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[sn([Y2]),vt]})}return t})();function X2(t){return t==null||F0(t)===0}function F0(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var gu=new j(""),L0=new j("");function eU(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function tU(t){return X2(t.value)?{required:!0}:null}function nU(t){return e=>{let n=e.value?.length??F0(e.value);return n!==null&&n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}function C0(t){return null}function V0(t){return t!=null}function j0(t){return ai(t)?be(t):t}function U0(t){let e={};return t.forEach(n=>{e=n!=null?x(x({},e),n):e}),Object.keys(e).length===0?null:e}function B0(t,e){return e.map(n=>n(t))}function rU(t){return!t.validate}function $0(t){return t.map(e=>rU(e)?e:n=>e.validate(n))}function iU(t){if(!t)return null;let e=t.filter(V0);return e.length==0?null:function(n){return U0(B0(n,e))}}function Qv(t){return t!=null?iU($0(t)):null}function oU(t){if(!t)return null;let e=t.filter(V0);return e.length==0?null:function(n){let r=B0(n,e).map(j0);return Rg(r).pipe(ce(U0))}}function Yv(t){return t!=null?oU($0(t)):null}function b0(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function sU(t){return t._rawValidators}function aU(t){return t._rawAsyncValidators}function Wv(t){return t?Array.isArray(t)?t:[t]:[]}function Zh(t,e){return Array.isArray(t)?t.includes(e):t===e}function S0(t,e){let n=Wv(e);return Wv(t).forEach(i=>{Zh(n,i)||n.push(i)}),n}function A0(t,e){return Wv(e).filter(n=>!Zh(t,n))}var Jh=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Qv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Yv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},qs=class extends Jh{name;get formDirective(){return null}get path(){return null}},zs=class extends Jh{_parent=null;name=null;valueAccessor=null},Xh=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},cU={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Jre=ne(x({},cU),{"[class.ng-submitted]":"isSubmitted"}),Xre=(()=>{class t extends Xh{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(q(zs,2))};static \u0275dir=Ee({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Pc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[vt]})}return t})(),eie=(()=>{class t extends Xh{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(q(qs,10))};static \u0275dir=Ee({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Pc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[vt]})}return t})();var uu="VALID",Yh="INVALID",$s="PENDING",lu="DISABLED",yi=class{},ef=class extends yi{value;source;constructor(e,n){super(),this.value=e,this.source=n}},hu=class extends yi{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},fu=class extends yi{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},Hs=class extends yi{status;source;constructor(e,n){super(),this.status=e,this.source=n}},Kv=class extends yi{source;constructor(e){super(),this.source=e}},tf=class extends yi{source;constructor(e){super(),this.source=e}};function H0(t){return(of(t)?t.validators:t)||null}function uU(t){return Array.isArray(t)?Qv(t):t||null}function q0(t,e){return(of(e)?e.asyncValidators:t)||null}function lU(t){return Array.isArray(t)?Yv(t):t||null}function of(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function dU(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new L(1e3,"");if(!r[n])throw new L(1001,"")}function hU(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new L(1002,"")})}var nf=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return et(this.statusReactive)}set status(e){et(()=>this.statusReactive.set(e))}_status=As(()=>this.statusReactive());statusReactive=nn(void 0);get valid(){return this.status===uu}get invalid(){return this.status===Yh}get pending(){return this.status==$s}get disabled(){return this.status===lu}get enabled(){return this.status!==lu}errors;get pristine(){return et(this.pristineReactive)}set pristine(e){et(()=>this.pristineReactive.set(e))}_pristine=As(()=>this.pristineReactive());pristineReactive=nn(!0);get dirty(){return!this.pristine}get touched(){return et(this.touchedReactive)}set touched(e){et(()=>this.touchedReactive.set(e))}_touched=As(()=>this.touchedReactive());touchedReactive=nn(!1);get untouched(){return!this.touched}_events=new Ue;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(S0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(S0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(A0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(A0(e,this._rawAsyncValidators))}hasValidator(e){return Zh(this._rawValidators,e)}hasAsyncValidator(e){return Zh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ne(x({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new fu(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new fu(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ne(x({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new hu(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new hu(!0,r))}markAsPending(e={}){this.status=$s;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Hs(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ne(x({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=lu,this.errors=null,this._forEachChild(i=>{i.disable(ne(x({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ef(this.value,r)),this._events.next(new Hs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ne(x({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=uu,this._forEachChild(r=>{r.enable(ne(x({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ne(x({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===uu||this.status===$s)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ef(this.value,n)),this._events.next(new Hs(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ne(x({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?lu:uu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=$s,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=j0(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Hs(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new qe,this.statusChanges=new qe}_calculateStatus(){return this._allControlsDisabled()?lu:this.errors?Yh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($s)?$s:this._anyControlsHaveStatus(Yh)?Yh:uu}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new hu(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new fu(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){of(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=uU(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=lU(this._rawAsyncValidators)}},rf=class extends nf{constructor(e,n,r){super(H0(n),q0(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){hU(this,!0,e),Object.keys(e).forEach(r=>{dU(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new tf(this))}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var sf=new j("",{providedIn:"root",factory:()=>af}),af="always";function fU(t,e){return[...e.path,t]}function z0(t,e,n=af){G0(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),gU(t,e),yU(t,e),mU(t,e),pU(t,e)}function R0(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function pU(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function G0(t,e){let n=sU(t);e.validator!==null?t.setValidators(b0(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=aU(t);e.asyncValidator!==null?t.setAsyncValidators(b0(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();R0(e._rawValidators,i),R0(e._rawAsyncValidators,i)}function gU(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&W0(t,e)})}function mU(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&W0(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function W0(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function yU(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function vU(t,e){t==null,G0(t,e)}function _U(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function EU(t){return Object.getPrototypeOf(t.constructor)===pu}function IU(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function wU(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===O0?n=o:EU(o)?r=o:i=o}),i||r||n||null}var DU={provide:qs,useExisting:St(()=>TU)},du=Promise.resolve(),TU=(()=>{class t extends qs{callSetDisabledState;get submitted(){return et(this.submittedReactive)}_submitted=As(()=>this.submittedReactive());submittedReactive=nn(!1);_directives=new Set;form;ngSubmit=new qe;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new rf({},Qv(n),Yv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){du.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),z0(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){du.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){du.then(()=>{let r=this._findContainer(n.path),i=new rf({});vU(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){du.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){du.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),IU(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new Kv(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(q(gu,10),q(L0,10),q(sf,8))};static \u0275dir=Ee({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&In("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[sn([DU]),vt]})}return t})();function N0(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function M0(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var CU=class extends nf{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(H0(n),q0(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),of(n)&&(n.nonNullable||n.initialValueIsDefault)&&(M0(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new tf(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){N0(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){N0(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){M0(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var bU={provide:zs,useExisting:St(()=>SU)},P0=Promise.resolve(),SU=(()=>{class t extends zs{_changeDetectorRef;callSetDisabledState;control=new CU;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new qe;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=wU(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),_U(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){z0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){P0.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&li(r);P0.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?fU(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(q(qs,9),q(gu,10),q(L0,10),q(Gs,10),q(ui,8),q(sf,8))};static \u0275dir=Ee({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[sn([bU]),vt,vr]})}return t})();var nie=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ee({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),AU={provide:Gs,useExisting:St(()=>RU),multi:!0},RU=(()=>{class t extends pu{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=rn(t)))(i||t)}})();static \u0275dir=Ee({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&In("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[sn([AU]),vt]})}return t})(),NU={provide:Gs,useExisting:St(()=>PU),multi:!0};var MU=(()=>{class t{_accessors=[];add(n,r){this._accessors.push([n,r])}remove(n){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===n){this._accessors.splice(r,1);return}}select(n){this._accessors.forEach(r=>{this._isSameGroup(r,n)&&r[1]!==n&&r[1].fireUncheck(n.value)})}_isSameGroup(n,r){return n[0].control?n[0]._parent===r._control._parent&&n[1].name===r.name:!1}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),PU=(()=>{class t extends pu{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=N(sf,{optional:!0})??af;constructor(n,r,i,o){super(n,r),this._registry=i,this._injector=o}ngOnInit(){this._control=this._injector.get(zs),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(n){this._state=n===this.value,this.setProperty("checked",this._state)}registerOnChange(n){this._fn=n,this.onChange=()=>{n(this.value),this._registry.select(this)}}setDisabledState(n){(this.setDisabledStateFired||n||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",n),this.setDisabledStateFired=!0}fireUncheck(n){this.writeValue(n)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(r){return new(r||t)(q(on),q($t),q(MU),q(Re))};static \u0275dir=Ee({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&In("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[sn([NU]),vt]})}return t})();var xU={provide:Gs,useExisting:St(()=>Q0),multi:!0};function K0(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function kU(t){return t.split(":")[0]}var Q0=(()=>{class t extends pu{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=N(_r).injector;destroyRef=N(_n);cdr=N(ui);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Sc({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),i=K0(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=kU(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=rn(t)))(i||t)}})();static \u0275dir=Ee({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&In("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[sn([xU]),vt]})}return t})(),rie=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(K0(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||t)(q($t),q(on),q(Q0,9))};static \u0275dir=Ee({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),OU={provide:Gs,useExisting:St(()=>Y0),multi:!0};function x0(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function FU(t){return t.split(":")[0]}var Y0=(()=>{class t extends pu{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],l=this._getOptionValue(u.value);i.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let l=this._getOptionValue(u.value);i.push(l)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=FU(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=rn(t)))(i||t)}})();static \u0275dir=Ee({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&In("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[sn([OU]),vt]})}return t})(),iie=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(x0(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(x0(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(q($t),q(on),q(Y0,9))};static \u0275dir=Ee({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();function LU(t){return typeof t=="number"?t:parseInt(t,10)}function VU(t){return typeof t=="number"?t:parseFloat(t)}var Zv=(()=>{class t{_validator=C0;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):C0,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ee({type:t,features:[vr]})}return t})();var jU={provide:gu,useExisting:St(()=>UU),multi:!0},UU=(()=>{class t extends Zv{min;inputName="min";normalizeInput=n=>VU(n);createValidator=n=>eU(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=rn(t)))(i||t)}})();static \u0275dir=Ee({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&ci("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[sn([jU]),vt]})}return t})(),BU={provide:gu,useExisting:St(()=>$U),multi:!0};var $U=(()=>{class t extends Zv{required;inputName="required";normalizeInput=li;createValidator=n=>tU;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=rn(t)))(i||t)}})();static \u0275dir=Ee({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&ci("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[sn([BU]),vt]})}return t})();var HU={provide:gu,useExisting:St(()=>qU),multi:!0},qU=(()=>{class t extends Zv{maxlength;inputName="maxlength";normalizeInput=n=>LU(n);createValidator=n=>nU(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=rn(t)))(i||t)}})();static \u0275dir=Ee({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&ci("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[sn([HU]),vt]})}return t})();var zU=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=$n({type:t});static \u0275inj=gn({})}return t})();var oie=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:sf,useValue:n.callSetDisabledState??af}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=$n({type:t});static \u0275inj=gn({imports:[zU]})}return t})();var Z0=()=>{};var eR=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},GU=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},cf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Xv;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Xv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},WU=function(t){let e=eR(t);return cf.encodeByteArray(e,!0)},yu=function(t){return WU(t).replace(/\./g,"")},uf=function(t){try{return cf.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function t_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var KU=()=>t_().__FIREBASE_DEFAULTS__,QU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},YU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&uf(t[1]);return e&&JSON.parse(e)},lf=()=>{try{return Z0()||KU()||QU()||YU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},n_=t=>{var e,n;return(n=(e=lf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},tR=t=>{let e=n_(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},r_=()=>{var t;return(t=lf())===null||t===void 0?void 0:t.config},i_=t=>{var e;return(e=lf())===null||e===void 0?void 0:e[`_${t}`]};var Eo=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function vi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function df(t){return(await fetch(t,{credentials:"include"})).ok}function nR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[yu(JSON.stringify(n)),yu(JSON.stringify(s)),""].join(".")}var mu={};function ZU(){let t={prod:[],emulator:[]};for(let e of Object.keys(mu))mu[e]?t.emulator.push(e):t.prod.push(e);return t}function JU(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var J0=!1;function hf(t,e){if(typeof window>"u"||typeof document>"u"||!vi(window.location.host)||mu[t]===e||mu[t]||J0)return;mu[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=ZU().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{J0=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=JU(r),y=n("text"),C=document.getElementById(y)||document.createElement("span"),M=n("learnmore"),A=document.getElementById(M)||document.createElement("a"),F=n("preprendIcon"),W=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let K=m.element;a(K),h(A,M);let we=l();u(W,F),K.append(W,C,A,we),document.body.appendChild(K)}o?(C.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tt())}function XU(){var t;let e=(t=lf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oR(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function sR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aR(){let t=tt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cR(){return!XU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vu(){try{return typeof indexedDB=="object"}catch{return!1}}function uR(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var eB="FirebaseError",Wt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eB,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bn.prototype.create)}},bn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?tB(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Wt(i,a,r)}};function tB(t,e){return t.replace(nB,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var nB=/\{\$([^}]+)}/g;function lR(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Qn(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(X0(o)&&X0(s)){if(!Qn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function X0(t){return t!==null&&typeof t=="object"}function _u(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ws(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ks(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function dR(t,e){let n=new e_(t,e);return n.subscribe.bind(n)}var e_=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Jv),i.error===void 0&&(i.error=Jv),i.complete===void 0&&(i.complete=Jv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function rB(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Jv(){}var lie=14400*1e3;function Ne(t){return t&&t._delegate?t._delegate:t}var Nt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Io="[DEFAULT]";var o_=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Eo;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oB(e))try{this.getOrInitializeService({instanceIdentifier:Io})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Io){return this.instances.has(e)}getOptions(e=Io){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:iB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Io){return this.component?this.component.multipleInstances?e:Io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function iB(t){return t===Io?void 0:t}function oB(t){return t.instantiationMode==="EAGER"}var ff=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new o_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var sB=[],se=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(se||{}),aB={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},cB=se.INFO,uB={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},lB=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=uB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Yn=class{constructor(e){this.name=e,this._logLevel=cB,this._logHandler=lB,this._userLogHandler=null,sB.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}};var dB=(t,e)=>e.some(n=>t instanceof n),hR,fR;function hB(){return hR||(hR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fB(){return fR||(fR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var pR=new WeakMap,a_=new WeakMap,gR=new WeakMap,s_=new WeakMap,u_=new WeakMap;function pB(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Zn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&pR.set(n,t)}).catch(()=>{}),u_.set(e,t),e}function gB(t){if(a_.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});a_.set(t,e)}var c_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return a_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mR(t){c_=t(c_)}function mB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(pf(this),e,...n);return gR.set(r,e.sort?e.sort():[e]),Zn(r)}:fB().includes(t)?function(...e){return t.apply(pf(this),e),Zn(pR.get(this))}:function(...e){return Zn(t.apply(pf(this),e))}}function yB(t){return typeof t=="function"?mB(t):(t instanceof IDBTransaction&&gB(t),dB(t,hB())?new Proxy(t,c_):t)}function Zn(t){if(t instanceof IDBRequest)return pB(t);if(s_.has(t))return s_.get(t);let e=yB(t);return e!==t&&(s_.set(t,e),u_.set(e,t)),e}var pf=t=>u_.get(t);function vR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Zn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Zn(s.result),u.oldVersion,u.newVersion,Zn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var vB=["get","getKey","getAll","getAllKeys","count"],_B=["put","add","delete","clear"],l_=new Map;function yR(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(l_.get(e))return l_.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=_B.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||vB.includes(n)))return;let o=async function(s,...a){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return l_.set(e,o),o}mR(t=>ne(x({},t),{get:(e,n,r)=>yR(e,n)||t.get(e,n,r),has:(e,n)=>!!yR(e,n)||t.has(e,n)}));var h_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(EB(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function EB(t){let e=t.getComponent();return e?.type==="VERSION"}var f_="@firebase/app",_R="0.13.2";var Tr=new Yn("@firebase/app"),IB="@firebase/app-compat",wB="@firebase/analytics-compat",DB="@firebase/analytics",TB="@firebase/app-check-compat",CB="@firebase/app-check",bB="@firebase/auth",SB="@firebase/auth-compat",AB="@firebase/database",RB="@firebase/data-connect",NB="@firebase/database-compat",MB="@firebase/functions",PB="@firebase/functions-compat",xB="@firebase/installations",kB="@firebase/installations-compat",OB="@firebase/messaging",FB="@firebase/messaging-compat",LB="@firebase/performance",VB="@firebase/performance-compat",jB="@firebase/remote-config",UB="@firebase/remote-config-compat",BB="@firebase/storage",$B="@firebase/storage-compat",HB="@firebase/firestore",qB="@firebase/ai",zB="@firebase/firestore-compat",GB="firebase",WB="11.10.0";var p_="[DEFAULT]",KB={[f_]:"fire-core",[IB]:"fire-core-compat",[DB]:"fire-analytics",[wB]:"fire-analytics-compat",[CB]:"fire-app-check",[TB]:"fire-app-check-compat",[bB]:"fire-auth",[SB]:"fire-auth-compat",[AB]:"fire-rtdb",[RB]:"fire-data-connect",[NB]:"fire-rtdb-compat",[MB]:"fire-fn",[PB]:"fire-fn-compat",[xB]:"fire-iid",[kB]:"fire-iid-compat",[OB]:"fire-fcm",[FB]:"fire-fcm-compat",[LB]:"fire-perf",[VB]:"fire-perf-compat",[jB]:"fire-rc",[UB]:"fire-rc-compat",[BB]:"fire-gcs",[$B]:"fire-gcs-compat",[HB]:"fire-fst",[zB]:"fire-fst-compat",[qB]:"fire-vertex","fire-js":"fire-js",[GB]:"fire-js-all"};var Eu=new Map,QB=new Map,g_=new Map;function ER(t,e){try{t.container.addComponent(e)}catch(n){Tr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sn(t){let e=t.name;if(g_.has(e))return Tr.debug(`There were multiple attempts to register component ${e}.`),!1;g_.set(e,t);for(let n of Eu.values())ER(n,t);for(let n of QB.values())ER(n,t);return!0}function Qs(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ft(t){return t==null?!1:t.settings!==void 0}var YB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_i=new bn("app","Firebase",YB);var m_=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _i.create("app-deleted",{appName:this._name})}};var Ei=WB;function __(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:p_,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw _i.create("bad-app-name",{appName:String(i)});if(n||(n=r_()),!n)throw _i.create("no-options");let o=Eu.get(i);if(o){if(Qn(n,o.options)&&Qn(r,o.config))return o;throw _i.create("duplicate-app",{appName:i})}let s=new ff(i);for(let u of g_.values())s.addComponent(u);let a=new m_(n,r,s);return Eu.set(i,a),a}function wo(t=p_){let e=Eu.get(t);if(!e&&t===p_&&r_())return __();if(!e)throw _i.create("no-app",{appName:t});return e}function gf(){return Array.from(Eu.values())}function Oe(t,e,n){var r;let i=(r=KB[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tr.warn(a.join(" "));return}Sn(new Nt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var ZB="firebase-heartbeat-database",JB=1,Iu="firebase-heartbeat-store",d_=null;function TR(){return d_||(d_=vR(ZB,JB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Iu)}catch(n){console.warn(n)}}}}).catch(t=>{throw _i.create("idb-open",{originalErrorMessage:t.message})})),d_}async function XB(t){try{let n=(await TR()).transaction(Iu),r=await n.objectStore(Iu).get(CR(t));return await n.done,r}catch(e){if(e instanceof Wt)Tr.warn(e.message);else{let n=_i.create("idb-get",{originalErrorMessage:e?.message});Tr.warn(n.message)}}}async function IR(t,e){try{let r=(await TR()).transaction(Iu,"readwrite");await r.objectStore(Iu).put(e,CR(t)),await r.done}catch(n){if(n instanceof Wt)Tr.warn(n.message);else{let r=_i.create("idb-set",{originalErrorMessage:n?.message});Tr.warn(r.message)}}}function CR(t){return`${t.name}!${t.options.appId}`}var e$=1024,t$=30,y_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new v_(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=wR();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>t$){let s=r$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Tr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=wR(),{heartbeatsToSend:r,unsentEntries:i}=n$(this._heartbeatsCache.heartbeats),o=yu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Tr.warn(n),""}}};function wR(){return new Date().toISOString().substring(0,10)}function n$(t,e=e$){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),DR(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),DR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var v_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vu()?uR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await XB(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return IR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return IR(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function DR(t){return yu(JSON.stringify({version:2,heartbeats:t})).length}function r$(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function i$(t){Sn(new Nt("platform-logger",e=>new h_(e),"PRIVATE")),Sn(new Nt("heartbeat",e=>new y_(e),"PRIVATE")),Oe(f_,_R,t),Oe(f_,_R,"esm2017"),Oe("fire-js","")}i$("");var o$="firebase",s$="11.10.0";Oe(o$,s$,"app");function bR(t){t===void 0&&(t=N(Re));let e=t.get(Es);return n=>new re(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Ii=new Wr("ANGULARFIRE2_VERSION");function wu(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Zs=(t,e)=>{let n=e?[e]:gf(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ys=(function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t})(Ys||{}),SR=Xy()&&typeof Zone<"u"?Ys.WARN:Ys.SILENT;var mf=class{zone;delegate;constructor(e,n=bg){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},wi=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=N(pe);this.outsideAngular=n.runOutsideAngular(()=>new mf(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new mf(typeof Zone>"u"?void 0:Zone.current,Cg))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),AR=!1;function a$(t,e){!AR&&(SR>Ys.SILENT||Xy())&&(AR=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),SR>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function c$(t){let e=N(pe,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function Do(t){let e=N(pe,{optional:!0});return e?e.run(()=>t()):t()}var u$=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),$e(n,()=>Do(()=>t.apply(void 0,r)))),Me=(t,e,n)=>(n||=e?Ys.WARN:Ys.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=N(wi),s=N(Es),a=N(Ve)}catch{return a$(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Do(()=>s.add())),i[l]=u$(i[l],r,a));let u=c$(()=>t.apply(this,i));return e?u instanceof re?u.pipe(qr(o.outsideAngular),Hr(o.insideAngular),bR(a)):u instanceof Promise?Do(()=>{let l=s.add();return new Promise((h,p)=>{u.then(m=>$e(a,()=>Do(()=>h(m))),m=>$e(a,()=>Do(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Do(()=>u):u instanceof re?u.pipe(qr(o.outsideAngular),Hr(o.insideAngular)):Do(()=>u)});var Cr=class{constructor(e){return e}},To=class{constructor(){return gf()}};function l$(t){return t&&t.length===1?t[0]:new Cr(wo())}var E_=new j("angularfire2._apps"),d$={provide:Cr,useFactory:l$,deps:[[new Bt,E_]]},h$={provide:To,deps:[[new Bt,E_]]};function f$(t){return(e,n)=>{let r=n.get(lo);Oe("angularfire",Ii.full,"core"),Oe("angularfire",Ii.full,"app"),Oe("angular",zg.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Cr(i)}}function noe(t,...e){return Yt([d$,h$,{provide:E_,useFactory:f$(t),multi:!0,deps:[pe,Re,wi,...e]}])}var roe=Me(__,!0);function qR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var zR=qR,GR=new bn("auth","Firebase",qR());var wf=new Yn("@firebase/auth");function p$(t,...e){wf.logLevel<=se.WARN&&wf.warn(`Auth (${Ei}): ${t}`,...e)}function vf(t,...e){wf.logLevel<=se.ERROR&&wf.error(`Auth (${Ei}): ${t}`,...e)}function Xn(t,...e){throw z_(t,...e)}function Co(t,...e){return z_(t,...e)}function WR(t,e,n){let r=Object.assign(Object.assign({},zR()),{[e]:n});return new bn("auth","Firebase",r).create(e,{appName:t.name})}function Ar(t){return WR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function z_(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return GR.create(t,...e)}function z(t,e,...n){if(!t)throw z_(e,...n)}function br(t){let e="INTERNAL ASSERTION FAILED: "+t;throw vf(e),new Error(e)}function Ci(t,e){t||br(e)}function T_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function g$(){return RR()==="http:"||RR()==="https:"}function RR(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function m$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(g$()||oR()||"connection"in navigator)?navigator.onLine:!0}function y$(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var bo=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ci(n>e,"Short delay should be less than long delay!"),this.isMobile=rR()||sR()}get(){return m$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function G_(t,e){Ci(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Df=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;br("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;br("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;br("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var v$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var _$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],E$=new bo(3e4,6e4);function bi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Rr(t,e,n,r,i={}){return KR(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let a=_u(Object.assign({key:t.config.apiKey},s)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);let l=Object.assign({method:e,headers:u},o);return iR()||(l.referrerPolicy="no-referrer"),t.emulatorConfig&&vi(t.emulatorConfig.host)&&(l.credentials="include"),Df.fetch()(await QR(t,t.config.apiHost,n,a),l)})}async function KR(t,e,n){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},v$),e);try{let i=new C_(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw yf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw yf(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw yf(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw yf(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw WR(t,h,l);Xn(t,h)}}catch(i){if(i instanceof Wt)throw i;Xn(t,"network-request-failed",{message:String(i)})}}async function Nu(t,e,n,r,i={}){let o=await Rr(t,e,n,r,i);return"mfaPendingCredential"in o&&Xn(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function QR(t,e,n,r){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?G_(t.config,i):`${t.config.apiScheme}://${i}`;return _$.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function I$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var C_=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Co(this.auth,"network-request-failed")),E$.get())})}};function yf(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Co(t,e,r);return i.customData._tokenResponse=n,i}function NR(t){return t!==void 0&&t.enterprise!==void 0}var b_=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return I$(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function w$(t,e){return Rr(t,"GET","/v2/recaptchaConfig",bi(t,e))}async function D$(t,e){return Rr(t,"POST","/v1/accounts:delete",e)}async function Tf(t,e){return Rr(t,"POST","/v1/accounts:lookup",e)}function Tu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function W_(t,e=!1){let n=Ne(t),r=await n.getIdToken(e),i=K_(r);z(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Tu(I_(i.auth_time)),issuedAtTime:Tu(I_(i.iat)),expirationTime:Tu(I_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function I_(t){return Number(t)*1e3}function K_(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vf("JWT malformed, contained fewer than 3 sections"),null;try{let i=uf(n);return i?JSON.parse(i):(vf("Failed to decode base64 JWT payload"),null)}catch(i){return vf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function MR(t){let e=K_(t);return z(e,"internal-error"),z(typeof e.exp<"u","internal-error"),z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Js(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Wt&&T$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function T$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var S_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var bu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tu(this.lastLoginAt),this.creationTime=Tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function Cf(t){var e;let n=t.auth,r=await t.getIdToken(),i=await Js(t,Tf(n,{idToken:r}));z(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?YR(o.providerUserInfo):[],a=C$(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new bu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function Q_(t){let e=Ne(t);await Cf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function C$(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function YR(t){return t.map(e=>{var{providerId:n}=e,r=Sg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function b$(t,e){let n=await KR(t,{},async()=>{let r=_u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await QR(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return t.emulatorConfig&&vi(t.emulatorConfig.host)&&(u.credentials="include"),Df.fetch()(s,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function S$(t,e){return Rr(t,"POST","/v2/accounts:revokeToken",bi(t,e))}var Cu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){z(e.idToken,"internal-error"),z(typeof e.idToken<"u","internal-error"),z(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):MR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){z(e.length!==0,"internal-error");let n=MR(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){let{accessToken:r,refreshToken:i,expiresIn:o}=await b$(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(z(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(z(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(z(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return br("not implemented")}};function Di(t,e){z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ti=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Sg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new S_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new bu(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){let n=await Js(this,this.stsTokenManager.getToken(this.auth,e));return z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return W_(this,e)}reload(){return Q_(this)}_assign(e){this!==e&&(z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Cf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ft(this.auth.app))return Promise.reject(Ar(this.auth));let e=await this.getIdToken();return await Js(this,D$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,C=(s=n.photoURL)!==null&&s!==void 0?s:void 0,M=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,W=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:K,emailVerified:we,isAnonymous:wt,providerData:ve,stsTokenManager:w}=n;z(K&&w,e,"internal-error");let v=Cu.fromJSON(this.name,w);z(typeof K=="string",e,"internal-error"),Di(p,e.name),Di(m,e.name),z(typeof we=="boolean",e,"internal-error"),z(typeof wt=="boolean",e,"internal-error"),Di(y,e.name),Di(C,e.name),Di(M,e.name),Di(A,e.name),Di(F,e.name),Di(W,e.name);let E=new t({uid:K,auth:e,email:m,emailVerified:we,displayName:p,isAnonymous:wt,photoURL:C,phoneNumber:y,tenantId:M,stsTokenManager:v,createdAt:F,lastLoginAt:W});return ve&&Array.isArray(ve)&&(E.providerData=ve.map(I=>Object.assign({},I))),A&&(E._redirectEventId=A),E}static async _fromIdTokenResponse(e,n,r=!1){let i=new Cu;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Cf(o),o}static async _fromGetAccountInfoResponse(e,n,r){let i=n.users[0];z(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?YR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Cu;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new bu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u}};var PR=new Map;function Sr(t){Ci(t instanceof Function,"Expected a class definition");let e=PR.get(t);return e?(Ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,PR.set(t,e),e)}var A$=(()=>{class t{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(n,r){this.storage[n]=r}async _get(n){let r=this.storage[n];return r===void 0?null:r}async _remove(n){delete this.storage[n]}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),A_=A$;function _f(t,e,n){return`firebase:${t}:${e}:${n}`}var bf=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=_f(this.userKey,i.apiKey,o),this.fullPersistenceKey=_f("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=await Tf(this.auth,{idToken:e}).catch(()=>{});return n?Ti._fromGetAccountInfoResponse(this.auth,n,e):null}return Ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new t(Sr(A_),e,r);let i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),o=i[0]||Sr(A_),s=_f(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=await l._get(s);if(h){let p;if(typeof h=="string"){let m=await Tf(e,{idToken:h}).catch(()=>{});if(!m)break;p=await Ti._fromGetAccountInfoResponse(e,m,h)}else p=Ti._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new t(o,e,r))}};function xR(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nN(e))return"Blackberry";if(rN(e))return"Webos";if(JR(e))return"Safari";if((e.includes("chrome/")||XR(e))&&!e.includes("edge/"))return"Chrome";if(tN(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function ZR(t=tt()){return/firefox\//i.test(t)}function JR(t=tt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XR(t=tt()){return/crios\//i.test(t)}function eN(t=tt()){return/iemobile/i.test(t)}function tN(t=tt()){return/android/i.test(t)}function nN(t=tt()){return/blackberry/i.test(t)}function rN(t=tt()){return/webos/i.test(t)}function Y_(t=tt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function R$(t=tt()){var e;return Y_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function N$(){return aR()&&document.documentMode===10}function iN(t=tt()){return Y_(t)||tN(t)||rN(t)||nN(t)||/windows phone/i.test(t)||eN(t)}function oN(t,e=[]){let n;switch(t){case"Browser":n=xR(tt());break;case"Worker":n=`${xR(tt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ei}/${r}`}var R_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function M$(t,e={}){return Rr(t,"GET","/v2/passwordPolicy",bi(t,e))}var P$=6,N_=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:P$,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var M_=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sf(this),this.idTokenSubscription=new Sf(this),this.beforeStateQueue=new R_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Sr(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await bf.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let n=await Tf(this,{idToken:e}),r=await Ti._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ft(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Cf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=y$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ft(this.app))return Promise.reject(Ar(this));let n=e?Ne(e):null;return n&&z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ft(this.app)?Promise.reject(Ar(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ft(this.app)?Promise.reject(Ar(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await M$(this),n=new N_(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){let n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await S$(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){let r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let n=e&&Sr(e)||this._popupRedirectResolver;z(n,this,"argument-error"),this.redirectPersistenceManager=await bf.create(this,[Sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(z(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Ft(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&p$(`Error while retrieving App Check token: ${n.error}`),n?.token}};function Ao(t){return Ne(t)}var Sf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=dR(n=>this.observer=n)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var kf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function x$(t){kf=t}function sN(t){return kf.loadJS(t)}function k$(){return kf.recaptchaEnterpriseScript}function O$(){return kf.gapiScript}function aN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var P_=class{constructor(){this.enterprise=new x_}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}},x_=class{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}};var F$="recaptcha-enterprise",cN="NO_RECAPTCHA",k_=class{constructor(e){this.type=F$,this.auth=Ao(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{w$(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new b_(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})})}function i(o,s,a){let u=window.grecaptcha;NR(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(cN)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new P_().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&NR(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=k$();u.length!==0&&(u+=a),sN(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}};async function Du(t,e,n,r=!1,i=!1){let o=new k_(t),s;if(i)s=cN;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}let a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function O_(t,e,n,r,i){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=await Du(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=await Du(t,e,n,n==="getOobCode");return r(t,u)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=await Du(t,e,n);return r(t,a).catch(async u=>{var l;if(((l=t._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);let h=await Du(t,e,n,!1,!0);return r(t,h)}return Promise.reject(u)})}else{let a=await Du(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}function Z_(t,e){let n=Qs(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Qn(o,e??{}))return i;Xn(i,"already-initialized")}return n.initialize({options:e})}function L$(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Sr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function J_(t,e,n){let r=Ao(t);z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=uN(e),{host:s,port:a}=V$(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){z(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),z(Qn(l,r.config.emulator)&&Qn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,vi(s)?(df(`${o}//${s}${u}`),hf("Auth",!0)):i||j$()}function uN(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function V$(t){let e=uN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:kR(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:kR(s)}}}function kR(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function j$(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Su=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return br("not implemented")}_getIdTokenResponse(e){return br("not implemented")}_linkToIdToken(e,n){return br("not implemented")}_getReauthenticationResolver(e){return br("not implemented")}};async function U$(t,e){return Rr(t,"POST","/v1/accounts:update",e)}async function B$(t,e){return Rr(t,"POST","/v1/accounts:signUp",e)}async function $$(t,e){return Nu(t,"POST","/v1/accounts:signInWithPassword",bi(t,e))}async function H$(t,e){return Nu(t,"POST","/v1/accounts:signInWithEmailLink",bi(t,e))}async function q$(t,e){return Nu(t,"POST","/v1/accounts:signInWithEmailLink",bi(t,e))}var Au=class t extends Su{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return O_(e,n,"signInWithPassword",$$,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return H$(e,{email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return O_(e,r,"signUpPassword",B$,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return q$(e,{idToken:n,email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function w_(t,e){return Nu(t,"POST","/v1/accounts:signInWithIdp",bi(t,e))}function z$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function G$(t){let e=Ws(Ks(t)).link,n=e?Ws(Ks(e)).deep_link_id:null,r=Ws(Ks(t)).deep_link_id;return(r?Ws(Ks(r)).link:null)||r||n||e||t}var Af=class t{constructor(e){var n,r,i,o,s,a;let u=Ws(Ks(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=z$((i=u.mode)!==null&&i!==void 0?i:null);z(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=G$(e);try{return new t(n)}catch{return null}}};var lN=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Au._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Af.parseLink(r);return z(i,"argument-error"),Au._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Rf=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var F_=class extends Rf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};async function W$(t,e){return Nu(t,"POST","/v1/accounts:signUp",bi(t,e))}var Xs=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){let o=await Ti._fromIdTokenResponse(e,r,i),s=OR(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);let i=OR(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})}};function OR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var L_=class t extends Wt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function dN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?L_._fromErrorAndOperation(t,o,e,r):o})}async function K$(t,e,n=!1){let r=await Js(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xs._forOperation(t,"link",r)}async function hN(t,e,n=!1){let{auth:r}=t;if(Ft(r.app))return Promise.reject(Ar(r));let i="reauthenticate";try{let o=await Js(t,dN(r,i,e,t),n);z(o.idToken,r,"internal-error");let s=K_(o.idToken);z(s,r,"internal-error");let{sub:a}=s;return z(t.uid===a,r,"user-mismatch"),Xs._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Xn(r,"user-mismatch"),o}}async function fN(t,e,n=!1){if(Ft(t.app))return Promise.reject(Ar(t));let r="signIn",i=await dN(t,r,e),o=await Xs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function X_(t,e){return fN(Ao(t),e)}async function eE(t,e){return hN(Ne(t),e)}async function pN(t){let e=Ao(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function tE(t,e,n){if(Ft(t.app))return Promise.reject(Ar(t));let r=Ao(t),s=await O_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",W$,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&pN(t),u}),a=await Xs._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function nE(t,e,n){return Ft(t.app)?Promise.reject(Ar(t)):X_(Ne(t),lN.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&pN(t),r})}function rE(t,e){return Q$(Ne(t),null,e)}async function Q$(t,e,n){let{auth:r}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);let s=await Js(t,U$(r,o));await t._updateTokensIfNecessary(s,!0)}function iE(t,e,n,r){return Ne(t).onIdTokenChanged(e,n,r)}function oE(t,e,n){return Ne(t).beforeAuthStateChanged(e,n)}function sE(t,e,n,r){return Ne(t).onAuthStateChanged(e,n,r)}function aE(t){return Ne(t).signOut()}var Nf="__sak";var Mf=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nf,"1"),this.storage.removeItem(Nf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Y$=1e3,Z$=10,J$=(()=>{class t extends Mf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iN(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);N$()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,Z$):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},Y$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(n,r){await super._set(n,r),this.localCache[n]=JSON.stringify(r)}async _get(n){let r=await super._get(n);return this.localCache[n]=JSON.stringify(r),r}async _remove(n){await super._remove(n),delete this.localCache[n]}}return t.type="LOCAL",t})(),gN=J$;var X$=(()=>{class t extends Mf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),cE=X$;function eH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}var tH=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}async handleEvent(n){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(async h=>h(r.origin,s)),l=await eH(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function mN(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var V_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=mN("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}};function Jn(){return window}function nH(t){Jn().location.href=t}function yN(){return typeof Jn().WorkerGlobalScope<"u"&&typeof Jn().importScripts=="function"}async function rH(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function iH(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function oH(){return yN()?self:null}var vN="firebaseLocalStorageDb",sH=1,Pf="firebaseLocalStorage",_N="fbase_key",So=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Of(t,e){return t.transaction([Pf],e?"readwrite":"readonly").objectStore(Pf)}function aH(){let t=indexedDB.deleteDatabase(vN);return new So(t).toPromise()}function j_(){let t=indexedDB.open(vN,sH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Pf,{keyPath:_N})}catch(i){n(i)}}),t.addEventListener("success",async()=>{let r=t.result;r.objectStoreNames.contains(Pf)?e(r):(r.close(),await aH(),e(await j_()))})})}async function FR(t,e,n){let r=Of(t,!0).put({[_N]:e,value:n});return new So(r).toPromise()}async function cH(t,e){let n=Of(t,!1).get(e),r=await new So(n).toPromise();return r===void 0?null:r.value}function LR(t,e){let n=Of(t,!0).delete(e);return new So(n).toPromise()}var uH=800,lH=3,dH=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await j_(),this.db)}async _withRetries(n){let r=0;for(;;)try{let i=await this._openDb();return await n(i)}catch(i){if(r++>lH)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tH._getInstance(oH()),this.receiver._subscribe("keyChanged",async(n,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(n,r)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await rH(),!this.activeServiceWorker)return;this.sender=new V_(this.activeServiceWorker);let i=await this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(n){if(!(!this.sender||!this.activeServiceWorker||iH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let n=await j_();return await FR(n,Nf,"1"),await LR(n,Nf),!0}catch{}return!1}async _withPendingWrite(n){this.pendingWrites++;try{await n()}finally{this.pendingWrites--}}async _set(n,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>FR(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)))}async _get(n){let r=await this._withRetries(i=>cH(i,n));return this.localCache[n]=r,r}async _remove(n){return this._withPendingWrite(async()=>(await this._withRetries(r=>LR(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)))}async _poll(){let n=await this._withRetries(o=>{let s=Of(o,!1).getAll();return new So(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),EN=dH;var doe=aN("rcb"),hoe=new bo(3e4,6e4);function hH(t,e){return e?Sr(e):(z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Ru=class extends Su{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return w_(e,this._buildIdpRequest())}_linkToIdToken(e,n){return w_(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return w_(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function fH(t){return fN(t.auth,new Ru(t),t.bypassAuthState)}function pH(t){let{auth:e,user:n}=t;return z(n,e,"internal-error"),hN(n,new Ru(t),t.bypassAuthState)}async function gH(t){let{auth:e,user:n}=t;return z(n,e,"internal-error"),K$(n,new Ru(t),t.bypassAuthState)}var U_=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fH;case"linkViaPopup":case"linkViaRedirect":return gH;case"reauthViaPopup":case"reauthViaRedirect":return pH;default:Xn(this.auth,"internal-error")}}resolve(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var foe=new bo(2e3,1e4);var mH="pendingRedirect",Ef=new Map,B_=class extends U_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ef.get(this.auth._key());if(!e){try{let r=await yH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ef.set(this.auth._key(),e)}return this.bypassAuthState||Ef.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function yH(t,e){let n=EH(e),r=_H(t);if(!await r._isAvailable())return!1;let i=await r._get(n)==="true";return await r._remove(n),i}function vH(t,e){Ef.set(t._key(),e)}function _H(t){return Sr(t._redirectPersistence)}function EH(t){return _f(mH,t.config.apiKey,t.name)}async function IH(t,e,n=!1){if(Ft(t.app))return Promise.reject(Ar(t));let r=Ao(t),i=hH(r,e),s=await new B_(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}var wH=600*1e3,$_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!IN(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Co(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wH&&this.cachedEventUids.clear(),this.cachedEventUids.has(VR(e))}saveEventToCache(e){this.cachedEventUids.add(VR(e)),this.lastProcessedEventTime=Date.now()}};function VR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function IN({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function DH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IN(t);default:return!1}}async function TH(t,e={}){return Rr(t,"GET","/v1/projects",e)}var CH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bH=/^https?/;async function SH(t){if(t.config.emulator)return;let{authorizedDomains:e}=await TH(t);for(let n of e)try{if(AH(n))return}catch{}Xn(t,"unauthorized-domain")}function AH(t){let e=T_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!bH.test(n))return!1;if(CH.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var RH=new bo(3e4,6e4);function jR(){let t=Jn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function NH(t){return new Promise((e,n)=>{var r,i,o;function s(){jR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jR(),n(Co(t,"network-request-failed"))},timeout:RH.get()})}if(!((i=(r=Jn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Jn().gapi)===null||o===void 0)&&o.load)s();else{let a=aN("iframefcb");return Jn()[a]=()=>{gapi.load?s():n(Co(t,"network-request-failed"))},sN(`${O$()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw If=null,e})}var If=null;function MH(t){return If=If||NH(t),If}var PH=new bo(5e3,15e3),xH="__/auth/iframe",kH="emulator/auth/iframe",OH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LH(t){let e=t.config;z(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?G_(e,kH):`https://${t.config.authDomain}/${xH}`,r={apiKey:e.apiKey,appName:t.name,v:Ei},i=FH.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${_u(r).slice(1)}`}async function VH(t){let e=await MH(t),n=Jn().gapi;return z(n,t,"internal-error"),e.open({where:document.body,url:LH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OH,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});let s=Co(t,"network-request-failed"),a=Jn().setTimeout(()=>{o(s)},PH.get());function u(){Jn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})}))}var jH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UH=500,BH=600,$H="_blank",HH="http://localhost",xf=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function qH(t,e,n,r=UH,i=BH){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},jH),{width:r.toString(),height:i.toString(),top:o,left:s}),l=tt().toLowerCase();n&&(a=XR(l)?$H:n),ZR(l)&&(e=e||HH,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,C])=>`${m}${y}=${C},`,"");if(R$(l)&&a!=="_self")return zH(e||"",a),new xf(null);let p=window.open(e||"",a,h);z(p,t,"popup-blocked");try{p.focus()}catch{}return new xf(p)}function zH(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var GH="__/auth/handler",WH="emulator/auth/handler",KH=encodeURIComponent("fac");async function UR(t,e,n,r,i,o){z(t.config.authDomain,t,"auth-domain-config-required"),z(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ei,eventId:i};if(e instanceof Rf){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",lR(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof F_){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=await t._getAppCheckToken(),l=u?`#${KH}=${encodeURIComponent(u)}`:"";return`${QH(t)}?${_u(a).slice(1)}${l}`}function QH({config:t}){return t.emulator?G_(t,WH):`https://${t.authDomain}/${GH}`}var D_="webStorageSupport",H_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cE,this._completeRedirectFn=IH,this._overrideRedirectResult=vH}async _openPopup(e,n,r,i){var o;Ci((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=await UR(e,n,r,T_(),i);return qH(e,s,mN())}async _openRedirect(e,n,r,i){await this._originValidation(e);let o=await UR(e,n,r,T_(),i);return nH(o),new Promise(()=>{})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ci(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){let n=await VH(e),r=new $_(e);return n.register("authEvent",i=>(z(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(D_,{type:D_},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[D_];s!==void 0&&n(!!s),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=SH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iN()||JR()||Y_()}},wN=H_;var BR="@firebase/auth",$R="1.10.8";var q_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function YH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZH(t){Sn(new Nt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;z(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oN(t)},l=new M_(r,i,o,u);return L$(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Sn(new Nt("auth-internal",e=>{let n=Ao(e.getProvider("auth").getImmediate());return(r=>new q_(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oe(BR,$R,YH(t)),Oe(BR,$R,"esm2017")}var JH=300,XH=i_("authIdTokenMaxAge")||JH,HR=null,eq=t=>async e=>{let n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>XH)return;let i=n?.token;HR!==i&&(HR=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function uE(t=wo()){let e=Qs(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Z_(t,{popupRedirectResolver:wN,persistence:[EN,gN,cE]}),r=i_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=eq(o.toString());oE(n,s,()=>s(n.currentUser)),iE(n,a=>s(a))}}let i=n_("auth");return i&&J_(n,`http://${i}`),n}function tq(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}x$({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Co("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",tq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZH("Browser");var Bq=new Map,$q={activated:!1,tokenObservers:[]},Hq={initialized:!1,enabled:!1};function An(t){return Bq.get(t)||Object.assign({},$q)}function bN(){return Hq}var qq="https://content-firebaseappcheck.googleapis.com/v1";var zq="exchangeDebugToken",DN={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Qoe=1440*60*1e3;var hE=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new Eo,this.pending.promise.catch(n=>{}),await Gq(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new Eo,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function Gq(t){return new Promise(e=>{setTimeout(e,t)})}var Wq={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Si=new bn("appCheck","AppCheck",Wq);function SN(t){if(!An(t).activated)throw Si.create("use-before-activation",{appName:t.name})}async function AN({url:t,body:e},n){let r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){let p=await i.getHeartbeatsHeader();p&&(r["X-Firebase-Client"]=p)}let o={method:"POST",body:JSON.stringify(e),headers:r},s;try{s=await fetch(t,o)}catch(p){throw Si.create("fetch-network-error",{originalErrorMessage:p?.message})}if(s.status!==200)throw Si.create("fetch-status-error",{httpStatus:s.status});let a;try{a=await s.json()}catch(p){throw Si.create("fetch-parse-error",{originalErrorMessage:p?.message})}let u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Si.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});let l=Number(u[1])*1e3,h=Date.now();return{token:a.token,expireTimeMillis:h+l,issuedAtTimeMillis:h}}function RN(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${qq}/projects/${n}/apps/${r}:${zq}?key=${i}`,body:{debug_token:e}}}var Kq="firebase-app-check-database",Qq=1,fE="firebase-app-check-store";var Ff=null;function Yq(){return Ff||(Ff=new Promise((t,e)=>{try{let n=indexedDB.open(Kq,Qq);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Si.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(fE,{keyPath:"compositeKey"})}}}catch(n){e(Si.create("storage-open",{originalErrorMessage:n?.message}))}}),Ff)}function Zq(t,e){return Jq(Xq(t),e)}async function Jq(t,e){let r=(await Yq()).transaction(fE,"readwrite"),o=r.objectStore(fE).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(Si.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})}function Xq(t){return`${t.options.appId}-${t.name}`}var Mu=new Yn("@firebase/app-check");function lE(t,e){return vu()?Zq(t,e).catch(n=>{Mu.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function NN(){return bN().enabled}async function MN(){let t=bN();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var e4={error:"UNKNOWN_ERROR"};function t4(t){return cf.encodeString(JSON.stringify(t),!1)}async function pE(t,e=!1,n=!1){let r=t.app;SN(r);let i=An(r),o=i.token,s;if(o&&!Pu(o)&&(i.token=void 0,o=void 0),!o){let l=await i.cachedTokenPromise;l&&(Pu(l)?o=l:await lE(r,void 0))}if(!e&&o&&Pu(o))return{token:o.token};let a=!1;if(NN())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=AN(RN(r,await MN()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=await i.exchangeTokenPromise;return await lE(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Mu.warn(l.message):n&&Mu.error(l),dE(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=await An(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Mu.warn(l.message):n&&Mu.error(l),s=l}let u;return o?s?Pu(o)?u={token:o.token,internalError:s}:u=dE(s):(u={token:o.token},i.token=o,await lE(r,o)):u=dE(s),a&&o4(r,u),u}async function n4(t){let e=t.app;SN(e);let{provider:n}=An(e);if(NN()){let r=await MN(),{token:i}=await AN(RN(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await n.getToken();return{token:r}}}function r4(t,e,n,r){let{app:i}=t,o=An(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Pu(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),TN(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>TN(t))}function PN(t,e){let n=An(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function TN(t){let{app:e}=t,n=An(e),r=n.tokenRefresher;r||(r=i4(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function i4(t){let{app:e}=t;return new hE(async()=>{let n=An(e),r;if(n.token?r=await pE(t,!0):r=await pE(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let n=An(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},DN.RETRIAL_MIN_WAIT,DN.RETRIAL_MAX_WAIT)}function o4(t,e){let n=An(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Pu(t){return t.expireTimeMillis-Date.now()>0}function dE(t){return{token:t4(e4),error:t}}var gE=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=An(this.app);for(let n of e)PN(this.app,n.next);return Promise.resolve()}};function s4(t,e){return new gE(t,e)}function a4(t){return{getToken:e=>pE(t,e),getLimitedUseToken:()=>n4(t),addTokenListener:e=>r4(t,"INTERNAL",e),removeTokenListener:e=>PN(t.app,e)}}var c4="@firebase/app-check",u4="0.10.1";var l4="app-check",CN="app-check-internal";function d4(){Sn(new Nt(l4,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return s4(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(CN).initialize()})),Sn(new Nt(CN,t=>{let e=t.getProvider("app-check").getImmediate();return a4(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Oe(c4,u4)}d4();var h4="app-check";var ea=class{constructor(){return Zs(h4)}};var f4=["localhost","0.0.0.0","127.0.0.1"],ase=typeof window<"u"&&f4.includes(window.location.hostname);var xN="auth",xu=class{constructor(e){return e}},ku=class{constructor(){return Zs(xN)}};var mE=new j("angularfire2.auth-instances");function p4(t,e){let n=wu(xN,t,e);return n&&new xu(n)}function g4(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new xu(r)}}var m4={provide:ku,deps:[[new Bt,mE]]},y4={provide:xu,useFactory:p4,deps:[[new Bt,mE],Cr]};function _se(t,...e){return Oe("angularfire",Ii.full,"auth"),Yt([y4,m4,{provide:mE,useFactory:g4(t),multi:!0,deps:[pe,Re,wi,To,[new Bt,ea],...e]}])}var Ese=Me(tE,!0,2);var Ise=Me(uE,!0);var wse=Me(sE,!0);var Dse=Me(eE,!0,2);var Tse=Me(nE,!0,2);var Cse=Me(aE,!0,2);var bse=Me(rE,!0,2);var kN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ON={};var Nr,yE;(function(){var t;function e(w,v){function E(){}E.prototype=v.prototype,w.D=v.prototype,w.prototype=new E,w.prototype.constructor=w,w.C=function(I,D,b){for(var _=Array(arguments.length-2),sr=2;sr<arguments.length;sr++)_[sr-2]=arguments[sr];return v.prototype[D].apply(I,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,E){E||(E=0);var I=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)I[D]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(D=0;16>D;++D)I[D]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=w.g[0],E=w.g[1],D=w.g[2];var b=w.g[3],_=v+(b^E&(D^b))+I[0]+3614090360&4294967295;v=E+(_<<7&4294967295|_>>>25),_=b+(D^v&(E^D))+I[1]+3905402710&4294967295,b=v+(_<<12&4294967295|_>>>20),_=D+(E^b&(v^E))+I[2]+606105819&4294967295,D=b+(_<<17&4294967295|_>>>15),_=E+(v^D&(b^v))+I[3]+3250441966&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(b^E&(D^b))+I[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=b+(D^v&(E^D))+I[5]+1200080426&4294967295,b=v+(_<<12&4294967295|_>>>20),_=D+(E^b&(v^E))+I[6]+2821735955&4294967295,D=b+(_<<17&4294967295|_>>>15),_=E+(v^D&(b^v))+I[7]+4249261313&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(b^E&(D^b))+I[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=b+(D^v&(E^D))+I[9]+2336552879&4294967295,b=v+(_<<12&4294967295|_>>>20),_=D+(E^b&(v^E))+I[10]+4294925233&4294967295,D=b+(_<<17&4294967295|_>>>15),_=E+(v^D&(b^v))+I[11]+2304563134&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(b^E&(D^b))+I[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=b+(D^v&(E^D))+I[13]+4254626195&4294967295,b=v+(_<<12&4294967295|_>>>20),_=D+(E^b&(v^E))+I[14]+2792965006&4294967295,D=b+(_<<17&4294967295|_>>>15),_=E+(v^D&(b^v))+I[15]+1236535329&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(D^b&(E^D))+I[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=b+(E^D&(v^E))+I[6]+3225465664&4294967295,b=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(b^v))+I[11]+643717713&4294967295,D=b+(_<<14&4294967295|_>>>18),_=E+(b^v&(D^b))+I[0]+3921069994&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(D^b&(E^D))+I[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=b+(E^D&(v^E))+I[10]+38016083&4294967295,b=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(b^v))+I[15]+3634488961&4294967295,D=b+(_<<14&4294967295|_>>>18),_=E+(b^v&(D^b))+I[4]+3889429448&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(D^b&(E^D))+I[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=b+(E^D&(v^E))+I[14]+3275163606&4294967295,b=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(b^v))+I[3]+4107603335&4294967295,D=b+(_<<14&4294967295|_>>>18),_=E+(b^v&(D^b))+I[8]+1163531501&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(D^b&(E^D))+I[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=b+(E^D&(v^E))+I[2]+4243563512&4294967295,b=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(b^v))+I[7]+1735328473&4294967295,D=b+(_<<14&4294967295|_>>>18),_=E+(b^v&(D^b))+I[12]+2368359562&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(E^D^b)+I[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=b+(v^E^D)+I[8]+2272392833&4294967295,b=v+(_<<11&4294967295|_>>>21),_=D+(b^v^E)+I[11]+1839030562&4294967295,D=b+(_<<16&4294967295|_>>>16),_=E+(D^b^v)+I[14]+4259657740&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(E^D^b)+I[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=b+(v^E^D)+I[4]+1272893353&4294967295,b=v+(_<<11&4294967295|_>>>21),_=D+(b^v^E)+I[7]+4139469664&4294967295,D=b+(_<<16&4294967295|_>>>16),_=E+(D^b^v)+I[10]+3200236656&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(E^D^b)+I[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=b+(v^E^D)+I[0]+3936430074&4294967295,b=v+(_<<11&4294967295|_>>>21),_=D+(b^v^E)+I[3]+3572445317&4294967295,D=b+(_<<16&4294967295|_>>>16),_=E+(D^b^v)+I[6]+76029189&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(E^D^b)+I[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=b+(v^E^D)+I[12]+3873151461&4294967295,b=v+(_<<11&4294967295|_>>>21),_=D+(b^v^E)+I[15]+530742520&4294967295,D=b+(_<<16&4294967295|_>>>16),_=E+(D^b^v)+I[2]+3299628645&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(D^(E|~b))+I[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=b+(E^(v|~D))+I[7]+1126891415&4294967295,b=v+(_<<10&4294967295|_>>>22),_=D+(v^(b|~E))+I[14]+2878612391&4294967295,D=b+(_<<15&4294967295|_>>>17),_=E+(b^(D|~v))+I[5]+4237533241&4294967295,E=D+(_<<21&4294967295|_>>>11),_=v+(D^(E|~b))+I[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=b+(E^(v|~D))+I[3]+2399980690&4294967295,b=v+(_<<10&4294967295|_>>>22),_=D+(v^(b|~E))+I[10]+4293915773&4294967295,D=b+(_<<15&4294967295|_>>>17),_=E+(b^(D|~v))+I[1]+2240044497&4294967295,E=D+(_<<21&4294967295|_>>>11),_=v+(D^(E|~b))+I[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=b+(E^(v|~D))+I[15]+4264355552&4294967295,b=v+(_<<10&4294967295|_>>>22),_=D+(v^(b|~E))+I[6]+2734768916&4294967295,D=b+(_<<15&4294967295|_>>>17),_=E+(b^(D|~v))+I[13]+1309151649&4294967295,E=D+(_<<21&4294967295|_>>>11),_=v+(D^(E|~b))+I[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=b+(E^(v|~D))+I[11]+3174756917&4294967295,b=v+(_<<10&4294967295|_>>>22),_=D+(v^(b|~E))+I[2]+718787259&4294967295,D=b+(_<<15&4294967295|_>>>17),_=E+(b^(D|~v))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(D+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+D&4294967295,w.g[3]=w.g[3]+b&4294967295}r.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var E=v-this.blockSize,I=this.B,D=this.h,b=0;b<v;){if(D==0)for(;b<=E;)i(this,w,b),b+=this.blockSize;if(typeof w=="string"){for(;b<v;)if(I[D++]=w.charCodeAt(b++),D==this.blockSize){i(this,I),D=0;break}}else for(;b<v;)if(I[D++]=w[b++],D==this.blockSize){i(this,I),D=0;break}}this.h=D,this.o+=v},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var E=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=E&255,E/=256;for(this.u(w),w=Array(16),v=E=0;4>v;++v)for(var I=0;32>I;I+=8)w[E++]=this.g[v]>>>I&255;return w};function o(w,v){var E=a;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=v(w)}function s(w,v){this.h=v;for(var E=[],I=!0,D=w.length-1;0<=D;D--){var b=w[D]|0;I&&b==v||(E[D]=b,I=!1)}this.g=E}var a={};function u(w){return-128<=w&&128>w?o(w,function(v){return new s([v|0],0>v?-1:0)}):new s([w|0],0>w?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return A(l(-w));for(var v=[],E=1,I=0;w>=E;I++)v[I]=w/E|0,E*=4294967296;return new s(v,0)}function h(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return A(h(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),I=p,D=0;D<w.length;D+=8){var b=Math.min(8,w.length-D),_=parseInt(w.substring(D,D+b),v);8>b?(b=l(Math.pow(v,b)),I=I.j(b).add(l(_))):(I=I.j(E),I=I.add(l(_)))}return I}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(M(this))return-A(this).m();for(var w=0,v=1,E=0;E<this.g.length;E++){var I=this.i(E);w+=(0<=I?I:4294967296+I)*v,v*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(C(this))return"0";if(M(this))return"-"+A(this).toString(w);for(var v=l(Math.pow(w,6)),E=this,I="";;){var D=we(E,v).g;E=F(E,D.j(v));var b=((0<E.g.length?E.g[0]:E.h)>>>0).toString(w);if(E=D,C(E))return b+I;for(;6>b.length;)b="0"+b;I=b+I}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function C(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function M(w){return w.h==-1}t.l=function(w){return w=F(this,w),M(w)?-1:C(w)?0:1};function A(w){for(var v=w.g.length,E=[],I=0;I<v;I++)E[I]=~w.g[I];return new s(E,~w.h).add(m)}t.abs=function(){return M(this)?A(this):this},t.add=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0,D=0;D<=v;D++){var b=I+(this.i(D)&65535)+(w.i(D)&65535),_=(b>>>16)+(this.i(D)>>>16)+(w.i(D)>>>16);I=_>>>16,b&=65535,_&=65535,E[D]=_<<16|b}return new s(E,E[E.length-1]&-2147483648?-1:0)};function F(w,v){return w.add(A(v))}t.j=function(w){if(C(this)||C(w))return p;if(M(this))return M(w)?A(this).j(A(w)):A(A(this).j(w));if(M(w))return A(this.j(A(w)));if(0>this.l(y)&&0>w.l(y))return l(this.m()*w.m());for(var v=this.g.length+w.g.length,E=[],I=0;I<2*v;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var D=0;D<w.g.length;D++){var b=this.i(I)>>>16,_=this.i(I)&65535,sr=w.i(D)>>>16,ba=w.i(D)&65535;E[2*I+2*D]+=_*ba,W(E,2*I+2*D),E[2*I+2*D+1]+=b*ba,W(E,2*I+2*D+1),E[2*I+2*D+1]+=_*sr,W(E,2*I+2*D+1),E[2*I+2*D+2]+=b*sr,W(E,2*I+2*D+2)}for(I=0;I<v;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=v;I<2*v;I++)E[I]=0;return new s(E,0)};function W(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function K(w,v){this.g=w,this.h=v}function we(w,v){if(C(v))throw Error("division by zero");if(C(w))return new K(p,p);if(M(w))return v=we(A(w),v),new K(A(v.g),A(v.h));if(M(v))return v=we(w,A(v)),new K(A(v.g),v.h);if(30<w.g.length){if(M(w)||M(v))throw Error("slowDivide_ only works with positive integers.");for(var E=m,I=v;0>=I.l(w);)E=wt(E),I=wt(I);var D=ve(E,1),b=ve(I,1);for(I=ve(I,2),E=ve(E,2);!C(I);){var _=b.add(I);0>=_.l(w)&&(D=D.add(E),b=_),I=ve(I,1),E=ve(E,1)}return v=F(w,D.j(v)),new K(D,v)}for(D=p;0<=w.l(v);){for(E=Math.max(1,Math.floor(w.m()/v.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),b=l(E),_=b.j(v);M(_)||0<_.l(w);)E-=I,b=l(E),_=b.j(v);C(b)&&(b=m),D=D.add(b),w=F(w,_)}return new K(D,w)}t.A=function(w){return we(this,w).h},t.and=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)&w.i(I);return new s(E,this.h&w.h)},t.or=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)|w.i(I);return new s(E,this.h|w.h)},t.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)^w.i(I);return new s(E,this.h^w.h)};function wt(w){for(var v=w.g.length+1,E=[],I=0;I<v;I++)E[I]=w.i(I)<<1|w.i(I-1)>>>31;return new s(E,w.h)}function ve(w,v){var E=v>>5;v%=32;for(var I=w.g.length-E,D=[],b=0;b<I;b++)D[b]=0<v?w.i(b+E)>>>v|w.i(b+E+1)<<32-v:w.i(b+E);return new s(D,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,yE=ON.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Nr=ON.Integer=s}).apply(typeof kN<"u"?kN:typeof self<"u"?self:typeof window<"u"?window:{});var Lf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mr={};var vE,v4,ta,_E,Ou,Vf,EE,IE,wE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lf=="object"&&Lf];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var T=c[g];if(!(T in f))break e;f=f[T]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,T={next:function(){if(!g&&f<c.length){var S=f++;return{value:d(S,c[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,g),c.apply(d,T)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function C(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,T,S){for(var k=Array(arguments.length-2),De=2;De<arguments.length;De++)k[De-2]=arguments[De];return d.prototype[T].apply(g,k)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function A(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let T=c.length||0,S=g.length||0;c.length=T+S;for(let k=0;k<S;k++)c[T+k]=g[k]}else c.push(g)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function W(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function we(c){return we[" "](c),c}we[" "]=function(){};var wt=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function ve(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function w(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,d){let f,g;for(let T=1;T<arguments.length;T++){g=arguments[T];for(f in g)c[f]=g[f];for(let S=0;S<E.length;S++)f=E[S],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function b(c){a.setTimeout(()=>{throw c},0)}function _(){var c=Fp;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class sr{constructor(){this.h=this.g=null}add(d,f){let g=ba.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var ba=new F(()=>new px,c=>c.reset());class px{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Sa,Aa=!1,Fp=new sr,jw=()=>{let c=a.Promise.resolve(void 0);Sa=()=>{c.then(gx)}};var gx=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(f){b(f)}var d=ba;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Aa=!1};function Vr(){this.s=this.s,this.C=this.C}Vr.prototype.s=!1,Vr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Vr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var mx=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c})();function Ra(c,d){if(lt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(wt){e:{try{we(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:yx[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ra.aa.h.call(this)}}C(Ra,lt);var yx={2:"touch",3:"pen",4:"mouse"};Ra.prototype.h=function(){Ra.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Na="closure_listenable_"+(1e6*Math.random()|0),vx=0;function _x(c,d,f,g,T){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=T,this.key=++vx,this.da=this.fa=!1}function il(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ol(c){this.src=c,this.g={},this.h=0}ol.prototype.add=function(c,d,f,g,T){var S=c.toString();c=this.g[S],c||(c=this.g[S]=[],this.h++);var k=Vp(c,d,g,T);return-1<k?(d=c[k],f||(d.fa=!1)):(d=new _x(d,this.src,S,!!g,T),d.fa=f,c.push(d)),d};function Lp(c,d){var f=d.type;if(f in c.g){var g=c.g[f],T=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=T)&&Array.prototype.splice.call(g,T,1),S&&(il(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Vp(c,d,f,g){for(var T=0;T<c.length;++T){var S=c[T];if(!S.da&&S.listener==d&&S.capture==!!f&&S.ha==g)return T}return-1}var jp="closure_lm_"+(1e6*Math.random()|0),Up={};function Uw(c,d,f,g,T){if(g&&g.once)return $w(c,d,f,g,T);if(Array.isArray(d)){for(var S=0;S<d.length;S++)Uw(c,d[S],f,g,T);return null}return f=qp(f),c&&c[Na]?c.K(d,f,l(g)?!!g.capture:!!g,T):Bw(c,d,f,!1,g,T)}function Bw(c,d,f,g,T,S){if(!d)throw Error("Invalid event type");var k=l(T)?!!T.capture:!!T,De=$p(c);if(De||(c[jp]=De=new ol(c)),f=De.add(d,f,g,k,S),f.proxy)return f;if(g=Ex(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)mx||(T=k),T===void 0&&(T=!1),c.addEventListener(d.toString(),g,T);else if(c.attachEvent)c.attachEvent(qw(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Ex(){function c(f){return d.call(c.src,c.listener,f)}let d=Ix;return c}function $w(c,d,f,g,T){if(Array.isArray(d)){for(var S=0;S<d.length;S++)$w(c,d[S],f,g,T);return null}return f=qp(f),c&&c[Na]?c.L(d,f,l(g)?!!g.capture:!!g,T):Bw(c,d,f,!0,g,T)}function Hw(c,d,f,g,T){if(Array.isArray(d))for(var S=0;S<d.length;S++)Hw(c,d[S],f,g,T);else g=l(g)?!!g.capture:!!g,f=qp(f),c&&c[Na]?(c=c.i,d=String(d).toString(),d in c.g&&(S=c.g[d],f=Vp(S,f,g,T),-1<f&&(il(S[f]),Array.prototype.splice.call(S,f,1),S.length==0&&(delete c.g[d],c.h--)))):c&&(c=$p(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Vp(d,f,g,T)),(f=-1<c?d[c]:null)&&Bp(f))}function Bp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Na])Lp(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(qw(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=$p(d))?(Lp(f,c),f.h==0&&(f.src=null,d[jp]=null)):il(c)}}}function qw(c){return c in Up?Up[c]:Up[c]="on"+c}function Ix(c,d){if(c.da)c=!0;else{d=new Ra(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Bp(c),c=f.call(g,d)}return c}function $p(c){return c=c[jp],c instanceof ol?c:null}var Hp="__closure_events_fn_"+(1e9*Math.random()>>>0);function qp(c){return typeof c=="function"?c:(c[Hp]||(c[Hp]=function(d){return c.handleEvent(d)}),c[Hp])}function dt(){Vr.call(this),this.i=new ol(this),this.M=this,this.F=null}C(dt,Vr),dt.prototype[Na]=!0,dt.prototype.removeEventListener=function(c,d,f,g){Hw(this,c,d,f,g)};function Dt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new lt(d,c);else if(d instanceof lt)d.target=d.target||c;else{var T=d;d=new lt(g,c),I(d,T)}if(T=!0,f)for(var S=f.length-1;0<=S;S--){var k=d.g=f[S];T=sl(k,g,!0,d)&&T}if(k=d.g=c,T=sl(k,g,!0,d)&&T,T=sl(k,g,!1,d)&&T,f)for(S=0;S<f.length;S++)k=d.g=f[S],T=sl(k,g,!1,d)&&T}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)il(f[g]);delete c.g[d],c.h--}}this.F=null},dt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},dt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function sl(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,S=0;S<d.length;++S){var k=d[S];if(k&&!k.da&&k.capture==f){var De=k.listener,ot=k.ha||k.src;k.fa&&Lp(c.i,k),T=De.call(ot,g)!==!1&&T}}return T&&!g.defaultPrevented}function zw(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function Gw(c){c.g=zw(()=>{c.g=null,c.i&&(c.i=!1,Gw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class wx extends Vr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Gw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ma(c){Vr.call(this),this.h=c,this.g={}}C(Ma,Vr);var Ww=[];function Kw(c){ve(c.g,function(d,f){this.g.hasOwnProperty(f)&&Bp(d)},c),c.g={}}Ma.prototype.N=function(){Ma.aa.N.call(this),Kw(this)},Ma.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zp=a.JSON.stringify,Dx=a.JSON.parse,Tx=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Gp(){}Gp.prototype.h=null;function Qw(c){return c.h||(c.h=c.i())}function Yw(){}var Pa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wp(){lt.call(this,"d")}C(Wp,lt);function Kp(){lt.call(this,"c")}C(Kp,lt);var Vi={},Zw=null;function al(){return Zw=Zw||new dt}Vi.La="serverreachability";function Jw(c){lt.call(this,Vi.La,c)}C(Jw,lt);function xa(c){let d=al();Dt(d,new Jw(d))}Vi.STAT_EVENT="statevent";function Xw(c,d){lt.call(this,Vi.STAT_EVENT,c),this.stat=d}C(Xw,lt);function Tt(c){let d=al();Dt(d,new Xw(d,c))}Vi.Ma="timingevent";function eD(c,d){lt.call(this,Vi.Ma,c),this.size=d}C(eD,lt);function ka(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Oa(){this.g=!0}Oa.prototype.xa=function(){this.g=!1};function Cx(c,d,f,g,T,S){c.info(function(){if(c.g)if(S)for(var k="",De=S.split("&"),ot=0;ot<De.length;ot++){var fe=De[ot].split("=");if(1<fe.length){var ht=fe[0];fe=fe[1];var ft=ht.split("_");k=2<=ft.length&&ft[1]=="type"?k+(ht+"="+fe+"&"):k+(ht+"=redacted&")}}else k=null;else k=S;return"XMLHTTP REQ ("+g+") [attempt "+T+"]: "+d+`
`+f+`
`+k})}function bx(c,d,f,g,T,S,k){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+T+"]: "+d+`
`+f+`
`+S+" "+k})}function $o(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+Ax(c,f)+(g?" "+g:"")})}function Sx(c,d){c.info(function(){return"TIMEOUT: "+d})}Oa.prototype.info=function(){};function Ax(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var T=g[1];if(Array.isArray(T)&&!(1>T.length)){var S=T[0];if(S!="noop"&&S!="stop"&&S!="close")for(var k=1;k<T.length;k++)T[k]=""}}}}return zp(f)}catch{return d}}var cl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},tD={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qp;function ul(){}C(ul,Gp),ul.prototype.g=function(){return new XMLHttpRequest},ul.prototype.i=function(){return{}},Qp=new ul;function jr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Ma(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nD}function nD(){this.i=null,this.g="",this.h=!1}var rD={},Yp={};function Zp(c,d,f){c.L=1,c.v=fl(ar(d)),c.m=f,c.P=!0,iD(c,null)}function iD(c,d){c.F=Date.now(),ll(c),c.A=ar(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),vD(f.i,"t",g),c.C=0,f=c.j.J,c.h=new nD,c.g=FD(c.j,f?d:null,!c.m),0<c.O&&(c.M=new wx(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var T="readystatechange";Array.isArray(T)||(T&&(Ww[0]=T.toString()),T=Ww);for(var S=0;S<T.length;S++){var k=Uw(f,T[S],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),xa(),Cx(c.i,c.u,c.A,c.l,c.R,c.m)}jr.prototype.ca=function(c){c=c.target;let d=this.M;d&&cr(c)==3?d.j():this.Y(c)},jr.prototype.Y=function(c){try{if(c==this.g)e:{let ft=cr(this.g);var d=this.g.Ba();let zo=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||CD(this.g)))){this.J||ft!=4||d==7||(d==8||0>=zo?xa(3):xa(2)),Jp(this);var f=this.g.Z();this.X=f;t:if(oD(this)){var g=CD(this.g);c="";var T=g.length,S=cr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ji(this),Fa(this);var k="";break t}this.h.i=new a.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(S&&d==T-1)});g.length=0,this.h.g+=c,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=f==200,bx(this.i,this.u,this.A,this.l,this.R,ft,f),this.o){if(this.T&&!this.K){t:{if(this.g){var De,ot=this.g;if((De=ot.g?ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(De)){var fe=De;break t}}fe=null}if(f=fe)$o(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xp(this,f);else{this.o=!1,this.s=3,Tt(12),ji(this),Fa(this);break e}}if(this.P){f=!0;let hn;for(;!this.J&&this.C<k.length;)if(hn=Rx(this,k),hn==Yp){ft==4&&(this.s=4,Tt(14),f=!1),$o(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==rD){this.s=4,Tt(15),$o(this.i,this.l,k,"[Invalid Chunk]"),f=!1;break}else $o(this.i,this.l,hn,null),Xp(this,hn);if(oD(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||k.length!=0||this.h.h||(this.s=1,Tt(16),f=!1),this.o=this.o&&f,!f)$o(this.i,this.l,k,"[Invalid Chunked Response]"),ji(this),Fa(this);else if(0<k.length&&!this.W){this.W=!0;var ht=this.j;ht.g==this&&ht.ba&&!ht.M&&(ht.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),og(ht),ht.M=!0,Tt(11))}}else $o(this.i,this.l,k,null),Xp(this,k);ft==4&&ji(this),this.o&&!this.J&&(ft==4?PD(this.j,this):(this.o=!1,ll(this)))}else Gx(this.g),f==400&&0<k.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),ji(this),Fa(this)}}}catch{}finally{}};function oD(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Rx(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Yp:(f=Number(d.substring(f,g)),isNaN(f)?rD:(g+=1,g+f>d.length?Yp:(d=d.slice(g,g+f),c.C=g+f,d)))}jr.prototype.cancel=function(){this.J=!0,ji(this)};function ll(c){c.S=Date.now()+c.I,sD(c,c.I)}function sD(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ka(m(c.ba,c),d)}function Jp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}jr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(Sx(this.i,this.A),this.L!=2&&(xa(),Tt(17)),ji(this),this.s=2,Fa(this)):sD(this,this.S-c)};function Fa(c){c.j.G==0||c.J||PD(c.j,c)}function ji(c){Jp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,Kw(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Xp(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||eg(f.h,c))){if(!c.K&&eg(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var T=g;if(T[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)vl(f),ml(f);else break e;ig(f),Tt(18)}}else f.za=T[1],0<f.za-f.T&&37500>T[2]&&f.F&&f.v==0&&!f.C&&(f.C=ka(m(f.Za,f),6e3));if(1>=uD(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Bi(f,11)}else if((c.K||f.g==c)&&vl(f),!W(d))for(T=f.Da.g.parse(d),d=0;d<T.length;d++){let fe=T[d];if(f.T=fe[0],fe=fe[1],f.G==2)if(fe[0]=="c"){f.K=fe[1],f.ia=fe[2];let ht=fe[3];ht!=null&&(f.la=ht,f.j.info("VER="+f.la));let ft=fe[4];ft!=null&&(f.Aa=ft,f.j.info("SVER="+f.Aa));let zo=fe[5];zo!=null&&typeof zo=="number"&&0<zo&&(g=1.5*zo,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let hn=c.g;if(hn){let El=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(El){var S=g.h;S.g||El.indexOf("spdy")==-1&&El.indexOf("quic")==-1&&El.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(tg(S,S.h),S.h=null))}if(g.D){let sg=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;sg&&(g.ya=sg,Ce(g.I,g.D,sg))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var k=c;if(g.qa=OD(g,g.J?g.ia:null,g.W),k.K){lD(g.h,k);var De=k,ot=g.L;ot&&(De.I=ot),De.B&&(Jp(De),ll(De)),g.g=k}else ND(g);0<f.i.length&&yl(f)}else fe[0]!="stop"&&fe[0]!="close"||Bi(f,7);else f.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?Bi(f,7):rg(f):fe[0]!="noop"&&f.l&&f.l.ta(fe),f.v=0)}}xa(4)}catch{}}var Nx=class{constructor(c,d){this.g=c,this.map=d}};function aD(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cD(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function uD(c){return c.h?1:c.g?c.g.size:0}function eg(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function tg(c,d){c.g?c.g.add(d):c.h=d}function lD(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}aD.prototype.cancel=function(){if(this.i=dD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function dD(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function Mx(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function Px(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function hD(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=Px(c),g=Mx(c),T=g.length,S=0;S<T;S++)d.call(void 0,g[S],f&&f[S],c)}var fD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xx(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),T=null;if(0<=g){var S=c[f].substring(0,g);T=c[f].substring(g+1)}else S=c[f];d(S,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function Ui(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ui){this.h=c.h,dl(this,c.j),this.o=c.o,this.g=c.g,hl(this,c.s),this.l=c.l;var d=c.i,f=new ja;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),pD(this,f),this.m=c.m}else c&&(d=String(c).match(fD))?(this.h=!1,dl(this,d[1]||"",!0),this.o=La(d[2]||""),this.g=La(d[3]||"",!0),hl(this,d[4]),this.l=La(d[5]||"",!0),pD(this,d[6]||"",!0),this.m=La(d[7]||"")):(this.h=!1,this.i=new ja(null,this.h))}Ui.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Va(d,gD,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Va(d,gD,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Va(f,f.charAt(0)=="/"?Fx:Ox,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Va(f,Vx)),c.join("")};function ar(c){return new Ui(c)}function dl(c,d,f){c.j=f?La(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function hl(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function pD(c,d,f){d instanceof ja?(c.i=d,jx(c.i,c.h)):(f||(d=Va(d,Lx)),c.i=new ja(d,c.h))}function Ce(c,d,f){c.i.set(d,f)}function fl(c){return Ce(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function La(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Va(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,kx),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function kx(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var gD=/[#\/\?@]/g,Ox=/[#\?:]/g,Fx=/[#\?]/g,Lx=/[#\?@]/g,Vx=/#/g;function ja(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Ur(c){c.g||(c.g=new Map,c.h=0,c.i&&xx(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=ja.prototype,t.add=function(c,d){Ur(this),this.i=null,c=Ho(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function mD(c,d){Ur(c),d=Ho(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function yD(c,d){return Ur(c),d=Ho(c,d),c.g.has(d)}t.forEach=function(c,d){Ur(this),this.g.forEach(function(f,g){f.forEach(function(T){c.call(d,T,g,this)},this)},this)},t.na=function(){Ur(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let T=c[g];for(let S=0;S<T.length;S++)f.push(d[g])}return f},t.V=function(c){Ur(this);let d=[];if(typeof c=="string")yD(this,c)&&(d=d.concat(this.g.get(Ho(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return Ur(this),this.i=null,c=Ho(this,c),yD(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function vD(c,d,f){mD(c,d),0<f.length&&(c.i=null,c.g.set(Ho(c,d),M(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let S=encodeURIComponent(String(g)),k=this.V(g);for(g=0;g<k.length;g++){var T=S;k[g]!==""&&(T+="="+encodeURIComponent(String(k[g]))),c.push(T)}}return this.i=c.join("&")};function Ho(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function jx(c,d){d&&!c.j&&(Ur(c),c.i=null,c.g.forEach(function(f,g){var T=g.toLowerCase();g!=T&&(mD(this,g),vD(this,T,f))},c)),c.j=d}function Ux(c,d){let f=new Oa;if(a.Image){let g=new Image;g.onload=y(Br,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Br,f,"TestLoadImage: error",!1,d,g),g.onabort=y(Br,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Br,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function Bx(c,d){let f=new Oa,g=new AbortController,T=setTimeout(()=>{g.abort(),Br(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(S=>{clearTimeout(T),S.ok?Br(f,"TestPingServer: ok",!0,d):Br(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),Br(f,"TestPingServer: error",!1,d)})}function Br(c,d,f,g,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),g(f)}catch{}}function $x(){this.g=new Tx}function Hx(c,d,f){let g=f||"";try{hD(c,function(T,S){let k=T;l(T)&&(k=zp(T)),d.push(g+S+"="+encodeURIComponent(k))})}catch(T){throw d.push(g+"type="+encodeURIComponent("_badmap")),T}}function Ua(c){this.l=c.Ub||null,this.j=c.eb||!1}C(Ua,Gp),Ua.prototype.g=function(){return new pl(this.l,this.j)},Ua.prototype.i=(function(c){return function(){return c}})({});function pl(c,d){dt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(pl,dt),t=pl.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,$a(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ba(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$a(this)),this.g&&(this.readyState=3,$a(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_D(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function _D(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Ba(this):$a(this),this.readyState==3&&_D(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ba(this))},t.Qa=function(c){this.g&&(this.response=c,Ba(this))},t.ga=function(){this.g&&Ba(this)};function Ba(c){c.readyState=4,c.l=null,c.j=null,c.v=null,$a(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function $a(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(pl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ED(c){let d="";return ve(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function ng(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=ED(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ce(c,d,f))}function Pe(c){dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Pe,dt);var qx=/^https?$/i,zx=["POST","PUT"];t=Pe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qp.g(),this.v=this.o?Qw(this.o):Qw(Qp),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(S){ID(this,S);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var T in g)f.set(T,g[T]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())f.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(S=>S.toLowerCase()=="content-type"),T=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(zx,d,void 0))||g||T||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,k]of f)this.g.setRequestHeader(S,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{TD(this),this.u=!0,this.g.send(c),this.u=!1}catch(S){ID(this,S)}};function ID(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,wD(c),gl(c)}function wD(c){c.A||(c.A=!0,Dt(c,"complete"),Dt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Dt(this,"complete"),Dt(this,"abort"),gl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gl(this,!0)),Pe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?DD(this):this.bb())},t.bb=function(){DD(this)};function DD(c){if(c.h&&typeof s<"u"&&(!c.v[1]||cr(c)!=4||c.Z()!=2)){if(c.u&&cr(c)==4)zw(c.Ea,0,c);else if(Dt(c,"readystatechange"),cr(c)==4){c.h=!1;try{let k=c.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=k===0){var T=String(c.D).match(fD)[1]||null;!T&&a.self&&a.self.location&&(T=a.self.location.protocol.slice(0,-1)),g=!qx.test(T?T.toLowerCase():"")}f=g}if(f)Dt(c,"complete"),Dt(c,"success");else{c.m=6;try{var S=2<cr(c)?c.g.statusText:""}catch{S=""}c.l=S+" ["+c.Z()+"]",wD(c)}}finally{gl(c)}}}}function gl(c,d){if(c.g){TD(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Dt(c,"ready");try{f.onreadystatechange=g}catch{}}}function TD(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function cr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<cr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),Dx(d)}};function CD(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Gx(c){let d={};c=(c.g&&2<=cr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(W(c[g]))continue;var f=D(c[g]);let T=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let S=d[T]||[];d[T]=S,S.push(f)}w(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ha(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function bD(c){this.Aa=0,this.i=[],this.j=new Oa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ha("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ha("baseRetryDelayMs",5e3,c),this.cb=Ha("retryDelaySeedMs",1e4,c),this.Wa=Ha("forwardChannelMaxRetries",2,c),this.wa=Ha("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new aD(c&&c.concurrentRequestLimit),this.Da=new $x,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=bD.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){Tt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=OD(this,null,this.W),yl(this)};function rg(c){if(SD(c),c.G==3){var d=c.U++,f=ar(c.I);if(Ce(f,"SID",c.K),Ce(f,"RID",d),Ce(f,"TYPE","terminate"),qa(c,f),d=new jr(c,c.j,d),d.L=2,d.v=fl(ar(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=FD(d.j,null),d.g.ea(d.v)),d.F=Date.now(),ll(d)}kD(c)}function ml(c){c.g&&(og(c),c.g.cancel(),c.g=null)}function SD(c){ml(c),c.u&&(a.clearTimeout(c.u),c.u=null),vl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function yl(c){if(!cD(c.h)&&!c.s){c.s=!0;var d=c.Ga;Sa||jw(),Aa||(Sa(),Aa=!0),Fp.add(d,c),c.B=0}}function Wx(c,d){return uD(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ka(m(c.Ga,c,d),xD(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let T=new jr(this,this.j,c),S=this.o;if(this.S&&(S?(S=v(S),I(S,this.S)):S=this.S),this.m!==null||this.O||(T.H=S,S=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=RD(this,T,d),f=ar(this.I),Ce(f,"RID",c),Ce(f,"CVER",22),this.D&&Ce(f,"X-HTTP-Session-Id",this.D),qa(this,f),S&&(this.O?d="headers="+encodeURIComponent(String(ED(S)))+"&"+d:this.m&&ng(f,this.m,S)),tg(this.h,T),this.Ua&&Ce(f,"TYPE","init"),this.P?(Ce(f,"$req",d),Ce(f,"SID","null"),T.T=!0,Zp(T,f,null)):Zp(T,f,d),this.G=2}}else this.G==3&&(c?AD(this,c):this.i.length==0||cD(this.h)||AD(this))};function AD(c,d){var f;d?f=d.l:f=c.U++;let g=ar(c.I);Ce(g,"SID",c.K),Ce(g,"RID",f),Ce(g,"AID",c.T),qa(c,g),c.m&&c.o&&ng(g,c.m,c.o),f=new jr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=RD(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),tg(c.h,f),Zp(f,g,d)}function qa(c,d){c.H&&ve(c.H,function(f,g){Ce(d,g,f)}),c.l&&hD({},function(f,g){Ce(d,g,f)})}function RD(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var T=c.i;let S=-1;for(;;){let k=["count="+f];S==-1?0<f?(S=T[0].g,k.push("ofs="+S)):S=0:k.push("ofs="+S);let De=!0;for(let ot=0;ot<f;ot++){let fe=T[ot].g,ht=T[ot].map;if(fe-=S,0>fe)S=Math.max(0,T[ot].g-100),De=!1;else try{Hx(ht,k,"req"+fe+"_")}catch{g&&g(ht)}}if(De){g=k.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function ND(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Sa||jw(),Aa||(Sa(),Aa=!0),Fp.add(d,c),c.v=0}}function ig(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ka(m(c.Fa,c),xD(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,MD(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ka(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),ml(this),MD(this))};function og(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function MD(c){c.g=new jr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=ar(c.qa);Ce(d,"RID","rpc"),Ce(d,"SID",c.K),Ce(d,"AID",c.T),Ce(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ce(d,"TO",c.ja),Ce(d,"TYPE","xmlhttp"),qa(c,d),c.m&&c.o&&ng(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=fl(ar(d)),f.m=null,f.P=!0,iD(f,c)}t.Za=function(){this.C!=null&&(this.C=null,ml(this),ig(this),Tt(19))};function vl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function PD(c,d){var f=null;if(c.g==d){vl(c),og(c),c.g=null;var g=2}else if(eg(c.h,d))f=d.D,lD(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var T=c.B;g=al(),Dt(g,new eD(g,f)),yl(c)}else ND(c);else if(T=d.s,T==3||T==0&&0<d.X||!(g==1&&Wx(c,d)||g==2&&ig(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),T){case 1:Bi(c,5);break;case 4:Bi(c,10);break;case 3:Bi(c,6);break;default:Bi(c,2)}}}function xD(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Bi(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let T=!g;g=new Ui(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||dl(g,"https"),fl(g),T?Ux(g.toString(),f):Bx(g.toString(),f)}else Tt(2);c.G=0,c.l&&c.l.sa(d),kD(c),SD(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function kD(c){if(c.G=0,c.ka=[],c.l){let d=dD(c.h);(d.length!=0||c.i.length!=0)&&(A(c.ka,d),A(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function OD(c,d,f){var g=f instanceof Ui?ar(f):new Ui(f);if(g.g!="")d&&(g.g=d+"."+g.g),hl(g,g.s);else{var T=a.location;g=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var S=new Ui(null);g&&dl(S,g),d&&(S.g=d),T&&hl(S,T),f&&(S.l=f),g=S}return f=c.D,d=c.ya,f&&d&&Ce(g,f,d),Ce(g,"VER",c.la),qa(c,g),g}function FD(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Pe(new Ua({eb:f})):new Pe(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function LD(){}t=LD.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _l(){}_l.prototype.g=function(c,d){return new Lt(c,d)};function Lt(c,d){dt.call(this),this.g=new bD(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!W(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!W(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new qo(this)}C(Lt,dt),Lt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Lt.prototype.close=function(){rg(this.g)},Lt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=zp(c),c=f);d.i.push(new Nx(d.Ya++,c)),d.G==3&&yl(d)},Lt.prototype.N=function(){this.g.l=null,delete this.j,rg(this.g),delete this.g,Lt.aa.N.call(this)};function VD(c){Wp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(VD,Wp);function jD(){Kp.call(this),this.status=1}C(jD,Kp);function qo(c){this.g=c}C(qo,LD),qo.prototype.ua=function(){Dt(this.g,"a")},qo.prototype.ta=function(c){Dt(this.g,new VD(c))},qo.prototype.sa=function(c){Dt(this.g,new jD)},qo.prototype.ra=function(){Dt(this.g,"b")},_l.prototype.createWebChannel=_l.prototype.g,Lt.prototype.send=Lt.prototype.o,Lt.prototype.open=Lt.prototype.m,Lt.prototype.close=Lt.prototype.close,wE=Mr.createWebChannelTransport=function(){return new _l},IE=Mr.getStatEventTarget=function(){return al()},EE=Mr.Event=Vi,Vf=Mr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cl.NO_ERROR=0,cl.TIMEOUT=8,cl.HTTP_ERROR=6,Ou=Mr.ErrorCode=cl,tD.COMPLETE="complete",_E=Mr.EventType=tD,Yw.EventType=Pa,Pa.OPEN="a",Pa.CLOSE="b",Pa.ERROR="c",Pa.MESSAGE="d",dt.prototype.listen=dt.prototype.K,ta=Mr.WebChannel=Yw,v4=Mr.FetchXmlHttpFactory=Ua,Pe.prototype.listenOnce=Pe.prototype.L,Pe.prototype.getLastError=Pe.prototype.Ka,Pe.prototype.getLastErrorCode=Pe.prototype.Ba,Pe.prototype.getStatus=Pe.prototype.Z,Pe.prototype.getResponseJson=Pe.prototype.Oa,Pe.prototype.getResponseText=Pe.prototype.oa,Pe.prototype.send=Pe.prototype.ea,Pe.prototype.setWithCredentials=Pe.prototype.Ha,vE=Mr.XhrIo=Pe}).apply(typeof Lf<"u"?Lf:typeof self<"u"?self:typeof window<"u"?window:{});var FN="@firebase/firestore",LN="4.8.0";var nt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};nt.UNAUTHENTICATED=new nt(null),nt.GOOGLE_CREDENTIALS=new nt("google-credentials-uid"),nt.FIRST_PARTY=new nt("first-party-uid"),nt.MOCK_USER=new nt("mock-user");var wa="11.10.0";var xo=new Yn("@firebase/firestore");function na(){return xo.logLevel}function V(t,...e){if(xo.logLevel<=se.DEBUG){let n=e.map(dw);xo.debug(`Firestore (${wa}): ${t}`,...n)}}function Pr(t,...e){if(xo.logLevel<=se.ERROR){let n=e.map(dw);xo.error(`Firestore (${wa}): ${t}`,...n)}}function Pi(t,...e){if(xo.logLevel<=se.WARN){let n=e.map(dw);xo.warn(`Firestore (${wa}): ${t}`,...n)}}function dw(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function $(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,AM(t,r,n)}function AM(t,e,n){let r=`FIRESTORE (${wa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Pr(r),new Error(r)}function ye(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||AM(e,i,r)}function J(t,e){return t}var R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},O=class extends Wt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Rn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var zf=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},SE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nt.UNAUTHENTICATED))}shutdown(){}},AE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},RE=class{constructor(e){this.t=e,this.currentUser=nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ye(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Rn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Rn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Rn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ye(typeof r.accessToken=="string",31837,{l:r}),new zf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ye(e===null||typeof e=="string",2055,{h:e}),new nt(e)}},NE=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=nt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},ME=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new NE(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Gf=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},PE=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ft(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ye(this.o===void 0,3512);let r=o=>{o.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,V("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Gf(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Gf(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function _4(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function RM(){return new TextEncoder}var Bu=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=_4(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function ie(t,e){return t<e?-1:t>e?1:0}function xE(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ie(r,i);{let o=RM(),s=E4(o.encode(VN(t,n)),o.encode(VN(e,n)));return s!==0?s:ie(r,i)}}n+=r>65535?2:1}return ie(t.length,e.length)}function VN(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function E4(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ie(t[n],e[n]);return ie(t.length,e.length)}function la(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var jN="__name__",Wf=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&$(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&$(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ie(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):xE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Nr.fromString(e.substring(4,e.length-2))}},Ae=class t extends Wf{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new O(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},I4=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Qt=class t extends Wf{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return I4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jN}static keyField(){return new t([jN])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new O(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new O(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new O(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new O(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var B=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ae.fromString(e))}static fromName(e){return new t(Ae.fromString(e).popFirst(5))}static empty(){return new t(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ae.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ae(e.slice()))}};function NM(t,e,n){if(!n)throw new O(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function w4(t,e,n,r){if(e===!0&&r===!0)throw new O(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function UN(t){if(!B.isDocumentKey(t))throw new O(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function BN(t){if(B.isDocumentKey(t))throw new O(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function MM(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function bp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":$(12329,{type:typeof t})}function Nn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new O(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=bp(t);throw new O(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Qe(t,e){let n={typeString:t};return e&&(n.value=e),n}function Xu(t,e){if(!MM(t))throw new O(R.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new O(R.INVALID_ARGUMENT,n);return!0}var $N=-62135596800,HN=1e6,Ye=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*HN);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new O(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new O(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$N)throw new O(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new O(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/HN}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xu(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-$N;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Ye._jsonSchemaVersion="firestore/timestamp/1.0",Ye._jsonSchema={type:Qe("string",Ye._jsonSchemaVersion),seconds:Qe("number"),nanoseconds:Qe("number")};var te=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new Ye(0,0))}static max(){return new t(new Ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var $u=-1,kE=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};kE.UNKNOWN_ID=-1;function D4(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new Ye(n+1,0):new Ye(n,r));return new ko(i,B.empty(),e)}function T4(t){return new ko(t.readTime,t.key,$u)}var ko=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(te.min(),B.empty(),$u)}static max(){return new t(te.max(),B.empty(),$u)}};function C4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=B.comparator(t.documentKey,e.documentKey),n!==0?n:ie(t.largestBatchId,e.largestBatchId))}var b4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",OE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function Da(t){if(t.code!==R.FAILED_PRECONDITION||t.message!==b4)throw t;V("LocalStore","Unexpectedly lost primary lease")}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&$(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function S4(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ta(t){return t.name==="IndexedDbTransactionError"}var hw=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ae&&this.ae(n),n}}t.ue=-1;return t})(),fw=-1;function Sp(t){return t==null}function Hu(t){return t===0&&1/t==-1/0}function A4(t){return typeof t=="number"&&Number.isInteger(t)&&!Hu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var PM="";function R4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=qN(e)),e=N4(t.get(n),e);return qN(e)}function N4(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case PM:n+="";break;default:n+=o}}return n}function qN(t){return t+PM+""}var M4="remoteDocuments",xM="owner";var kM="mutationQueues";var OM="mutations";var FM="documentMutations",P4="remoteDocumentsV14";var LM="remoteDocumentGlobal";var VM="targets";var jM="targetDocuments";var UM="targetGlobal",BM="collectionParents";var $M="clientMetadata";var HM="bundles";var qM="namedQueries";var x4="indexConfiguration";var k4="indexState";var O4="indexEntries";var zM="documentOverlays";var F4="globals";var L4=[kM,OM,FM,M4,VM,xM,UM,jM,$M,LM,BM,HM,qM],Bse=[...L4,zM],V4=[kM,OM,FM,P4,VM,xM,UM,jM,$M,LM,BM,HM,qM,zM],j4=V4,U4=[...j4,x4,k4,O4];var $se=[...U4,F4];function zN(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Li(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function GM(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Fe=class t{constructor(e,n){this.comparator=e,this.root=n||er.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,er.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,er.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sa(this.root,e,this.comparator,!1)}getReverseIterator(){return new sa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sa(this.root,e,this.comparator,!0)}},sa=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},er=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw $(43730,{key:this.key,value:this.value});if(this.right.isRed())throw $(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw $(27949);return e+(this.isRed()?0:1)}};er.EMPTY=null,er.RED=!0,er.BLACK=!1;er.EMPTY=new class{constructor(){this.size=0}get key(){throw $(57766)}get value(){throw $(16141)}get color(){throw $(16727)}get left(){throw $(29726)}get right(){throw $(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new er(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var rt=class t{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Kf(this.data.getIterator())}getIteratorFrom(e){return new Kf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Kf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var dn=class t{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new t([])}unionWith(e){let n=new rt(Qt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return la(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Qf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var It=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Qf("Invalid base64 string: "+o):o}})(e);return new t(n)}static fromUint8Array(e){let n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};It.EMPTY_BYTE_STRING=new It("");var B4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xr(t){if(ye(!!t,39018),typeof t=="string"){let e=0,n=B4.exec(t);if(ye(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Se(t.seconds),nanos:Se(t.nanos)}}function Se(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function kr(t){return typeof t=="string"?It.fromBase64String(t):It.fromUint8Array(t)}var WM="server_timestamp",KM="__type__",QM="__previous_value__",YM="__local_write_time__";function pw(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[KM])===null||n===void 0?void 0:n.stringValue)===WM}function Ap(t){let e=t.mapValue.fields[QM];return pw(e)?Ap(e):e}function qu(t){let e=xr(t.mapValue.fields[YM].timestampValue);return new Ye(e.seconds,e.nanos)}var FE=class{constructor(e,n,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},Yf="(default)",Zf=class t{constructor(e,n){this.projectId=e,this.database=n||Yf}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===Yf}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var gw="__type__",ZM="__max__",jf={mapValue:{fields:{__type__:{stringValue:ZM}}}},mw="__vector__",da="value";function xi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pw(t)?4:XM(t)?9007199254740991:JM(t)?10:11:$(28295,{value:t})}function ir(t,e){if(t===e)return!0;let n=xi(t);if(n!==xi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qu(t).isEqual(qu(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=xr(i.timestampValue),a=xr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return kr(i.bytesValue).isEqual(kr(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return Se(i.geoPointValue.latitude)===Se(o.geoPointValue.latitude)&&Se(i.geoPointValue.longitude)===Se(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Se(i.integerValue)===Se(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Se(i.doubleValue),a=Se(o.doubleValue);return s===a?Hu(s)===Hu(a):isNaN(s)&&isNaN(a)}return!1})(t,e);case 9:return la(t.arrayValue.values||[],e.arrayValue.values||[],ir);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(zN(s)!==zN(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!ir(s[u],a[u])))return!1;return!0})(t,e);default:return $(52216,{left:t})}}function zu(t,e){return(t.values||[]).find(n=>ir(n,e))!==void 0}function ha(t,e){if(t===e)return 0;let n=xi(t),r=xi(e);if(n!==r)return ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ie(t.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Se(o.integerValue||o.doubleValue),u=Se(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(t,e);case 3:return GN(t.timestampValue,e.timestampValue);case 4:return GN(qu(t),qu(e));case 5:return xE(t.stringValue,e.stringValue);case 6:return(function(o,s){let a=kr(o),u=kr(s);return a.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ie(a[l],u[l]);if(h!==0)return h}return ie(a.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=ie(Se(o.latitude),Se(s.latitude));return a!==0?a:ie(Se(o.longitude),Se(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return WN(t.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p[da])===null||a===void 0?void 0:a.arrayValue,C=(u=m[da])===null||u===void 0?void 0:u.arrayValue,M=ie(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=C?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:WN(y,C)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===jf.mapValue&&s===jf.mapValue)return 0;if(o===jf.mapValue)return 1;if(s===jf.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=xE(u[p],h[p]);if(m!==0)return m;let y=ha(a[u[p]],l[h[p]]);if(y!==0)return y}return ie(u.length,h.length)})(t.mapValue,e.mapValue);default:throw $(23264,{le:n})}}function GN(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ie(t,e);let n=xr(t),r=xr(e),i=ie(n.seconds,r.seconds);return i!==0?i:ie(n.nanos,r.nanos)}function WN(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=ha(n[i],r[i]);if(o)return o}return ie(n.length,r.length)}function fa(t){return LE(t)}function LE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){let r=xr(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return kr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return B.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=LE(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${LE(n.fields[s])}`;return i+"}"})(t.mapValue):$(61005,{value:t})}function $f(t){switch(xi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Ap(t);return e?16+$f(e):16;case 5:return 2*t.stringValue.length;case 6:return kr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+$f(o),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Li(r.fields,(o,s)=>{i+=o.length+$f(s)}),i})(t.mapValue);default:throw $(13486,{value:t})}}function KN(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function VE(t){return!!t&&"integerValue"in t}function yw(t){return!!t&&"arrayValue"in t}function QN(t){return!!t&&"nullValue"in t}function YN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hf(t){return!!t&&"mapValue"in t}function JM(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[gw])===null||n===void 0?void 0:n.stringValue)===mw}function Lu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Li(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Lu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Lu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function XM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ZM}var qse={mapValue:{fields:{[gw]:{stringValue:mw},[da]:{arrayValue:{}}}}};var Kt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Hf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lu(n)}setAll(e){let n=Qt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Lu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Hf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ir(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Hf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Li(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Lu(this.value))}};function eP(t){let e=[];return Li(t.fields,(n,r)=>{let i=new Qt([n]);if(Hf(r)){let o=eP(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new dn(e)}var Mn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,te.min(),te.min(),te.min(),Kt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,te.min(),te.min(),Kt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,te.min(),te.min(),Kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var pa=class{constructor(e,n){this.position=e,this.inclusive=n}};function ZN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=B.comparator(B.fromName(s.referenceValue),n.key):r=ha(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function JN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ir(t.position[n],e.position[n]))return!1;return!0}var Oo=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function $4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Jf=class{},Ke=class t extends Jf{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new UE(e,n,r):n==="array-contains"?new HE(e,r):n==="in"?new qE(e,r):n==="not-in"?new zE(e,r):n==="array-contains-any"?new GE(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new BE(e,r):new $E(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ha(n,this.value)):n!==null&&xi(this.value)===xi(n)&&this.matchesComparison(ha(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Pn=class t extends Jf{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new t(e,n)}matches(e){return tP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function tP(t){return t.op==="and"}function nP(t){return H4(t)&&tP(t)}function H4(t){for(let e of t.filters)if(e instanceof Pn)return!1;return!0}function jE(t){if(t instanceof Ke)return t.field.canonicalString()+t.op.toString()+fa(t.value);if(nP(t))return t.filters.map(e=>jE(e)).join(",");{let e=t.filters.map(n=>jE(n)).join(",");return`${t.op}(${e})`}}function rP(t,e){return t instanceof Ke?(function(r,i){return i instanceof Ke&&r.op===i.op&&r.field.isEqual(i.field)&&ir(r.value,i.value)})(t,e):t instanceof Pn?(function(r,i){return i instanceof Pn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&rP(s,i.filters[a]),!0):!1})(t,e):void $(19439)}function iP(t){return t instanceof Ke?(function(n){return`${n.field.canonicalString()} ${n.op} ${fa(n.value)}`})(t):t instanceof Pn?(function(n){return n.op.toString()+" {"+n.getFilters().map(iP).join(" ,")+"}"})(t):"Filter"}var UE=class extends Ke{constructor(e,n,r){super(e,n,r),this.key=B.fromName(r.referenceValue)}matches(e){let n=B.comparator(e.key,this.key);return this.matchesComparison(n)}},BE=class extends Ke{constructor(e,n){super(e,"in",n),this.keys=oP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},$E=class extends Ke{constructor(e,n){super(e,"not-in",n),this.keys=oP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function oP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>B.fromName(r.referenceValue))}var HE=class extends Ke{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return yw(n)&&zu(n.arrayValue,this.value)}},qE=class extends Ke{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&zu(this.value.arrayValue,n)}},zE=class extends Ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zu(this.value.arrayValue,n)}},GE=class extends Ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!yw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>zu(this.value.arrayValue,r))}};var WE=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function XN(t,e=null,n=[],r=[],i=null,o=null,s=null){return new WE(t,e,n,r,i,o,s)}function vw(t){let e=J(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>jE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),Sp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fa(r)).join(",")),e.Pe=n}return e.Pe}function _w(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!rP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!JN(t.startAt,e.startAt)&&JN(t.endAt,e.endAt)}function KE(t){return B.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var ki=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function q4(t,e,n,r,i,o,s,a){return new ki(t,e,n,r,i,o,s,a)}function Ew(t){return new ki(t)}function eM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sP(t){return t.collectionGroup!==null}function Vu(t){let e=J(t);if(e.Te===null){e.Te=[];let n=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new rt(Qt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Oo(o,r))}),n.has(Qt.keyField().canonicalString())||e.Te.push(new Oo(Qt.keyField(),r))}return e.Te}function tr(t){let e=J(t);return e.Ie||(e.Ie=z4(e,Vu(t))),e.Ie}function z4(t,e){if(t.limitType==="F")return XN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Oo(i.field,o)});let n=t.endAt?new pa(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new pa(t.startAt.position,t.startAt.inclusive):null;return XN(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function QE(t,e){let n=t.filters.concat([e]);return new ki(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function YE(t,e,n){return new ki(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rp(t,e){return _w(tr(t),tr(e))&&t.limitType===e.limitType}function aP(t){return`${vw(tr(t))}|lt:${t.limitType}`}function ra(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>iP(i)).join(", ")}]`),Sp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>fa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>fa(i)).join(",")),`Target(${r})`})(tr(t))}; limitType=${t.limitType})`}function Np(t,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):B.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(let o of Vu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=ZN(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,Vu(r),i)||r.endAt&&!(function(s,a,u){let l=ZN(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,Vu(r),i))})(t,e)}function G4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function cP(t){return(e,n)=>{let r=!1;for(let i of Vu(t)){let o=W4(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function W4(t,e,n){let r=t.field.isKeyField()?B.comparator(e.key,n.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?ha(u,l):$(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return $(19790,{direction:t.dir})}}var Or=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Li(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return GM(this.inner)}size(){return this.innerSize}};var K4=new Fe(B.comparator);function Fr(){return K4}var uP=new Fe(B.comparator);function Fu(...t){let e=uP;for(let n of t)e=e.insert(n.key,n);return e}function lP(t){let e=uP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ro(){return ju()}function dP(){return ju()}function ju(){return new Or(t=>t.toString(),(t,e)=>t.isEqual(e))}var Q4=new Fe(B.comparator),Y4=new rt(B.comparator);function ue(...t){let e=Y4;for(let n of t)e=e.add(n);return e}var Z4=new rt(ie);function J4(){return Z4}function Iw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hu(e)?"-0":e}}function hP(t){return{integerValue:""+t}}function X4(t,e){return A4(e)?hP(e):Iw(t,e)}var ga=class{constructor(){this._=void 0}};function ez(t,e,n){return t instanceof ma?(function(i,o){let s={fields:{[KM]:{stringValue:WM},[YM]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&pw(o)&&(o=Ap(o)),o&&(s.fields[QM]=o),{mapValue:s}})(n,e):t instanceof Fo?pP(t,e):t instanceof Lo?gP(t,e):(function(i,o){let s=fP(i,o),a=tM(s)+tM(i.Ee);return VE(s)&&VE(i.Ee)?hP(a):Iw(i.serializer,a)})(t,e)}function tz(t,e,n){return t instanceof Fo?pP(t,e):t instanceof Lo?gP(t,e):n}function fP(t,e){return t instanceof ya?(function(r){return VE(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var ma=class extends ga{},Fo=class extends ga{constructor(e){super(),this.elements=e}};function pP(t,e){let n=mP(e);for(let r of t.elements)n.some(i=>ir(i,r))||n.push(r);return{arrayValue:{values:n}}}var Lo=class extends ga{constructor(e){super(),this.elements=e}};function gP(t,e){let n=mP(e);for(let r of t.elements)n=n.filter(i=>!ir(i,r));return{arrayValue:{values:n}}}var ya=class extends ga{constructor(e,n){super(),this.serializer=e,this.Ee=n}};function tM(t){return Se(t.integerValue||t.doubleValue)}function mP(t){return yw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function nz(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Fo&&i instanceof Fo||r instanceof Lo&&i instanceof Lo?la(r.elements,i.elements,ir):r instanceof ya&&i instanceof ya?ir(r.Ee,i.Ee):r instanceof ma&&i instanceof ma})(t.transform,e.transform)}var ZE=class{constructor(e,n){this.version=e,this.transformResults=n}},nr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function qf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var va=class{};function yP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Gu(t.key,nr.none()):new Vo(t.key,t.data,nr.none());{let n=t.data,r=Kt.empty(),i=new rt(Qt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new or(t.key,r,new dn(i.toArray()),nr.none())}}function rz(t,e,n){t instanceof Vo?(function(i,o,s){let a=i.value.clone(),u=rM(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(t,e,n):t instanceof or?(function(i,o,s){if(!qf(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=rM(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(vP(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function Uu(t,e,n,r){return t instanceof Vo?(function(o,s,a,u){if(!qf(o.precondition,s))return a;let l=o.value.clone(),h=iM(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(t,e,n,r):t instanceof or?(function(o,s,a,u){if(!qf(o.precondition,s))return a;let l=iM(o.fieldTransforms,u,s),h=s.data;return h.setAll(vP(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(t,e,n,r):(function(o,s,a){return qf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(t,e,n)}function iz(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=fP(r.transform,i||null);o!=null&&(n===null&&(n=Kt.empty()),n.set(r.field,o))}return n||null}function nM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&la(r,i,(o,s)=>nz(o,s))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Vo=class extends va{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},or=class extends va{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function vP(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function rM(t,e,n){let r=new Map;ye(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,tz(s,a,n[i]))}return r}function iM(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,ez(o,s,e))}return r}var Gu=class extends va{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},JE=class extends va{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var XE=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&rz(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Uu(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Uu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=dP();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=yP(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&la(this.mutations,e.mutations,(n,r)=>nM(n,r))&&la(this.baseMutations,e.baseMutations,(n,r)=>nM(n,r))}},eI=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ye(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return Q4})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var tI=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var nI=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ge,he;function oz(t){switch(t){case R.OK:return $(64938);case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0;default:return $(15467,{code:t})}}function _P(t){if(t===void 0)return Pr("GRPC error has no .code"),R.UNKNOWN;switch(t){case Ge.OK:return R.OK;case Ge.CANCELLED:return R.CANCELLED;case Ge.UNKNOWN:return R.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return R.INTERNAL;case Ge.UNAVAILABLE:return R.UNAVAILABLE;case Ge.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Ge.NOT_FOUND:return R.NOT_FOUND;case Ge.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Ge.ABORTED:return R.ABORTED;case Ge.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Ge.DATA_LOSS:return R.DATA_LOSS;default:return $(39323,{code:t})}}(he=Ge||(Ge={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var oM=null;var sz=new Nr([4294967295,4294967295],0);function sM(t){let e=RM().encode(t),n=new yE;return n.update(e),new Uint8Array(n.digest())}function aM(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Nr([n,r],0),new Nr([i,o],0)]}var rI=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new No(`Invalid padding: ${n}`);if(r<0)throw new No(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new No(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new No(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Nr.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(Nr.fromNumber(r)));return i.compare(sz)===1&&(i=new Nr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let n=sM(e),[r,i]=aM(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let n=sM(e),[r,i]=aM(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},No=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Xf=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Wu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(te.min(),i,new Fe(ie),Fr(),ue())}},Wu=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ue(),ue(),ue())}};var aa=class{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}},ep=class{constructor(e,n){this.targetId=e,this.De=n}},tp=class{constructor(e,n,r=It.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},np=class{constructor(){this.ve=0,this.Ce=cM(),this.Fe=It.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ue(),n=ue(),r=ue();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:$(38017,{changeType:o})}}),new Wu(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=cM()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ye(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},iI=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Fr(),this.je=Uf(),this.Je=Uf(),this.He=new Fe(ie)}Ye(e){for(let n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(let n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{let r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:$(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){let n=e.targetId,r=e.De.count,i=this.st(n);if(i){let o=i.target;if(KE(o))if(r===0){let s=new B(o.path);this.Xe(n,s,Mn.newNoDocument(s,te.min()))}else ye(r===1,20013,{expectedCount:r});else{let s=this.ot(n);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,l)}oM?.ct((function(h,p,m,y,C){var M,A,F,W,K,we;let wt={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},ve=p.unchangedNames;return ve&&(wt.bloomFilter={applied:C===0,hashCount:(M=ve?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(W=(F=(A=ve?.bits)===null||A===void 0?void 0:A.bitmap)===null||F===void 0?void 0:F.length)!==null&&W!==void 0?W:0,padding:(we=(K=ve?.bits)===null||K===void 0?void 0:K.padding)!==null&&we!==void 0?we:0,mightContain:w=>{var v;return(v=y?.mightContain(w))!==null&&v!==void 0&&v}}),wt})(s,e.De,this.We.lt(),a,u))}}}}_t(e){let n=e.De.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=kr(r).toUint8Array()}catch(u){if(u instanceof Qf)return Pi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new rI(s,i,o)}catch(u){return Pi(u instanceof No?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){let r=this.We.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,o,null),i++)}),i}Pt(e){let n=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&KE(a.target)){let u=new B(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,Mn.newNoDocument(u,e))}o.Ne&&(n.set(s,o.Le()),o.ke())}});let r=ue();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new Xf(e,n,this.He,this.ze,r);return this.ze=Fr(),this.je=Uf(),this.Je=Uf(),this.He=new Fe(ie),i}Ze(e,n){if(!this.nt(e))return;let r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new np,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new rt(ie),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new rt(ie),this.je=this.je.insert(e,n)),n}nt(e){let n=this.st(e)!==null;return n||V("WatchChangeAggregator","Detected inactive target",e),n}st(e){let n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new np),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}};function Uf(){return new Fe(B.comparator)}function cM(){return new Fe(B.comparator)}var az={asc:"ASCENDING",desc:"DESCENDING"},cz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uz={and:"AND",or:"OR"},oI=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function sI(t,e){return t.useProto3Json||Sp(e)?e:{value:e}}function rp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lz(t,e){return rp(t,e.toTimestamp())}function rr(t){return ye(!!t,49232),te.fromTimestamp((function(n){let r=xr(n);return new Ye(r.seconds,r.nanos)})(t))}function ww(t,e){return aI(t,e).canonicalString()}function aI(t,e){let n=(function(i){return new Ae(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function IP(t){let e=Ae.fromString(t);return ye(bP(e),10190,{key:e.toString()}),e}function cI(t,e){return ww(t.databaseId,e.path)}function DE(t,e){let n=IP(e);if(n.get(1)!==t.databaseId.projectId)throw new O(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new O(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new B(DP(n))}function wP(t,e){return ww(t.databaseId,e)}function dz(t){let e=IP(t);return e.length===4?Ae.emptyPath():DP(e)}function uI(t){return new Ae(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function DP(t){return ye(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function uM(t,e,n){return{name:cI(t,e),fields:n.value.mapValue.fields}}function hz(t,e){let n;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:$(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(ye(h===void 0||typeof h=="string",58123),It.fromBase64String(h||"")):(ye(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),It.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?R.UNKNOWN:_P(l.code);return new O(h,l.message||"")})(s);n=new tp(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=DE(t,r.document.name),o=rr(r.document.updateTime),s=r.document.createTime?rr(r.document.createTime):te.min(),a=new Kt({mapValue:{fields:r.document.fields}}),u=Mn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new aa(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=DE(t,r.document),o=r.readTime?rr(r.readTime):te.min(),s=Mn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new aa([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=DE(t,r.document),o=r.removedTargetIds||[];n=new aa([],o,i,null)}else{if(!("filter"in e))return $(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new nI(i,o),a=r.targetId;n=new ep(a,s)}}return n}function fz(t,e){let n;if(e instanceof Vo)n={update:uM(t,e.key,e.value)};else if(e instanceof Gu)n={delete:cI(t,e.key)};else if(e instanceof or)n={update:uM(t,e.key,e.data),updateMask:wz(e.fieldMask)};else{if(!(e instanceof JE))return $(16599,{Rt:e.type});n={verify:cI(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof ma)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Fo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Lo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ya)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw $(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:lz(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:$(27497)})(t,e.precondition)),n}function pz(t,e){return t&&t.length>0?(ye(e!==void 0,14353),t.map(n=>(function(i,o){let s=i.updateTime?rr(i.updateTime):rr(o);return s.isEqual(te.min())&&(s=rr(o)),new ZE(s,i.transformResults||[])})(n,e))):[]}function gz(t,e){return{documents:[wP(t,e.path)]}}function mz(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=wP(t,i);let o=(function(l){if(l.length!==0)return CP(Pn.create(l,"and"))})(e.filters);o&&(n.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(m){return{field:ia(m.field),direction:_z(m.dir)}})(h))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=sI(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:n,parent:i}}function yz(t){let e=dz(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ye(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=(function(p){let m=TP(p);return m instanceof Pn&&nP(m)?m.getFilters():[m]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map(m=>(function(C){return new Oo(oa(C.field),(function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(m))})(n.orderBy));let a=null;n.limit&&(a=(function(p){let m;return m=typeof p=="object"?p.value:p,Sp(m)?null:m})(n.limit));let u=null;n.startAt&&(u=(function(p){let m=!!p.before,y=p.values||[];return new pa(y,m)})(n.startAt));let l=null;return n.endAt&&(l=(function(p){let m=!p.before,y=p.values||[];return new pa(y,m)})(n.endAt)),q4(e,i,s,o,a,"F",u,l)}function vz(t,e){let n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function TP(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=oa(n.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=oa(n.unaryFilter.field);return Ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=oa(n.unaryFilter.field);return Ke.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=oa(n.unaryFilter.field);return Ke.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return $(61313);default:return $(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Ke.create(oa(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return $(58110);default:return $(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Pn.create(n.compositeFilter.filters.map(r=>TP(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return $(1026)}})(n.compositeFilter.op))})(t):$(30097,{filter:t})}function _z(t){return az[t]}function Ez(t){return cz[t]}function Iz(t){return uz[t]}function ia(t){return{fieldPath:t.canonicalString()}}function oa(t){return Qt.fromServerFormat(t.fieldPath)}function CP(t){return t instanceof Ke?(function(n){if(n.op==="=="){if(YN(n.value))return{unaryFilter:{field:ia(n.field),op:"IS_NAN"}};if(QN(n.value))return{unaryFilter:{field:ia(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(YN(n.value))return{unaryFilter:{field:ia(n.field),op:"IS_NOT_NAN"}};if(QN(n.value))return{unaryFilter:{field:ia(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ia(n.field),op:Ez(n.op),value:n.value}}})(t):t instanceof Pn?(function(n){let r=n.getFilters().map(i=>CP(i));return r.length===1?r[0]:{compositeFilter:{op:Iz(n.op),filters:r}}})(t):$(54877,{filter:t})}function wz(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function bP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Ku=class t{constructor(e,n,r,i,o=te.min(),s=te.min(),a=It.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var lI=class{constructor(e){this.gt=e}};function Dz(t){let e=yz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?YE(e,e.limit,"L"):e}var ip=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(Se(e.integerValue));else if("doubleValue"in e){let r=Se(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),Hu(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=xr(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(kr(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?XM(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):JM(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):$(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let o=e.fields||{};this.Ct(n,53);let s=da,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(Se(a)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),B.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};ip.Ut=new ip;var dI=class{constructor(){this.Dn=new hI}addToCollectionParentIndex(e,n){return this.Dn.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(ko.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(ko.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},hI=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new rt(Ae.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new rt(Ae.comparator)).toArray()}};var zse=new Uint8Array(0);var lM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SP=41943040,ln=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(SP,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);var Qu=class t{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new t(0)}static ur(){return new t(-1)}};var dM="LruGarbageCollector",Tz=1048576;function hM([t,e],[n,r]){let i=ie(t,n);return i===0?ie(e,r):i}var fI=class{constructor(e){this.Tr=e,this.buffer=new rt(hM),this.Ir=0}dr(){return++this.Ir}Er(e){let n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();hM(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},pI=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){V(dM,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ta(n)?V(dM,"Ignoring IndexedDB error during garbage collection: ",n):await Da(n)}await this.Rr(3e5)})}},gI=class{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return P.resolve(hw.ue);let r=new fI(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(V("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(lM)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(V("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lM):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(V("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),na()<=se.DEBUG&&V("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function Cz(t,e){return new gI(t,e)}var mI=class{constructor(){this.changes=new Or(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var yI=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var vI=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Uu(r.mutation,i,dn.empty(),Ye.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){let i=Ro();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Fu();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Ro();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Fr(),s=ju(),a=(function(){return ju()})();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof or)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Uu(h.mutation,l,h.mutation.getFieldMask(),Ye.now())):s.set(l.key,dn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new yI(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=ju(),i=new Fe((s,a)=>s-a),o=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||dn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ue()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=dP();h.forEach(m=>{if(!o.has(m)){let y=yP(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return B.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):P.resolve(Ro()),a=$u,u=o;return s.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ue())).next(h=>({batchId:a,changes:lP(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new B(n)).next(r=>{let i=Fu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Fu();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,u=>{let l=(function(p,m){return new ki(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Mn.newInvalidDocument(h)))});let a=Fu();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Uu(h.mutation,l,dn.empty(),Ye.now()),Np(n,l)&&(a=a.insert(u,l))}),a})}};var _I=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return P.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:rr(i.createTime)}})(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(i){return{name:i.name,query:Dz(i.bundledQuery),readTime:rr(i.readTime)}})(n)),P.resolve()}};var EI=class{constructor(){this.overlays=new Fe(B.comparator),this.kr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ro();return P.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=Ro(),o=n.length+1,s=new B(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Fe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Ro(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Ro(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}wt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new tI(n,r));let o=this.kr.get(n);o===void 0&&(o=ue(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}};var II=class{constructor(){this.sessionToken=It.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var Yu=class{constructor(){this.qr=new rt(We.Qr),this.$r=new rt(We.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){let r=new We(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new We(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){let n=new B(new Ae([])),r=new We(n,e),i=new We(n,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let n=new B(new Ae([])),r=new We(n,e),i=new We(n,e+1),o=ue();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new We(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},We=class{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return B.comparator(e.key,n.key)||ie(e.Hr,n.Hr)}static Ur(e,n){return ie(e.Hr,n.Hr)||B.comparator(e.key,n.key)}};var wI=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new rt(We.Qr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new XE(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new We(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,n){return P.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Xr(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?fw:this.er-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new We(n,0),i=new We(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new rt(ie);return n.forEach(i=>{let o=new We(i,0),s=new We(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),P.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;B.isDocumentKey(o)||(o=o.child(""));let s=new We(new B(o),0),a=new rt(ie);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),P.resolve(this.ei(a))}ei(e){let n=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ye(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return P.forEach(n.mutations,i=>{let o=new We(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){let r=new We(n,0),i=this.Yr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var DI=class{constructor(e){this.ni=e,this.docs=(function(){return new Fe(B.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():Mn.newInvalidDocument(n))}getEntries(e,n){let r=Fr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Mn.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Fr(),s=n.path,a=new B(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||C4(T4(h),r)<=0||(i.has(h.key)||Np(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,n,r,i){$(9500)}ri(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new TI(this)}getSize(e){return P.resolve(this.size)}},TI=class extends mI{constructor(e){super(),this.Or=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}};var CI=class{constructor(e){this.persistence=e,this.ii=new Or(n=>vw(n),_w),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.si=0,this.oi=new Yu,this.targetCount=0,this._i=Qu.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),P.resolve()}hr(e){this.ii.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this._i=new Qu(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.hr(n),P.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.ii.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.oi.Jr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.oi.containsKey(n))}};var op=class{constructor(e,n){this.ai={},this.overlays={},this.ui=new hw(0),this.ci=!1,this.ci=!0,this.li=new II,this.referenceDelegate=e(this),this.hi=new CI(this),this.indexManager=new dI,this.remoteDocumentCache=(function(i){return new DI(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new lI(n),this.Ti=new _I(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new EI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new wI(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){V("MemoryPersistence","Starting transaction:",e);let i=new bI(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return P.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}},bI=class extends OE{constructor(e){super(),this.currentSequenceNumber=e}},SI=class t{constructor(e){this.persistence=e,this.Ai=new Yu,this.Ri=null}static Vi(e){return new t(e)}get mi(){if(this.Ri)return this.Ri;throw $(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),P.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.mi,r=>{let i=B.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,te.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return P.or([()=>P.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}},sp=class t{constructor(e,n){this.persistence=e,this.gi=new Or(r=>R4(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Cz(this,n)}static Vi(e,n){return new t(e,n)}Ii(){}di(e){return P.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){let n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return P.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?P.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,te.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),P.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),P.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=$f(e.data.value)),n}Sr(e,n,r){return P.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.gi.get(n);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var AI=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=ue(),i=ue();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var RI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var NI=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return cR()?8:S4(tt())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ps(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new RI;return this.ws(e,n,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,n,s,a.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(na()<=se.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",ra(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),P.resolve()):(na()<=se.DEBUG&&V("QueryEngine","Query:",ra(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(na()<=se.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",ra(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tr(n))):P.resolve())}ps(e,n){if(eM(n))return P.resolve(null);let r=tr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=YE(n,null,"F"),r=tr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ue(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(n,a);return this.Ds(n,l,s,u.readTime)?this.ps(e,YE(n,null,"F")):this.vs(e,l,n,u)}))})))}ys(e,n,r,i){return eM(n)||i.isEqual(te.min())?P.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(n,o);return this.Ds(n,s,r,i)?P.resolve(null):(na()<=se.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ra(n)),this.vs(e,s,n,D4(i,$u)).next(a=>a))})}bs(e,n){let r=new rt(cP(e));return n.forEach((i,o)=>{Np(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return na()<=se.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",ra(n)),this.gs.getDocumentsMatchingQuery(e,n,ko.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Dw="LocalStore",bz=3e8,MI=class{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Fe(ie),this.Ms=new Or(o=>vw(o),_w),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vI(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}};function Sz(t,e,n,r){return new MI(t,e,n,r)}async function AP(t,e){let n=J(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ue();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})}function Az(t,e){let n=J(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,h){let p=l.batch,m=p.keys(),y=P.resolve();return m.forEach(C=>{y=y.next(()=>h.getEntry(u,C)).next(M=>{let A=l.docVersions.get(C);ye(A!==null,48541),M.version.compareTo(A)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=ue();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function RP(t){let e=J(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function Rz(t,e){let n=J(t),r=e.snapshotVersion,i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(It.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(M,A,F){return M.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=bz?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(m,y,h)&&a.push(n.hi.updateTargetData(o,y))});let u=Fr(),l=ue();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(Nz(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(te.min())){let h=n.hi.getLastRemoteSnapshotVersion(o).next(p=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Fs=i,o))}function Nz(t,e,n){let r=ue(),i=ue();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Fr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):V(Dw,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function Mz(t,e){let n=J(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=fw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Pz(t,e){let n=J(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):n.hi.allocateTargetId(r).next(s=>(i=new Ku(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function PI(t,e,n){let r=J(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Ta(s))throw s;V(Dw,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function fM(t,e,n){let r=J(t),i=te.min(),o=ue();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=J(u),m=p.Ms.get(h);return m!==void 0?P.resolve(p.Fs.get(m)):p.hi.getTargetData(l,h)})(r,s,tr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:te.min(),n?o:ue())).next(a=>(xz(r,G4(e),a),{documents:a,qs:o})))}function xz(t,e,n){let r=t.xs.get(e)||te.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}var ap=class{constructor(){this.activeTargetIds=J4()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var xI=class{constructor(){this.Fo=new ap,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new ap,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var kI=class{xo(e){}shutdown(){}};var pM="ConnectivityMonitor",cp=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){V(pM,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){V(pM,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Bf=null;function OI(){return Bf===null?Bf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bf++,"0x"+Bf.toString(16)}var TE="RestConnection",kz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},FI=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Yf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){let s=OI(),a=this.Go(e,n.toUriEncodedString());V(TE,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=vi(l);return this.jo(e,a,u,r,h).then(p=>(V(TE,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Pi(TE,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+wa})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){let r=kz[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}};var LI=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var Et="WebChannelConnection",VI=class extends FI{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){let s=OI();return new Promise((a,u)=>{let l=new vE;l.setWithCredentials(!0),l.listenOnce(_E.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ou.NO_ERROR:let p=l.getResponseJson();V(Et,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Ou.TIMEOUT:V(Et,`RPC '${e}' ${s} timed out`),u(new O(R.DEADLINE_EXCEEDED,"Request time out"));break;case Ou.HTTP_ERROR:let m=l.getStatus();if(V(Et,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let C=y?.error;if(C&&C.status&&C.message){let M=(function(F){let W=F.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(W)>=0?W:R.UNKNOWN})(C.status);u(new O(M,C.message))}else u(new O(R.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new O(R.UNAVAILABLE,"Connection failed."));break;default:$(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{V(Et,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);V(Et,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}P_(e,n,r){let i=OI(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=wE(),a=IE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");V(Et,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let m=!1,y=!1,C=new LI({Ho:A=>{y?V(Et,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(m||(V(Et,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),V(Et,`RPC '${e}' stream ${i} sending:`,A),p.send(A))},Yo:()=>p.close()}),M=(A,F,W)=>{A.listen(F,K=>{try{W(K)}catch(we){setTimeout(()=>{throw we},0)}})};return M(p,ta.EventType.OPEN,()=>{y||(V(Et,`RPC '${e}' stream ${i} transport opened.`),C.s_())}),M(p,ta.EventType.CLOSE,()=>{y||(y=!0,V(Et,`RPC '${e}' stream ${i} transport closed`),C.__(),this.I_(p))}),M(p,ta.EventType.ERROR,A=>{y||(y=!0,Pi(Et,`RPC '${e}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),C.__(new O(R.UNAVAILABLE,"The operation could not be completed")))}),M(p,ta.EventType.MESSAGE,A=>{var F;if(!y){let W=A.data[0];ye(!!W,16349);let K=W,we=K?.error||((F=K[0])===null||F===void 0?void 0:F.error);if(we){V(Et,`RPC '${e}' stream ${i} received error:`,we);let wt=we.status,ve=(function(E){let I=Ge[E];if(I!==void 0)return _P(I)})(wt),w=we.message;ve===void 0&&(ve=R.INTERNAL,w="Unknown error status: "+wt+" with message "+we.message),y=!0,C.__(new O(ve,w)),p.close()}else V(Et,`RPC '${e}' stream ${i} received:`,W),C.a_(W)}}),M(a,EE.STAT_EVENT,A=>{A.stat===Vf.PROXY?V(Et,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Vf.NOPROXY&&V(Et,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.o_()},0),C}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}};function CE(){return typeof document<"u"?document:null}function Mp(t){return new oI(t,!0)}var up=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var gM="PersistentStream",lp=class{constructor(e,n,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new up(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(Pr(n.toString()),Pr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;let e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{let i=new O(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){let r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return V(gM,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(V(gM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},jI=class extends lp{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let n=hz(this.serializer,e),r=(function(o){if(!("targetChange"in o))return te.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?te.min():s.readTime?rr(s.readTime):te.min()})(e);return this.listener.J_(n,r)}H_(e){let n={};n.database=uI(this.serializer),n.addTarget=(function(o,s){let a,u=s.target;if(a=KE(u)?{documents:gz(o,u)}:{query:mz(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=EP(o,s.resumeToken);let l=sI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(te.min())>0){a.readTime=rp(o,s.snapshotVersion.toTimestamp());let l=sI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=vz(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){let n={};n.database=uI(this.serializer),n.removeTarget=e,this.k_(n)}},UI=class extends lp{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let n=pz(e.writeResults,e.commitTime),r=rr(e.commitTime);return this.listener.ta(r,n)}na(){let e={};e.database=uI(this.serializer),this.k_(e)}X_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>fz(this.serializer,r))};this.k_(n)}};var BI=class{},$I=class extends BI{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new O(R.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,aI(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new O(R.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,aI(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new O(R.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},HI=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Pr(n),this._a=!1):V("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var jo="RemoteStore",qI=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(async()=>{Bo(this)&&(V(jo,"Restarting streams for network reachability change."),await(async function(u){let l=J(u);l.Ia.add(4),await el(l),l.Aa.set("Unknown"),l.Ia.delete(4),await Pp(l)})(this))})}),this.Aa=new HI(r,i)}};async function Pp(t){if(Bo(t))for(let e of t.da)await e(!0)}async function el(t){for(let e of t.da)await e(!1)}function NP(t,e){let n=J(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Sw(n)?bw(n):Ca(n).x_()&&Cw(n,e))}function Tw(t,e){let n=J(t),r=Ca(n);n.Ta.delete(e),r.x_()&&MP(n,e),n.Ta.size===0&&(r.x_()?r.B_():Bo(n)&&n.Aa.set("Unknown"))}function Cw(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ca(t).H_(e)}function MP(t,e){t.Ra.$e(e),Ca(t).Y_(e)}function bw(t){t.Ra=new iI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Ca(t).start(),t.Aa.aa()}function Sw(t){return Bo(t)&&!Ca(t).M_()&&t.Ta.size>0}function Bo(t){return J(t).Ia.size===0}function PP(t){t.Ra=void 0}async function Oz(t){t.Aa.set("Online")}async function Fz(t){t.Ta.forEach((e,n)=>{Cw(t,e)})}async function Lz(t,e){PP(t),Sw(t)?(t.Aa.la(e),bw(t)):t.Aa.set("Unknown")}async function Vz(t,e,n){if(t.Aa.set("Online"),e instanceof tp&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})(t,e)}catch(r){V(jo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await dp(t,r)}else if(e instanceof aa?t.Ra.Ye(e):e instanceof ep?t.Ra.it(e):t.Ra.et(e),!n.isEqual(te.min()))try{let r=await RP(t.localStore);n.compareTo(r)>=0&&await(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(It.EMPTY_BYTE_STRING,h.snapshotVersion)),MP(o,u);let p=new Ku(h.target,u,l,h.sequenceNumber);Cw(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(r){V(jo,"Failed to raise snapshot:",r),await dp(t,r)}}async function dp(t,e,n){if(!Ta(e))throw e;t.Ia.add(1),await el(t),t.Aa.set("Offline"),n||(n=()=>RP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{V(jo,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Pp(t)})}function xP(t,e){return e().catch(n=>dp(t,n,e))}async function xp(t){let e=J(t),n=Oi(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:fw;for(;jz(e);)try{let i=await Mz(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,Uz(e,i)}catch(i){await dp(e,i)}kP(e)&&OP(e)}function jz(t){return Bo(t)&&t.Pa.length<10}function Uz(t,e){t.Pa.push(e);let n=Oi(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function kP(t){return Bo(t)&&!Oi(t).M_()&&t.Pa.length>0}function OP(t){Oi(t).start()}async function Bz(t){Oi(t).na()}async function $z(t){let e=Oi(t);for(let n of t.Pa)e.X_(n.mutations)}async function Hz(t,e,n){let r=t.Pa.shift(),i=eI.from(r,e,n);await xP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await xp(t)}async function qz(t,e){e&&Oi(t).Z_&&await(async function(r,i){if((function(s){return oz(s)&&s!==R.ABORTED})(i.code)){let o=r.Pa.shift();Oi(r).N_(),await xP(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await xp(r)}})(t,e),kP(t)&&OP(t)}async function mM(t,e){let n=J(t);n.asyncQueue.verifyOperationInProgress(),V(jo,"RemoteStore received new credentials");let r=Bo(n);n.Ia.add(3),await el(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Pp(n)}async function zz(t,e){let n=J(t);e?(n.Ia.delete(2),await Pp(n)):e||(n.Ia.add(2),await el(n),n.Aa.set("Unknown"))}function Ca(t){return t.Va||(t.Va=(function(n,r,i){let o=J(n);return o.ia(),new jI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:Oz.bind(null,t),e_:Fz.bind(null,t),n_:Lz.bind(null,t),J_:Vz.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),Sw(t)?bw(t):t.Aa.set("Unknown")):(await t.Va.stop(),PP(t))})),t.Va}function Oi(t){return t.ma||(t.ma=(function(n,r,i){let o=J(n);return o.ia(),new UI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:Bz.bind(null,t),n_:qz.bind(null,t),ea:$z.bind(null,t),ta:Hz.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await xp(t)):(await t.ma.stop(),t.Pa.length>0&&(V(jo,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}var zI=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Rn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new O(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Aw(t,e){if(Pr("AsyncQueue",`${e}: ${t}`),Ta(t))return new O(R.UNAVAILABLE,`${e}: ${t}`);throw t}var hp=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||B.comparator(n.key,r.key):(n,r)=>B.comparator(n.key,r.key),this.keyedMap=Fu(),this.sortedSet=new Fe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var fp=class{constructor(){this.fa=new Fe(B.comparator)}track(e){let n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):$(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){let e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}},_a=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,hp.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var GI=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},WI=class{constructor(){this.queries=yM(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){let i=J(n),o=i.queries;i.queries=yM(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new O(R.ABORTED,"Firestore shutting down"))}};function yM(){return new Or(t=>aP(t),Rp)}async function FP(t,e){let n=J(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new GI,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await n.onListen(i,!0);break;case 1:o.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){let a=Aw(s,`Initialization of query '${ra(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&Rw(n)}async function LP(t,e){let n=J(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Gz(t,e){let n=J(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&Rw(n)}function Wz(t,e,n){let r=J(t),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(n);r.queries.delete(e)}function Rw(t){t.Da.forEach(e=>{e.next()})}var KI,vM;(vM=KI||(KI={})).Fa="default",vM.Cache="cache";var pp=class{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new _a(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;let r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=_a.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==KI.Cache}};var gp=class{constructor(e){this.key=e}},mp=class{constructor(e){this.key=e}},QI=class{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ue(),this.mutatedKeys=ue(),this.Xa=cP(e),this.eu=new hp(this.Xa)}get tu(){return this.Ha}nu(e,n){let r=n?n.ru:new fp,i=n?n.eu:this.eu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Np(this.query,p)?p:null,C=!!m&&this.mutatedKeys.has(m.key),M=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),A=!1;m&&y?m.data.isEqual(y.data)?C!==M&&(r.track({type:3,doc:y}),A=!0):this.iu(m,y)||(r.track({type:2,doc:y}),A=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),A=!0):m&&!y&&(r.track({type:1,doc:m}),A=!0,(u||l)&&(a=!0)),A&&(y?(s=s.add(y),o=M?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>(function(y,C){let M=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $(20277,{At:A})}};return M(y)-M(C)})(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=n&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new _a(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new fp,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=ue(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new mp(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new gp(r))}),n}uu(e){this.Ha=e.qs,this.Za=ue();let n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return _a.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},Nw="SyncEngine",YI=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},ZI=class{constructor(e){this.key=e,this.lu=!1}},JI=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Or(a=>aP(a),Rp),this.Tu=new Map,this.Iu=new Set,this.du=new Fe(B.comparator),this.Eu=new Map,this.Au=new Yu,this.Ru={},this.Vu=new Map,this.mu=Qu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};async function Kz(t,e,n=!0){let r=HP(t),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await VP(r,e,n,!0),i}async function Qz(t,e){let n=HP(t);await VP(n,e,!0,!1)}async function VP(t,e,n,r){let i=await Pz(t.localStore,tr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=await Yz(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&NP(t.remoteStore,i),a}async function Yz(t,e,n,r,i){t.gu=(p,m,y)=>(async function(M,A,F,W){let K=A.view.nu(F);K.Ds&&(K=await fM(M.localStore,A.query,!1).then(({documents:w})=>A.view.nu(w,K)));let we=W&&W.targetChanges.get(A.targetId),wt=W&&W.targetMismatches.get(A.targetId)!=null,ve=A.view.applyChanges(K,M.isPrimaryClient,we,wt);return EM(M,A.targetId,ve._u),ve.snapshot})(t,p,m,y);let o=await fM(t.localStore,e,!0),s=new QI(e,o.qs),a=s.nu(o.documents),u=Wu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);EM(t,n,l._u);let h=new YI(e,n,s);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),l.snapshot}async function Zz(t,e,n){let r=J(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Rp(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await PI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Tw(r.remoteStore,i.targetId),XI(r,i.targetId)}).catch(Da)):(XI(r,i.targetId),await PI(r.localStore,i.targetId,!0))}async function Jz(t,e){let n=J(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Tw(n.remoteStore,r.targetId))}async function Xz(t,e,n){let r=sG(t);try{let i=await(function(s,a){let u=J(s),l=Ye.now(),h=a.reduce((y,C)=>y.add(C.key),ue()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=Fr(),M=ue();return u.Os.getEntries(y,h).next(A=>{C=A,C.forEach((F,W)=>{W.isValidDocument()||(M=M.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,C)).next(A=>{p=A;let F=[];for(let W of a){let K=iz(W,p.get(W.key).overlayedDocument);K!=null&&F.push(new or(W.key,K,eP(K.value.mapValue),nr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,F,a)}).next(A=>{m=A;let F=A.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(y,A.batchId,F)})}).then(()=>({batchId:m.batchId,changes:lP(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new Fe(ie)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,n),await tl(r,i.changes),await xp(r.remoteStore)}catch(i){let o=Aw(i,"Failed to persist write");n.reject(o)}}async function jP(t,e){let n=J(t);try{let r=await Rz(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Eu.get(o);s&&(ye(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?ye(s.lu,14607):i.removedDocuments.size>0&&(ye(s.lu,42227),s.lu=!1))}),await tl(n,r,e)}catch(r){await Da(r)}}function _M(t,e,n){let r=J(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=J(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.wa)m.va(a)&&(l=!0)}),l&&Rw(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function eG(t,e,n){let r=J(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Fe(B.comparator);s=s.insert(o,Mn.newNoDocument(o,te.min()));let a=ue().add(o),u=new Xf(te.min(),new Map,new Fe(ie),s,a);await jP(r,u),r.du=r.du.remove(o),r.Eu.delete(e),Mw(r)}else await PI(r.localStore,e,!1).then(()=>XI(r,e,n)).catch(Da)}async function tG(t,e){let n=J(t),r=e.batch.batchId;try{let i=await Az(n.localStore,e);BP(n,r,null),UP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await tl(n,i)}catch(i){await Da(i)}}async function nG(t,e,n){let r=J(t);try{let i=await(function(s,a){let u=J(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(ye(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})})(r.localStore,e);BP(r,e,n),UP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await tl(r,i)}catch(i){await Da(i)}}function UP(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function BP(t,e,n){let r=J(t),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function XI(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||$P(t,r)})}function $P(t,e){t.Iu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(Tw(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),Mw(t))}function EM(t,e,n){for(let r of n)r instanceof gp?(t.Au.addReference(r.key,e),rG(t,r)):r instanceof mp?(V(Nw,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||$P(t,r.key)):$(19791,{yu:r})}function rG(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(V(Nw,"New document in limbo: "+n),t.Iu.add(r),Mw(t))}function Mw(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Iu.values().next().value;t.Iu.delete(e);let n=new B(Ae.fromString(e)),r=t.mu.next();t.Eu.set(r,new ZI(n)),t.du=t.du.insert(n,r),NP(t.remoteStore,new Ku(tr(Ew(n.path)),r,"TargetPurposeLimboResolution",hw.ue))}}async function tl(t,e,n){let r=J(t),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=AI.Es(u.targetId,l);o.push(p)}}))}),await Promise.all(s),r.hu.J_(i),await(async function(u,l){let h=J(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.Is,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Ta(p))throw p;V(Dw,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.Fs.get(m),C=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(C);h.Fs=h.Fs.insert(m,M)}}})(r.localStore,o))}async function iG(t,e){let n=J(t);if(!n.currentUser.isEqual(e)){V(Nw,"User change. New user:",e.toKey());let r=await AP(n.localStore,e);n.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new O(R.CANCELLED,s))})}),o.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await tl(n,r.Bs)}}function oG(t,e){let n=J(t),r=n.Eu.get(e);if(r&&r.lu)return ue().add(r.key);{let i=ue(),o=n.Tu.get(e);if(!o)return i;for(let s of o){let a=n.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function HP(t){let e=J(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eG.bind(null,e),e.hu.J_=Gz.bind(null,e.eventManager),e.hu.pu=Wz.bind(null,e.eventManager),e}function sG(t){let e=J(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nG.bind(null,e),e}var qP=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=Mp(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Du(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Cu(n,this.localStore),this.indexBackfillerScheduler=this.Fu(n,this.localStore)}Cu(n,r){return null}Fu(n,r){return null}vu(n){return Sz(this.persistence,new NI,n.initialUser,this.serializer)}Du(n){return new op(SI.Vi,this.serializer)}bu(n){return new xI}async terminate(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return t.provider={build:()=>new t},t})(),ew=class extends qP{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){ye(this.persistence.referenceDelegate instanceof sp,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new pI(r,e.asyncQueue,n)}Du(e){let n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new op(r=>sp.Vi(r,n),this.serializer)}};var aG=(()=>{class t{async initialize(n,r){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>_M(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=iG.bind(null,this.syncEngine),await zz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return(function(){return new WI})()}createDatastore(n){let r=Mp(n.databaseInfo.databaseId),i=(function(s){return new VI(s)})(n.databaseInfo);return(function(s,a,u,l){return new $I(s,a,u,l)})(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return(function(i,o,s,a,u){return new qI(i,o,s,a,u)})(this.localStore,this.datastore,n.asyncQueue,r=>_M(this.syncEngine,r,0),(function(){return cp.C()?new cp:new kI})())}createSyncEngine(n,r){return(function(o,s,a,u,l,h,p){let m=new JI(o,s,a,u,l,h);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}async terminate(){var n,r;await(async function(o){let s=J(o);V(jo,"RemoteStore shutting down."),s.Ia.add(5),await el(s),s.Ea.shutdown(),s.Aa.set("Unknown")})(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}return t.provider={build:()=>new t},t})();var yp=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Pr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Fi="FirestoreClient",tw=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=nt.UNAUTHENTICATED,this.clientId=Bu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{V(Fi,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(V(Fi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Rn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=Aw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function bE(t,e){t.asyncQueue.verifyOperationInProgress(),V(Fi,"Initializing OfflineComponentProvider");let n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await AP(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{Pi("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{V("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Pi("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function IM(t,e){t.asyncQueue.verifyOperationInProgress();let n=await cG(t);V(Fi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>mM(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>mM(e.remoteStore,i)),t._onlineComponents=e}async function cG(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){V(Fi,"Using user provided OfflineComponentProvider");try{await bE(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===R.FAILED_PRECONDITION||i.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Pi("Error using user provided cache. Falling back to memory cache: "+n),await bE(t,new qP)}}else V(Fi,"Using default OfflineComponentProvider"),await bE(t,new ew(void 0));return t._offlineComponents}async function zP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(V(Fi,"Using user provided OnlineComponentProvider"),await IM(t,t._uninitializedComponentsProvider._online)):(V(Fi,"Using default OnlineComponentProvider"),await IM(t,new aG))),t._onlineComponents}function uG(t){return zP(t).then(e=>e.syncEngine)}async function GP(t){let e=await zP(t),n=e.eventManager;return n.onListen=Kz.bind(null,e.syncEngine),n.onUnlisten=Zz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Qz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Jz.bind(null,e.syncEngine),n}function lG(t,e,n={}){let r=new Rn;return t.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,u,l){let h=new yp({next:m=>{h.Ou(),s.enqueueAndForget(()=>LP(o,p));let y=m.docs.has(a);!y&&m.fromCache?l.reject(new O(R.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?l.reject(new O(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new pp(Ew(a.path),h,{includeMetadataChanges:!0,ka:!0});return FP(o,p)})(await GP(t),t.asyncQueue,e,n,r)),r.promise}function dG(t,e,n={}){let r=new Rn;return t.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,u,l){let h=new yp({next:m=>{h.Ou(),s.enqueueAndForget(()=>LP(o,p)),m.fromCache&&u.source==="server"?l.reject(new O(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new pp(a,h,{includeMetadataChanges:!0,ka:!0});return FP(o,p)})(await GP(t),t.asyncQueue,e,n,r)),r.promise}function WP(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var wM=new Map;var KP="firestore.googleapis.com",DM=!0,vp=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new O(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KP,this.ssl=DM}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:DM;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=SP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Tz)throw new O(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}w4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new O(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new O(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new O(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ea=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new O(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new O(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vp(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new SE;switch(r.type){case"firstParty":return new ME(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new O(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){let r=wM.get(n);r&&(V("ComponentProvider","Removing Datastore"),wM.delete(n),r.terminate())})(this),Promise.resolve()}};function QP(t,e,n,r={}){var i;t=Nn(t,Ea);let o=vi(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(df(`https://${u}`),hf("Firestore",!0)),s.host!==KP&&s.host!==u&&Pi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Qn(l,a)&&(t._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=nt.MOCK_USER;else{h=nR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new O(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new nt(m)}t._authCredentials=new AE(new zf(h,p))}}var Uo=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},it=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Xu(n,t._jsonSchema))return new t(e,r||null,new B(Ae.fromString(n.referencePath)))}};it._jsonSchemaVersion="firestore/documentReference/1.0",it._jsonSchema={type:Qe("string",it._jsonSchemaVersion),referencePath:Qe("string")};var Ai=class t extends Uo{constructor(e,n,r){super(e,n,Ew(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new it(this.firestore,null,new B(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function YP(t,e,...n){if(t=Ne(t),NM("collection","path",e),t instanceof Ea){let r=Ae.fromString(e,...n);return BN(r),new Ai(t,null,r)}{if(!(t instanceof it||t instanceof Ai))throw new O(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ae.fromString(e,...n));return BN(r),new Ai(t.firestore,null,r)}}function Pw(t,e,...n){if(t=Ne(t),arguments.length===1&&(e=Bu.newId()),NM("doc","path",e),t instanceof Ea){let r=Ae.fromString(e,...n);return UN(r),new it(t,null,new B(r))}{if(!(t instanceof it||t instanceof Ai))throw new O(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ae.fromString(e,...n));return UN(r),new it(t.firestore,t instanceof Ai?t.converter:null,new B(r))}}var TM="AsyncQueue",_p=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new up(this,"async_queue_retry"),this.oc=()=>{let r=CE();r&&V(TM,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=CE();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=CE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new Rn;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ta(e))throw e;V(TM,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Pr("INTERNAL UNHANDLED ERROR: ",CM(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=zI.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&$(47125,{hc:CM(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function CM(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}var Lr=class extends Ea{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new _p,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new _p(e),this._firestoreClient=void 0,await e}}};function ZP(t,e){let n=typeof t=="object"?t:wo(),r=typeof t=="string"?t:e||Yf,i=Qs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=tR("firestore");o&&QP(i,...o)}return i}function xw(t){if(t._terminated)throw new O(R.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||hG(t),t._firestoreClient}function hG(t){var e,n,r;let i=t._freezeSettings(),o=(function(a,u,l,h){return new FE(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,WP(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new tw(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(t._componentsProvider))}var Ri=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(It.fromBase64String(e))}catch(n){throw new O(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(It.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xu(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};Ri._jsonSchemaVersion="firestore/bytes/1.0",Ri._jsonSchema={type:Qe("string",Ri._jsonSchemaVersion),bytes:Qe("string")};var Ia=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new O(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Zu=class{constructor(e){this._methodName=e}};var Ni=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new O(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new O(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(Xu(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:Qe("string",Ni._jsonSchemaVersion),latitude:Qe("number"),longitude:Qe("number")};var Mi=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xu(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new O(R.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:Qe("string",Mi._jsonSchemaVersion),vectorValues:Qe("object")};var fG=/^__.*__$/,nw=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new or(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vo(e,this.data,n,this.fieldTransforms)}},Ep=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new or(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function JP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $(40011,{Ec:t})}}var rw=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return wp(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(JP(this.Ec)&&fG.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},iw=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Mp(e)}Dc(e,n,r,i=!1){return new rw({Ec:e,methodName:n,bc:r,path:Qt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function kp(t){let e=t._freezeSettings(),n=Mp(t._databaseId);return new iw(t._databaseId,!!e.ignoreUndefinedProperties,n)}function XP(t,e,n,r,i,o={}){let s=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);kw("Data must be an object, but it was:",s,r);let a=ex(r,s),u,l;if(o.merge)u=new dn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=ow(e,p,n);if(!s.contains(m))throw new O(R.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);nx(h,m)||h.push(m)}u=new dn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new nw(new Kt(a),u,l)}var Ip=class t extends Zu{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function pG(t,e,n,r){let i=t.Dc(1,e,n);kw("Data must be an object, but it was:",i,r);let o=[],s=Kt.empty();Li(r,(u,l)=>{let h=Ow(e,u,n);l=Ne(l);let p=i.gc(h);if(l instanceof Ip)o.push(h);else{let m=nl(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new dn(o);return new Ep(s,a,i.fieldTransforms)}function gG(t,e,n,r,i,o){let s=t.Dc(1,e,n),a=[ow(e,r,n)],u=[i];if(o.length%2!=0)throw new O(R.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(ow(e,o[m])),u.push(o[m+1]);let l=[],h=Kt.empty();for(let m=a.length-1;m>=0;--m)if(!nx(l,a[m])){let y=a[m],C=u[m];C=Ne(C);let M=s.gc(y);if(C instanceof Ip)l.push(y);else{let A=nl(C,M);A!=null&&(l.push(y),h.set(y,A))}}let p=new dn(l);return new Ep(h,p,s.fieldTransforms)}function mG(t,e,n,r=!1){return nl(n,t.Dc(r?4:3,e))}function nl(t,e){if(tx(t=Ne(t)))return kw("Unsupported field value:",e,t),ex(t,e);if(t instanceof Zu)return(function(r,i){if(!JP(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=nl(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Ne(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return X4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ye.fromDate(r);return{timestampValue:rp(i.serializer,o)}}if(r instanceof Ye){let o=new Ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rp(i.serializer,o)}}if(r instanceof Ni)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ri)return{bytesValue:EP(i.serializer,r._byteString)};if(r instanceof it){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ww(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Mi)return(function(s,a){return{mapValue:{fields:{[gw]:{stringValue:mw},[da]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return Iw(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${bp(r)}`)})(t,e)}function ex(t,e){let n={};return GM(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Li(t,(r,i)=>{let o=nl(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function tx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof Ni||t instanceof Ri||t instanceof it||t instanceof Zu||t instanceof Mi)}function kw(t,e,n){if(!tx(n)||!MM(n)){let r=bp(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function ow(t,e,n){if((e=Ne(e))instanceof Ia)return e._internalPath;if(typeof e=="string")return Ow(t,e);throw wp("Field path arguments must be of type string or ",t,!1,void 0,n)}var yG=new RegExp("[~\\*/\\[\\]]");function Ow(t,e,n){if(e.search(yG)>=0)throw wp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ia(...e.split("."))._internalPath}catch{throw wp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wp(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new O(R.INVALID_ARGUMENT,a+t+u)}function nx(t,e){return t.some(n=>n.isEqual(e))}var Dp=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new it(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new sw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Fw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},sw=class extends Dp{data(){return super.data()}};function Fw(t,e){return typeof e=="string"?Ow(t,e):e instanceof Ia?e._internalPath:e._delegate._internalPath}function vG(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new O(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ju=class{},Tp=class extends Ju{};function rx(t,e,...n){let r=[];e instanceof Ju&&r.push(e),r=r.concat(n),(function(o){let s=o.filter(u=>u instanceof cw).length,a=o.filter(u=>u instanceof aw).length;if(s>1||s>0&&a>0)throw new O(R.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)t=i._apply(t);return t}var aw=class t extends Tp{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return ox(e._query,n),new Uo(e.firestore,e.converter,QE(e._query,n))}_parse(e){let n=kp(e.firestore);return(function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new O(R.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){SM(p,h);let C=[];for(let M of p)C.push(bM(u,o,M));m={arrayValue:{values:C}}}else m=bM(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||SM(p,h),m=mG(a,s,p,h==="in"||h==="not-in");return Ke.create(l,h,m)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var cw=class t extends Ju{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Pn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)ox(s,u),s=QE(s,u)})(e._query,n),new Uo(e.firestore,e.converter,QE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var uw=class t extends Tp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=(function(i,o,s){if(i.startAt!==null)throw new O(R.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new O(R.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Oo(o,s)})(e._query,this._field,this._direction);return new Uo(e.firestore,e.converter,(function(i,o){let s=i.explicitOrderBy.concat([o]);return new ki(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}};function ix(t,e="asc"){let n=e,r=Fw("orderBy",t);return uw._create(r,n)}function bM(t,e,n){if(typeof(n=Ne(n))=="string"){if(n==="")throw new O(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sP(e)&&n.indexOf("/")!==-1)throw new O(R.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Ae.fromString(n));if(!B.isDocumentKey(r))throw new O(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return KN(t,new B(r))}if(n instanceof it)return KN(t,n._key);throw new O(R.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bp(n)}.`)}function SM(t,e){if(!Array.isArray(t)||t.length===0)throw new O(R.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ox(t,e){let n=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new O(R.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new O(R.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var lw=class{convertValue(e,n="none"){switch(xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Se(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw $(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Li(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[da].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Se(s.doubleValue));return new Mi(o)}convertGeoPoint(e){return new Ni(Se(e.latitude),Se(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Ap(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qu(e));default:return null}}convertTimestamp(e){let n=xr(e);return new Ye(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ae.fromString(e);ye(bP(r),9688,{name:e});let i=new Zf(r.get(1),r.get(3)),o=new B(r.popFirst(5));return i.isEqual(n)||Pr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function sx(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Mo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Po=class t extends Dp{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ca(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Fw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new O(R.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Po._jsonSchemaVersion="firestore/documentSnapshot/1.0",Po._jsonSchema={type:Qe("string",Po._jsonSchemaVersion),bundleSource:Qe("string","DocumentSnapshot"),bundleName:Qe("string"),bundle:Qe("string")};var ca=class extends Po{data(e={}){return super.data(e)}},ua=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Mo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ca(this._firestore,this._userDataWriter,r.key,r,new Mo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new O(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new ca(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Mo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new ca(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Mo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:_G(a.type),doc:u,oldIndex:l,newIndex:h}})}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new O(R.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Bu.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function _G(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $(61501,{type:t})}}function ax(t){t=Nn(t,it);let e=Nn(t.firestore,Lr);return lG(xw(e),t._key).then(n=>EG(e,t,n))}ua._jsonSchemaVersion="firestore/querySnapshot/1.0",ua._jsonSchema={type:Qe("string",ua._jsonSchemaVersion),bundleSource:Qe("string","QuerySnapshot"),bundleName:Qe("string"),bundle:Qe("string")};var Cp=class extends lw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ri(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new it(this.firestore,null,n)}};function cx(t){t=Nn(t,Uo);let e=Nn(t.firestore,Lr),n=xw(e),r=new Cp(e);return vG(t._query),dG(n,t._query).then(i=>new ua(e,r,t,i))}function ux(t,e,n){t=Nn(t,it);let r=Nn(t.firestore,Lr),i=sx(t.converter,e,n);return Op(r,[XP(kp(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,nr.none())])}function lx(t,e,n,...r){t=Nn(t,it);let i=Nn(t.firestore,Lr),o=kp(i),s;return s=typeof(e=Ne(e))=="string"||e instanceof Ia?gG(o,"updateDoc",t._key,e,n,r):pG(o,"updateDoc",t._key,e),Op(i,[s.toMutation(t._key,nr.exists(!0))])}function dx(t){return Op(Nn(t.firestore,Lr),[new Gu(t._key,nr.none())])}function hx(t,e){let n=Nn(t.firestore,Lr),r=Pw(t),i=sx(t.converter,e);return Op(n,[XP(kp(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,nr.exists(!1))]).then(()=>r)}function Op(t,e){return(function(r,i){let o=new Rn;return r.asyncQueue.enqueueAndForget(async()=>Xz(await uG(r),i,o)),o.promise})(xw(t),e)}function EG(t,e,n){let r=n.docs.get(e._key),i=new Cp(t);return new Po(t,i,e._key,r,new Mo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){wa=i})(Ei),Sn(new Nt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Lr(new RE(r.getProvider("auth-internal")),new PE(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new O(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zf(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Oe(FN,LN,e),Oe(FN,LN,"esm2017")})();var rl=class{constructor(e){return e}},fx="firestore",Lw=class{constructor(){return Zs(fx)}};var Vw=new j("angularfire2.firestore-instances");function IG(t,e){let n=wu(fx,t,e);return n&&new rl(n)}function wG(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new rl(r)}}var DG={provide:Lw,deps:[[new Bt,Vw]]},TG={provide:rl,useFactory:IG,deps:[[new Bt,Vw],Cr]};function Qae(t,...e){return Oe("angularfire",Ii.full,"fst"),Yt([TG,DG,{provide:Vw,useFactory:wG(t),multi:!0,deps:[pe,Re,wi,To,[new Bt,ku],[new Bt,ea],...e]}])}var Yae=Me(hx,!0,2);var Zae=Me(YP,!0,2);var Jae=Me(dx,!0,2);var Xae=Me(Pw,!0,2);var ece=Me(ax,!0);var tce=Me(cx,!0);var nce=Me(ZP,!0);var rce=Me(ix,!0,2),ice=Me(rx,!0,2);var oce=Me(ux,!0,2);var sce=Me(lx,!0,2);export{x as a,re as b,U as c,G as d,PT as e,JT as f,XT as g,nn as h,bb as i,r1 as j,q as k,Oy as l,IS as m,aL as n,cL as o,TS as p,Hy as q,qy as r,rh as s,dL as t,In as u,mL as v,Pc as w,xL as x,SS as y,zy as z,AS as A,NS as B,LL as C,MS as D,$L as E,zL as F,WL as G,ZL as H,ui as I,BV as J,lA as K,$V as L,zV as M,fA as N,sj as O,Lv as P,Kn as Q,h0 as R,H2 as S,q2 as T,O0 as U,Xre as V,eie as W,TU as X,SU as Y,nie as Z,RU as _,PU as $,Q0 as aa,rie as ba,iie as ca,UU as da,$U as ea,qU as fa,oie as ga,noe as ha,roe as ia,lN as ja,xu as ka,_se as la,Ese as ma,Ise as na,wse as oa,Dse as pa,Tse as qa,Cse as ra,bse as sa,Ye as ta,rl as ua,Qae as va,Yae as wa,Zae as xa,Jae as ya,Xae as za,ece as Aa,tce as Ba,nce as Ca,rce as Da,ice as Ea,oce as Fa,sce as Ga};
