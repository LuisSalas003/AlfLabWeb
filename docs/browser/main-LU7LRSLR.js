var cx=Object.defineProperty,ux=Object.defineProperties;var lx=Object.getOwnPropertyDescriptors;var TD=Object.getOwnPropertySymbols;var dx=Object.prototype.hasOwnProperty,hx=Object.prototype.propertyIsEnumerable;var SD=(n,e,t)=>e in n?cx(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,x=(n,e)=>{for(var t in e||={})dx.call(e,t)&&SD(n,t,e[t]);if(TD)for(var t of TD(e))hx.call(e,t)&&SD(n,t,e[t]);return n},se=(n,e)=>ux(n,lx(e));var ig;function vl(){return ig}function Tn(n){let e=ig;return ig=n,e}var AD=Symbol("NotFound");function zo(n){return n===AD||n?.name==="\u0275NotFound"}var ht=null,_l=!1,og=1,fx=null,ft=Symbol("SIGNAL");function ee(n){let e=ht;return ht=n,e}function Dl(){return ht}var Go={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Wo(n){if(_l)throw new Error("");if(ht===null)return;ht.consumerOnSignalRead(n);let e=ht.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=ht.recomputing;if(r&&(t=e!==void 0?e.nextProducer:ht.producers,t!==void 0&&t.producer===n)){ht.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===ht&&(!r||gx(i,ht)))return;let o=Qo(ht),s={producer:n,consumer:ht,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};ht.producersTail=s,e!==void 0?e.nextProducer=s:ht.producers=s,o&&PD(n,s)}function RD(){og++}function bl(n){if(!(Qo(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===og)){if(!n.producerMustRecompute(n)&&!Xa(n)){wl(n);return}n.producerRecomputeValue(n),wl(n)}}function sg(n){if(n.consumers===void 0)return;let e=_l;_l=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||px(r)}}finally{_l=e}}function ag(){return ht?.consumerAllowSignalWrites!==!1}function px(n){n.dirty=!0,sg(n),n.consumerMarkedDirty?.(n)}function wl(n){n.dirty=!1,n.lastCleanEpoch=og}function Ko(n){return n&&ND(n),ee(n)}function ND(n){n.producersTail=void 0,n.recomputing=!0}function Ja(n,e){ee(e),n&&MD(n)}function MD(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(Qo(n))do t=cg(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function Xa(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(bl(t),r!==t.version))return!0}return!1}function ec(n){if(Qo(n)){let e=n.producers;for(;e!==void 0;)e=cg(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function PD(n,e){let t=n.consumersTail,r=Qo(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)PD(i.producer,i)}function cg(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Qo(e)){let o=e.producers;for(;o!==void 0;)o=cg(o)}return t}function Qo(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Cl(n){fx?.(n)}function gx(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Tl(n,e){return Object.is(n,e)}function Sl(n,e){let t=Object.create(mx);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(bl(t),Wo(t),t.value===Za)throw t.error;return t.value};return r[ft]=t,Cl(t),r}var El=Symbol("UNSET"),Il=Symbol("COMPUTING"),Za=Symbol("ERRORED"),mx=se(x({},Go),{value:El,dirty:!0,error:null,equal:Tl,kind:"computed",producerMustRecompute(n){return n.value===El||n.value===Il},producerRecomputeValue(n){if(n.value===Il)throw new Error("");let e=n.value;n.value=Il;let t=Ko(n),r,i=!1;try{r=n.computation(),ee(null),i=e!==El&&e!==Za&&r!==Za&&n.equal(e,r)}catch(o){r=Za,n.error=o}finally{Ja(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function yx(){throw new Error}var xD=yx;function kD(n){xD(n)}function ug(n){xD=n}var vx=null;function lg(n,e){let t=Object.create(Al);t.value=n,e!==void 0&&(t.equal=e);let r=()=>OD(t);return r[ft]=t,Cl(t),[r,s=>Yo(t,s),s=>dg(t,s)]}function OD(n){return Wo(n),n.value}function Yo(n,e){ag()||kD(n),n.equal(n.value,e)||(n.value=e,_x(n))}function dg(n,e){ag()||kD(n),Yo(n,e(n.value))}var Al=se(x({},Go),{equal:Tl,value:void 0,kind:"signal"});function _x(n){n.version++,RD(),sg(n),vx?.(n)}function te(n){return typeof n=="function"}function Zo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Rl=Zo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Oi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Pe=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(te(r))try{r()}catch(o){e=o instanceof Rl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{FD(o)}catch(s){e=e??[],s instanceof Rl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Rl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)FD(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Oi(t,e)}remove(e){let{_finalizers:t}=this;t&&Oi(t,e),e instanceof n&&e._removeParent(this)}};Pe.EMPTY=(()=>{let n=new Pe;return n.closed=!0,n})();var hg=Pe.EMPTY;function Nl(n){return n instanceof Pe||n&&"closed"in n&&te(n.remove)&&te(n.add)&&te(n.unsubscribe)}function FD(n){te(n)?n():n.unsubscribe()}var an={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Jo={setTimeout(n,e,...t){let{delegate:r}=Jo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Jo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ml(n){Jo.setTimeout(()=>{let{onUnhandledError:e}=an;if(e)e(n);else throw n})}function tc(){}var LD=fg("C",void 0,void 0);function VD(n){return fg("E",void 0,n)}function jD(n){return fg("N",n,void 0)}function fg(n,e,t){return{kind:n,value:e,error:t}}var Fi=null;function Xo(n){if(an.useDeprecatedSynchronousErrorHandling){let e=!Fi;if(e&&(Fi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Fi;if(Fi=null,t)throw r}}else n()}function UD(n){an.useDeprecatedSynchronousErrorHandling&&Fi&&(Fi.errorThrown=!0,Fi.error=n)}var Li=class extends Pe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Nl(e)&&e.add(this)):this.destination=wx}static create(e,t,r){return new es(e,t,r)}next(e){this.isStopped?gg(jD(e),this):this._next(e)}error(e){this.isStopped?gg(VD(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?gg(LD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Ex=Function.prototype.bind;function pg(n,e){return Ex.call(n,e)}var mg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Pl(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Pl(r)}else Pl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Pl(t)}}},es=class extends Li{constructor(e,t,r){super();let i;if(te(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&an.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&pg(e.next,o),error:e.error&&pg(e.error,o),complete:e.complete&&pg(e.complete,o)}):i=e}this.destination=new mg(i)}};function Pl(n){an.useDeprecatedSynchronousErrorHandling?UD(n):Ml(n)}function Ix(n){throw n}function gg(n,e){let{onStoppedNotification:t}=an;t&&Jo.setTimeout(()=>t(n,e))}var wx={closed:!0,next:tc,error:Ix,complete:tc};var ts=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ot(n){return n}function yg(...n){return vg(n)}function vg(n){return n.length===0?Ot:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ie=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=bx(t)?t:new es(t,r,i);return Xo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=BD(r),new r((i,o)=>{let s=new es({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[ts](){return this}pipe(...t){return vg(t)(this)}toPromise(t){return t=BD(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function BD(n){var e;return(e=n??an.Promise)!==null&&e!==void 0?e:Promise}function Dx(n){return n&&te(n.next)&&te(n.error)&&te(n.complete)}function bx(n){return n&&n instanceof Li||Dx(n)&&Nl(n)}function _g(n){return te(n?.lift)}function fe(n){return e=>{if(_g(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ue(n,e,t,r,i){return new Eg(n,e,t,r,i)}var Eg=class extends Li{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ns(){return fe((n,e)=>{let t=null;n._refCount++;let r=ue(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var rs=class extends ie{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,_g(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pe;let t=this.getSubject();e.add(this.source.subscribe(ue(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pe.EMPTY)}return e}refCount(){return ns()(this)}};var $D=Zo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ve=(()=>{class n extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new xl(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new $D}next(t){Xo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Xo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Xo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?hg:(this.currentObservers=null,o.push(t),new Pe(()=>{this.currentObservers=null,Oi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ie;return t.source=this,t}}return n.create=(e,t)=>new xl(e,t),n})(),xl=class extends Ve{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:hg}};var rt=class extends Ve{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ig={now(){return(Ig.delegate||Date).now()},delegate:void 0};var kl=class extends Pe{constructor(e,t){super()}schedule(e,t=0){return this}};var nc={setInterval(n,e,...t){let{delegate:r}=nc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=nc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var is=class extends kl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return nc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&nc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Oi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var os=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};os.now=Ig.now;var ss=class extends os{constructor(e,t=os.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var wg=new ss(is);var Ol=class extends is{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Fl=class extends ss{};var Dg=new Fl(Ol);var Rt=new ie(n=>n.complete());function HD(n){return n&&te(n.schedule)}function qD(n){return n[n.length-1]}function Ll(n){return te(qD(n))?n.pop():void 0}function Vr(n){return HD(qD(n))?n.pop():void 0}function bg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function GD(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function zD(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vi(n){return this instanceof Vi?(this.v=n,this):new Vi(n)}function WD(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(T){return Promise.resolve(T).then(y,p)}}function a(y,T){r[y]&&(i[y]=function(M){return new Promise(function(R,O){o.push([y,M,R,O])>1||u(y,M)})},T&&(i[y]=T(i[y])))}function u(y,T){try{l(r[y](T))}catch(M){m(o[0][3],M)}}function l(y){y.value instanceof Vi?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,T){y(T),o.shift(),o.length&&u(o[0][0],o[0][1])}}function KD(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof zD=="function"?zD(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Vl=n=>n&&typeof n.length=="number"&&typeof n!="function";function jl(n){return te(n?.then)}function Ul(n){return te(n[ts])}function Bl(n){return Symbol.asyncIterator&&te(n?.[Symbol.asyncIterator])}function $l(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Cx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Hl=Cx();function ql(n){return te(n?.[Hl])}function zl(n){return WD(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Vi(t.read());if(i)return yield Vi(void 0);yield yield Vi(r)}}finally{t.releaseLock()}})}function Gl(n){return te(n?.getReader)}function je(n){if(n instanceof ie)return n;if(n!=null){if(Ul(n))return Tx(n);if(Vl(n))return Sx(n);if(jl(n))return Ax(n);if(Bl(n))return QD(n);if(ql(n))return Rx(n);if(Gl(n))return Nx(n)}throw $l(n)}function Tx(n){return new ie(e=>{let t=n[ts]();if(te(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Sx(n){return new ie(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function Ax(n){return new ie(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ml)})}function Rx(n){return new ie(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function QD(n){return new ie(e=>{Mx(n,e).catch(t=>e.error(t))})}function Nx(n){return QD(zl(n))}function Mx(n,e){var t,r,i,o;return GD(this,void 0,void 0,function*(){try{for(t=KD(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Nt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function jr(n,e=0){return fe((t,r)=>{t.subscribe(ue(r,i=>Nt(r,n,()=>r.next(i),e),()=>Nt(r,n,()=>r.complete(),e),i=>Nt(r,n,()=>r.error(i),e)))})}function Ur(n,e=0){return fe((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function YD(n,e){return je(n).pipe(Ur(e),jr(e))}function ZD(n,e){return je(n).pipe(Ur(e),jr(e))}function JD(n,e){return new ie(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function XD(n,e){return new ie(t=>{let r;return Nt(t,e,()=>{r=n[Hl](),Nt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>te(r?.return)&&r.return()})}function Wl(n,e){if(!n)throw new Error("Iterable cannot be null");return new ie(t=>{Nt(t,e,()=>{let r=n[Symbol.asyncIterator]();Nt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function eb(n,e){return Wl(zl(n),e)}function tb(n,e){if(n!=null){if(Ul(n))return YD(n,e);if(Vl(n))return JD(n,e);if(jl(n))return ZD(n,e);if(Bl(n))return Wl(n,e);if(ql(n))return XD(n,e);if(Gl(n))return eb(n,e)}throw $l(n)}function Se(n,e){return e?tb(n,e):je(n)}function W(...n){let e=Vr(n);return Se(n,e)}function as(n,e){let t=te(n)?n:()=>n,r=i=>i.error(t());return new ie(e?i=>e.schedule(r,0,i):r)}function Cg(n){return!!n&&(n instanceof ie||te(n.lift)&&te(n.subscribe))}var or=Zo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function le(n,e){return fe((t,r)=>{let i=0;t.subscribe(ue(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:Px}=Array;function xx(n,e){return Px(e)?n(...e):n(e)}function Kl(n){return le(e=>xx(n,e))}var{isArray:kx}=Array,{getPrototypeOf:Ox,prototype:Fx,keys:Lx}=Object;function Ql(n){if(n.length===1){let e=n[0];if(kx(e))return{args:e,keys:null};if(Vx(e)){let t=Lx(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function Vx(n){return n&&typeof n=="object"&&Ox(n)===Fx}function Yl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function rc(...n){let e=Vr(n),t=Ll(n),{args:r,keys:i}=Ql(n);if(r.length===0)return Se([],e);let o=new ie(jx(r,e,i?s=>Yl(i,s):Ot));return t?o.pipe(Kl(t)):o}function jx(n,e,t=Ot){return r=>{nb(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)nb(e,()=>{let l=Se(n[u],e),h=!1;l.subscribe(ue(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function nb(n,e,t){n?Nt(t,n,e):e()}function rb(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=M=>l<r?T(M):u.push(M),T=M=>{o&&e.next(M),l++;let R=!1;je(t(M,h++)).subscribe(ue(e,O=>{i?.(O),o?y(O):e.next(O)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let O=u.shift();s?Nt(e,s,()=>T(O)):T(O)}m()}catch(O){e.error(O)}}))};return n.subscribe(ue(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Fe(n,e,t=1/0){return te(e)?Fe((r,i)=>le((o,s)=>e(r,o,i,s))(je(n(r,i))),t):(typeof e=="number"&&(t=e),fe((r,i)=>rb(r,i,n,t)))}function cs(n=1/0){return Fe(Ot,n)}function ib(){return cs(1)}function us(...n){return ib()(Se(n,Vr(n)))}function ic(n){return new ie(e=>{je(n()).subscribe(e)})}function Tg(...n){let e=Ll(n),{args:t,keys:r}=Ql(n),i=new ie(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;je(t[h]).subscribe(ue(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Yl(r,a):a),o.complete())}))}});return e?i.pipe(Kl(e)):i}function Mt(n,e){return fe((t,r)=>{let i=0;t.subscribe(ue(r,o=>n.call(e,o,i++)&&r.next(o)))})}function sr(n){return fe((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ue(t,void 0,void 0,s=>{o=je(n(s,sr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function ob(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(ue(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Br(n,e){return te(e)?Fe(n,e,1):Fe(n,1)}function $r(n){return fe((e,t)=>{let r=!1;e.subscribe(ue(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ar(n){return n<=0?()=>Rt:fe((e,t)=>{let r=0;e.subscribe(ue(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Zl(n=Ux){return fe((e,t)=>{let r=!1;e.subscribe(ue(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Ux(){return new or}function oc(n){return fe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function cr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Mt((i,o)=>n(i,o,r)):Ot,ar(1),t?$r(e):Zl(()=>new or))}function ls(n){return n<=0?()=>Rt:fe((e,t)=>{let r=[];e.subscribe(ue(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Sg(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Mt((i,o)=>n(i,o,r)):Ot,ls(1),t?$r(e):Zl(()=>new or))}function Ag(n,e){return fe(ob(n,e,arguments.length>=2,!0))}function Rg(...n){let e=Vr(n);return fe((t,r)=>{(e?us(n,t,e):us(n,t)).subscribe(r)})}function bt(n,e){return fe((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(ue(r,u=>{i?.unsubscribe();let l=0,h=o++;je(n(u,h)).subscribe(i=ue(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Jl(n){return fe((e,t)=>{je(n).subscribe(ue(t,()=>t.complete(),tc)),!t.closed&&e.subscribe(t)})}function Ye(n,e,t){let r=te(n)||e||t?{next:n,error:e,complete:t}:n;return r?fe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ue(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ot}function sb(n){let e=ee(null);try{return n()}finally{ee(e)}}var Hr=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},$g=new Hr("20.3.10");var nd="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",L=class extends Error{code;constructor(e,t){super(zr(e,t)),this.code=e}};function Bx(n){return`NG0${Math.abs(n)}`}function zr(n,e){return`${Bx(n)}${e?": "+e:""}`}var uc=globalThis;function ve(n){for(let e in n)if(n[e]===ve)return e;throw Error("")}function ub(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function lr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(lr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Hg(n,e){return n?e?`${n} ${e}`:n:e||""}var $x=ve({__forward_ref__:ve});function An(n){return n.__forward_ref__=An,n.toString=function(){return lr(this())},n}function it(n){return qg(n)?n():n}function qg(n){return typeof n=="function"&&n.hasOwnProperty($x)&&n.__forward_ref__===An}function j(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function un(n){return{providers:n.providers||[],imports:n.imports||[]}}function lc(n){return Hx(n,rd)}function zg(n){return lc(n)!==null}function Hx(n,e){return n.hasOwnProperty(e)&&n[e]||null}function qx(n){let e=n?.[rd]??null;return e||null}function Mg(n){return n&&n.hasOwnProperty(ed)?n[ed]:null}var rd=ve({\u0275prov:ve}),ed=ve({\u0275inj:ve}),V=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=j({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Gg(n){return n&&!!n.\u0275providers}var Wg=ve({\u0275cmp:ve}),Kg=ve({\u0275dir:ve}),Qg=ve({\u0275pipe:ve}),Yg=ve({\u0275mod:ve}),ac=ve({\u0275fac:ve}),qi=ve({__NG_ELEMENT_ID__:ve}),ab=ve({__NG_ENV_ID__:ve});function dc(n){return typeof n=="string"?n:n==null?"":String(n)}function lb(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():dc(n)}var db=ve({ngErrorCode:ve}),zx=ve({ngErrorMessage:ve}),Gx=ve({ngTokenPath:ve});function Zg(n,e){return hb("",-200,e)}function id(n,e){throw new L(-201,!1)}function hb(n,e,t){let r=new L(e,n);return r[db]=e,r[zx]=n,t&&(r[Gx]=t),r}function Wx(n){return n[db]}var Pg;function fb(){return Pg}function Ft(n){let e=Pg;return Pg=n,e}function Jg(n,e,t){let r=lc(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;id(n,"Injector")}var Kx={},ji=Kx,xg="__NG_DI_FLAG__",kg=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Ui(t)||0;try{return this.injector.get(e,r&8?null:ji,r)}catch(i){if(zo(i))return i;throw i}}};function Qx(n,e=0){let t=vl();if(t===void 0)throw new L(-203,!1);if(t===null)return Jg(n,void 0,e);{let r=Yx(e),i=t.retrieve(n,r);if(zo(i)){if(r.optional)return null;throw i}return i}}function H(n,e=0){return(fb()||Qx)(it(n),e)}function A(n,e){return H(n,Ui(e))}function Ui(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Yx(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Og(n){let e=[];for(let t=0;t<n.length;t++){let r=it(n[t]);if(Array.isArray(r)){if(r.length===0)throw new L(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=Zx(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(H(i,o))}else e.push(H(r))}return e}function pb(n,e){return n[xg]=e,n.prototype[xg]=e,n}function Zx(n){return n[xg]}function Bi(n,e){let t=n.hasOwnProperty(ac);return t?n[ac]:null}function od(n,e){n.forEach(t=>Array.isArray(t)?od(t,e):e(t))}function Xg(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function hc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function gb(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function mb(n,e,t){let r=hs(n,e);return r>=0?n[r|1]=t:(r=~r,gb(n,r,e,t)),r}function sd(n,e){let t=hs(n,e);if(t>=0)return n[t|1]}function hs(n,e){return Jx(n,e,1)}function Jx(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Gr={},Lt=[],Wr=new V(""),em=new V("",-1),tm=new V(""),cc=class{get(e,t=ji){if(t===ji){let i=hb("",-201);throw i.name="\u0275NotFound",i}return t}};function nm(n){return n[Yg]||null}function dr(n){return n[Wg]||null}function rm(n){return n[Kg]||null}function yb(n){return n[Qg]||null}function zt(n){return{\u0275providers:n}}function ad(...n){return{\u0275providers:im(!0,n),\u0275fromNgModule:!0}}function im(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return od(e,s=>{let a=s;td(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&vb(i,o),t}function vb(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];om(i,o=>{e(o,r)})}}function td(n,e,t,r){if(n=it(n),!n)return!1;let i=null,o=Mg(n),s=!o&&dr(n);if(!o&&!s){let u=n.ngModule;if(o=Mg(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)td(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{od(o.imports,h=>{td(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&vb(l,e)}if(!a){let l=Bi(i)||(()=>new i);e({provide:i,useFactory:l,deps:Lt},i),e({provide:tm,useValue:i,multi:!0},i),e({provide:Wr,useValue:()=>H(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;om(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function om(n,e){for(let t of n)Gg(t)&&(t=t.\u0275providers),Array.isArray(t)?om(t,e):e(t)}var Xx=ve({provide:String,useValue:ve});function _b(n){return n!==null&&typeof n=="object"&&Xx in n}function ek(n){return!!(n&&n.useExisting)}function tk(n){return!!(n&&n.useFactory)}function $i(n){return typeof n=="function"}function Eb(n){return!!n.useClass}var fc=new V(""),Xl={},cb={},Ng;function pc(){return Ng===void 0&&(Ng=new cc),Ng}var Le=class{},Hi=class extends Le{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,Lg(e,s=>this.processProvider(s)),this.records.set(em,ds(void 0,this)),i.has("environment")&&this.records.set(Le,ds(void 0,this));let o=this.records.get(fc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(tm,Lt,{self:!0}))}retrieve(e,t){let r=Ui(t)||0;try{return this.get(e,ji,r)}catch(i){if(zo(i))return i;throw i}}destroy(){sc(this),this._destroyed=!0;let e=ee(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ee(e)}}onDestroy(e){return sc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){sc(this);let t=Tn(this),r=Ft(void 0),i;try{return e()}finally{Tn(t),Ft(r)}}get(e,t=ji,r){if(sc(this),e.hasOwnProperty(ab))return e[ab](this);let i=Ui(r),o,s=Tn(this),a=Ft(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=sk(e)&&lc(e);h&&this.injectableDefInScope(h)?l=ds(Fg(e),Xl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?pc():this.parent;return t=i&8&&t===ji?null:t,u.get(e,t)}catch(u){let l=Wx(u);throw l===-200||l===-201?new L(l,null):u}finally{Ft(a),Tn(s)}}resolveInjectorInitializers(){let e=ee(null),t=Tn(this),r=Ft(void 0),i;try{let o=this.get(Wr,Lt,{self:!0});for(let s of o)s()}finally{Tn(t),Ft(r),ee(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(lr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=it(e);let t=$i(e)?e:it(e&&e.provide),r=rk(e);if(!$i(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ds(void 0,Xl,!0),i.factory=()=>Og(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=ee(null);try{if(t.value===cb)throw Zg(lr(e));return t.value===Xl&&(t.value=cb,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&ok(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ee(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=it(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Fg(n){let e=lc(n),t=e!==null?e.factory:Bi(n);if(t!==null)return t;if(n instanceof V)throw new L(204,!1);if(n instanceof Function)return nk(n);throw new L(204,!1)}function nk(n){if(n.length>0)throw new L(204,!1);let t=qx(n);return t!==null?()=>t.factory(n):()=>new n}function rk(n){if(_b(n))return ds(void 0,n.useValue);{let e=sm(n);return ds(e,Xl)}}function sm(n,e,t){let r;if($i(n)){let i=it(n);return Bi(i)||Fg(i)}else if(_b(n))r=()=>it(n.useValue);else if(tk(n))r=()=>n.useFactory(...Og(n.deps||[]));else if(ek(n))r=(i,o)=>H(it(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=it(n&&(n.useClass||n.provide));if(ik(n))r=()=>new i(...Og(n.deps));else return Bi(i)||Fg(i)}return r}function sc(n){if(n.destroyed)throw new L(205,!1)}function ds(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function ik(n){return!!n.deps}function ok(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function sk(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Lg(n,e){for(let t of n)Array.isArray(t)?Lg(t,e):t&&Gg(t)?Lg(t.\u0275providers,e):e(t)}function Ue(n,e){let t;n instanceof Hi?(sc(n),t=n):t=new kg(n);let r,i=Tn(t),o=Ft(void 0);try{return e()}finally{Tn(i),Ft(o)}}function Ib(){return fb()!==void 0||vl()!=null}var ln=0,ne=1,Z=2,ot=3,Gt=4,Wt=5,gc=6,fs=7,st=8,Kr=9,Rn=10,xe=11,ps=12,am=13,zi=14,Kt=15,Gi=16,Wi=17,Ki=18,mc=19,cm=20,ur=21,cd=22,yc=23,Vt=24,Qi=25,vc=26,pt=27,wb=1;var Qr=7,_c=8,Ec=9,Ct=10;function Nn(n){return Array.isArray(n)&&typeof n[wb]=="object"}function dn(n){return Array.isArray(n)&&n[wb]===!0}function um(n){return(n.flags&4)!==0}function Yr(n){return n.componentOffset>-1}function Ic(n){return(n.flags&1)===1}function Mn(n){return!!n.template}function gs(n){return(n[Z]&512)!==0}function Yi(n){return(n[Z]&256)===256}var Db="svg",bb="math";function Qt(n){for(;Array.isArray(n);)n=n[ln];return n}function lm(n,e){return Qt(e[n])}function hn(n,e){return Qt(e[n.index])}function wc(n,e){return n.data[e]}function Yt(n,e){let t=e[n];return Nn(t)?t:t[ln]}function ud(n){return(n[Z]&128)===128}function Cb(n){return dn(n[ot])}function Zr(n,e){return e==null?null:n[e]}function dm(n){n[Wi]=0}function hm(n){n[Z]&1024||(n[Z]|=1024,ud(n)&&ms(n))}function Tb(n,e){for(;n>0;)e=e[zi],n--;return e}function Dc(n){return!!(n[Z]&9216||n[Vt]?.dirty)}function ld(n){n[Rn].changeDetectionScheduler?.notify(8),n[Z]&64&&(n[Z]|=1024),Dc(n)&&ms(n)}function ms(n){n[Rn].changeDetectionScheduler?.notify(0);let e=qr(n);for(;e!==null&&!(e[Z]&8192||(e[Z]|=8192,!ud(e)));)e=qr(e)}function fm(n,e){if(Yi(n))throw new L(911,!1);n[ur]===null&&(n[ur]=[]),n[ur].push(e)}function Sb(n,e){if(n[ur]===null)return;let t=n[ur].indexOf(e);t!==-1&&n[ur].splice(t,1)}function qr(n){let e=n[ot];return dn(e)?e[ot]:e}function Ab(n){return n[fs]??=[]}function Rb(n){return n.cleanup??=[]}var de={lFrame:zb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Vg=!1;function Nb(){return de.lFrame.elementDepthCount}function Mb(){de.lFrame.elementDepthCount++}function Pb(){de.lFrame.elementDepthCount--}function pm(){return de.bindingsEnabled}function xb(){return de.skipHydrationRootTNode!==null}function kb(n){return de.skipHydrationRootTNode===n}function Ob(){de.skipHydrationRootTNode=null}function _e(){return de.lFrame.lView}function Tt(){return de.lFrame.tView}function Zt(n){return de.lFrame.contextLView=n,n[st]}function Jt(n){return de.lFrame.contextLView=null,n}function gt(){let n=gm();for(;n!==null&&n.type===64;)n=n.parent;return n}function gm(){return de.lFrame.currentTNode}function Fb(){let n=de.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function ys(n,e){let t=de.lFrame;t.currentTNode=n,t.isParent=e}function mm(){return de.lFrame.isParent}function Lb(){de.lFrame.isParent=!1}function ym(){return Vg}function vm(n){let e=Vg;return Vg=n,e}function Vb(n){return de.lFrame.bindingIndex=n}function vs(){return de.lFrame.bindingIndex++}function jb(n){let e=de.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Ub(){return de.lFrame.inI18n}function Bb(n,e){let t=de.lFrame;t.bindingIndex=t.bindingRootIndex=n,dd(e)}function $b(){return de.lFrame.currentDirectiveIndex}function dd(n){de.lFrame.currentDirectiveIndex=n}function Hb(n){let e=de.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function _m(n){de.lFrame.currentQueryIndex=n}function ak(n){let e=n[ne];return e.type===2?e.declTNode:e.type===1?n[Wt]:null}function Em(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=ak(o),i===null||(o=o[zi],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=de.lFrame=qb();return r.currentTNode=e,r.lView=n,!0}function hd(n){let e=qb(),t=n[ne];de.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function qb(){let n=de.lFrame,e=n===null?null:n.child;return e===null?zb(n):e}function zb(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function Gb(){let n=de.lFrame;return de.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Im=Gb;function fd(){let n=Gb();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Wb(n){return(de.lFrame.contextLView=Tb(n,de.lFrame.contextLView))[st]}function Zi(){return de.lFrame.selectedIndex}function Jr(n){de.lFrame.selectedIndex=n}function pd(){let n=de.lFrame;return wc(n.tView,n.selectedIndex)}function Kb(){return de.lFrame.currentNamespace}var Qb=!0;function gd(){return Qb}function md(n){Qb=n}function jg(n,e=null,t=null,r){let i=wm(n,e,t,r);return i.resolveInjectorInitializers(),i}function wm(n,e=null,t=null,r,i=new Set){let o=[t||Lt,ad(n)];return r=r||(typeof n=="object"?void 0:lr(n)),new Hi(o,e||pc(),r||null,i)}var Re=class n{static THROW_IF_NOT_FOUND=ji;static NULL=new cc;static create(e,t){if(Array.isArray(e))return jg({name:""},t,e,"");{let r=e.name??"";return jg({name:r},e.parent,e.providers,r)}}static \u0275prov=j({token:n,providedIn:"any",factory:()=>H(em)});static __NG_ELEMENT_ID__=-1},Be=new V(""),hr=(()=>{class n{static __NG_ELEMENT_ID__=ck;static __NG_ENV_ID__=t=>t}return n})(),Ug=class extends hr{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Yi(this._lView)}onDestroy(e){let t=this._lView;return fm(t,e),()=>Sb(t,e)}};function ck(){return new Ug(_e())}var cn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Pt=new V("",{providedIn:"root",factory:()=>{let n=A(Le),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(cn),e.handleError(t))}}}),Yb={provide:Wr,useValue:()=>void A(cn),multi:!0};function Dm(n){return typeof n=="function"&&n[ft]!==void 0}function mt(n,e){let[t,r,i]=lg(n,e?.equal),o=t,s=o[ft];return o.set=r,o.update=i,o.asReadonly=Zb.bind(o),o}function Zb(){let n=this[ft];if(n.readonlyFn===void 0){let e=()=>this();e[ft]=n,n.readonlyFn=e}return n.readonlyFn}function bm(n){return Dm(n)&&typeof n.set=="function"}var yd=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=uk}return n})();function uk(){return new yd(_e(),gt())}var Sn=class{},bc=new V("",{providedIn:"root",factory:()=>!1});var Cm=new V(""),vd=new V(""),Pn=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new rt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ie(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})(),_s=(()=>{class n{internalPendingTasks=A(Pn);scheduler=A(Sn);errorHandler=A(Pt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})();function Cc(...n){}var Tm=(()=>{class n{static \u0275prov=j({token:n,providedIn:"root",factory:()=>new Bg})}return n})(),Bg=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Cs(n){return{toString:n}.toString()}var _d="__parameters__";function vk(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function _k(n,e,t){return Cs(()=>{let r=vk(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(_d)?u[_d]:Object.defineProperty(u,_d,{value:[]})[_d];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var jt=pb(_k("Optional"),8);function Ek(n){return typeof n=="function"}var Cd=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function NC(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var pr=(()=>{let n=()=>MC;return n.ngInherit=!0,n})();function MC(n){return n.type.prototype.ngOnChanges&&(n.setInput=wk),Ik}function Ik(){let n=xC(this),e=n?.current;if(e){let t=n.previous;if(t===Gr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function wk(n,e,t,r,i){let o=this.declaredInputs[r],s=xC(n)||Dk(n,{previous:Gr,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Cd(l&&l.currentValue,t,u===Gr),NC(n,e,i,t)}var PC="__ngSimpleChanges__";function xC(n){return n[PC]||null}function Dk(n,e){return n[PC]=e}var Jb=[];var we=function(n,e=null,t){for(let r=0;r<Jb.length;r++){let i=Jb[r];i(n,e,t)}};function bk(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=MC(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function kC(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function wd(n,e,t){OC(n,e,3,t)}function Dd(n,e,t,r){(n[Z]&3)===t&&OC(n,e,t,r)}function Sm(n,e){let t=n[Z];(t&3)===e&&(t&=16383,t+=1,n[Z]=t)}function OC(n,e,t,r){let i=r!==void 0?n[Wi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[Wi]+=65536),(a<o||o==-1)&&(Ck(n,t,e,u),n[Wi]=(n[Wi]&4294901760)+u+2),u++}function Xb(n,e){we(4,n,e);let t=ee(null);try{e.call(n)}finally{ee(t),we(5,n,e)}}function Ck(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[Z]>>14<n[Wi]>>16&&(n[Z]&3)===e&&(n[Z]+=16384,Xb(a,o)):Xb(a,o)}var Is=-1,Xi=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function Tk(n){return(n.flags&8)!==0}function Sk(n){return(n.flags&16)!==0}function Ak(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];Rk(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function FC(n){return n===3||n===4||n===6}function Rk(n){return n.charCodeAt(0)===64}function Ac(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?eC(n,t,i,null,e[++r]):eC(n,t,i,null,null))}}return n}function eC(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function LC(n){return n!==Is}function Td(n){return n&32767}function Nk(n){return n>>16}function Sd(n,e){let t=Nk(n),r=e;for(;t>0;)r=r[zi],t--;return r}var Lm=!0;function tC(n){let e=Lm;return Lm=n,e}var Mk=256,VC=Mk-1,jC=5,Pk=0,xn={};function xk(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(qi)&&(r=t[qi]),r==null&&(r=t[qi]=Pk++);let i=r&VC,o=1<<i;e.data[n+(i>>jC)]|=o}function Ad(n,e){let t=UC(n,e);if(t!==-1)return t;let r=e[ne];r.firstCreatePass&&(n.injectorIndex=e.length,Am(r.data,n),Am(e,null),Am(r.blueprint,null));let i=ny(n,e),o=n.injectorIndex;if(LC(i)){let s=Td(i),a=Sd(i,e),u=a[ne].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Am(n,e){n.push(0,0,0,0,0,0,0,0,e)}function UC(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function ny(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=zC(i),r===null)return Is;if(t++,i=i[zi],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Is}function Vm(n,e,t){xk(n,e,t)}function kk(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(FC(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function BC(n,e,t){if(t&8||n!==void 0)return n;id(e,"NodeInjector")}function $C(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Kr],o=Ft(void 0);try{return i?i.get(e,r,t&8):Jg(e,r,t&8)}finally{Ft(o)}}return BC(r,e,t)}function HC(n,e,t,r=0,i){if(n!==null){if(e[Z]&2048&&!(r&2)){let s=jk(n,e,t,r,xn);if(s!==xn)return s}let o=qC(n,e,t,r,xn);if(o!==xn)return o}return $C(e,t,r,i)}function qC(n,e,t,r,i){let o=Lk(t);if(typeof o=="function"){if(!Em(e,n,r))return r&1?BC(i,t,r):$C(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))id(t);else return s}finally{Im()}}else if(typeof o=="number"){let s=null,a=UC(n,e),u=Is,l=r&1?e[Kt][Wt]:null;for((a===-1||r&4)&&(u=a===-1?ny(n,e):e[a+8],u===Is||!rC(r,!1)?a=-1:(s=e[ne],a=Td(u),e=Sd(u,e)));a!==-1;){let h=e[ne];if(nC(o,a,h.data)){let p=Ok(a,e,t,s,r,l);if(p!==xn)return p}u=e[a+8],u!==Is&&rC(r,e[ne].data[a+8]===l)&&nC(o,a,e)?(s=h,a=Td(u),e=Sd(u,e)):a=-1}}return i}function Ok(n,e,t,r,i,o){let s=e[ne],a=s.data[n+8],u=r==null?Yr(a)&&Lm:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=Fk(a,s,t,u,l);return h!==null?Rd(e,s,h,a,i):xn}function Fk(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let T=s[y];if(y<u&&t===T||y>=u&&T.type===t)return y}if(i){let y=s[u];if(y&&Mn(y)&&y.type===t)return u}return null}function Rd(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Xi){let a=o;if(a.resolving){let y=lb(s[t]);throw Zg(y)}let u=tC(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],h,p=a.injectImpl?Ft(a.injectImpl):null,m=Em(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&bk(t,s[t],e)}finally{p!==null&&Ft(p),tC(u),a.resolving=!1,Im()}}return o}function Lk(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(qi)?n[qi]:void 0;return typeof e=="number"?e>=0?e&VC:Vk:e}function nC(n,e,t){let r=1<<n;return!!(t[e+(n>>jC)]&r)}function rC(n,e){return!(n&2)&&!(n&1&&e)}var Ji=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return HC(this._tNode,this._lView,e,Ui(r),t)}};function Vk(){return new Ji(gt(),_e())}function io(n){return Cs(()=>{let e=n.prototype.constructor,t=e[ac]||jm(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[ac]||jm(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function jm(n){return qg(n)?()=>{let e=jm(it(n));return e&&e()}:Bi(n)}function jk(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Z]&2048&&!gs(s);){let a=qC(o,s,t,r|2,xn);if(a!==xn)return a;let u=o.parent;if(!u){let l=s[cm];if(l){let h=l.get(t,xn,r);if(h!==xn)return h}u=zC(s),s=s[zi]}o=u}return i}function zC(n){let e=n[ne],t=e.type;return t===2?e.declTNode:t===1?n[Wt]:null}function xc(n){return kk(gt(),n)}function Uk(){return Bd(gt(),_e())}function Bd(n,e){return new On(hn(n,e))}var On=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=Uk}return n})();function GC(n){return(n.flags&128)===128}var ry=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(ry||{}),WC=new Map,Bk=0;function $k(){return Bk++}function Hk(n){WC.set(n[mc],n)}function Um(n){WC.delete(n[mc])}var iC="__ngContext__";function ws(n,e){Nn(e)?(n[iC]=e[mc],Hk(e)):n[iC]=e}function KC(n){return YC(n[ps])}function QC(n){return YC(n[Gt])}function YC(n){for(;n!==null&&!dn(n);)n=n[Gt];return n}var Bm;function iy(n){Bm=n}function ZC(){if(Bm!==void 0)return Bm;if(typeof document<"u")return document;throw new L(210,!1)}var $d=new V("",{providedIn:"root",factory:()=>qk}),qk="ng",Hd=new V(""),ei=new V("",{providedIn:"platform",factory:()=>"unknown"});var qd=new V("",{providedIn:"root",factory:()=>ZC().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var zk="h",Gk="b";var JC=!1,XC=new V("",{providedIn:"root",factory:()=>JC});var oy=new V("");var Wk=(n,e,t,r)=>{};function Kk(n,e,t,r){Wk(n,e,t,r)}function sy(n){return(n.flags&32)===32}var Qk=()=>null;function eT(n,e,t=!1){return Qk(n,e,t)}function tT(n,e){let t=n.contentQueries;if(t!==null){let r=ee(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];_m(o),a.contentQueries(2,e[s],s)}}}finally{ee(r)}}}function $m(n,e,t){_m(0);let r=ee(null);try{e(n,t)}finally{ee(r)}}function nT(n,e,t){if(um(e)){let r=ee(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{ee(r)}}}var fr=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(fr||{});var Ed;function Yk(){if(Ed===void 0&&(Ed=null,uc.trustedTypes))try{Ed=uc.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ed}function oC(n){return Yk()?.createScriptURL(n)||n}var Nd=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${nd})`}};function kc(n){return n instanceof Nd?n.changingThisBreaksApplicationSecurity:n}function ay(n,e){let t=rT(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${nd})`)}return t===e}function rT(n){return n instanceof Nd&&n.getTypeName()||null}var Zk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function iT(n){return n=String(n),n.match(Zk)?n:"unsafe:"+n}var zd=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(zd||{});function Gd(n){let e=sT();return e?e.sanitize(zd.URL,n)||"":ay(n,"URL")?kc(n):iT(dc(n))}function oT(n){let e=sT();if(e)return oC(e.sanitize(zd.RESOURCE_URL,n)||"");if(ay(n,"ResourceURL"))return oC(kc(n));throw new L(904,!1)}function Jk(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?oT:Gd}function cy(n,e,t){return Jk(e,t)(n)}function sT(){let n=_e();return n&&n[Rn].sanitizer}function aT(n){return n instanceof Function?n():n}function Xk(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var cT="ng-template";function eO(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Xk(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(uy(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function uy(n){return n.type===4&&n.value!==cT}function tO(n,e,t){let r=n.type===4&&!t?cT:n.value;return e===r}function nO(n,e,t){let r=4,i=n.attrs,o=i!==null?oO(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!fn(r)&&!fn(u))return!1;if(s&&fn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!tO(n,u,t)||u===""&&e.length===1){if(fn(r))return!1;s=!0}}else if(r&8){if(i===null||!eO(n,i,u,t)){if(fn(r))return!1;s=!0}}else{let l=e[++a],h=rO(u,i,uy(n),t);if(h===-1){if(fn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(fn(r))return!1;s=!0}}}}return fn(r)||s}function fn(n){return(n&1)===0}function rO(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return sO(e,n)}function iO(n,e,t=!1){for(let r=0;r<e.length;r++)if(nO(n,e[r],t))return!0;return!1}function oO(n){for(let e=0;e<n.length;e++){let t=n[e];if(FC(t))return e}return n.length}function sO(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function sC(n,e){return n?":not("+e.trim()+")":e}function aO(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!fn(s)&&(e+=sC(o,i),i=""),r=s,o=o||!fn(r);t++}return i!==""&&(e+=sC(o,i)),e}function cO(n){return n.map(aO).join(",")}function uO(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!fn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var gr={};function lO(n,e){return n.createText(e)}function dO(n,e,t){n.setValue(e,t)}function uT(n,e,t){return n.createElement(e,t)}function Md(n,e,t,r,i){n.insertBefore(e,t,r,i)}function lT(n,e,t){n.appendChild(e,t)}function aC(n,e,t,r,i){r!==null?Md(n,e,t,r,i):lT(n,e,t)}function hO(n,e,t,r){n.removeChild(null,e,t,r)}function fO(n,e,t){n.setAttribute(e,"style",t)}function pO(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function dT(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Ak(n,e,r),i!==null&&pO(n,e,i),o!==null&&fO(n,e,o)}function ly(n,e,t,r,i,o,s,a,u,l,h){let p=pt+r,m=p+i,y=gO(p,m),T=typeof l=="function"?l():l;return y[ne]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:T,incompleteFirstPass:!1,ssrId:h}}function gO(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:gr);return t}function mO(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=ly(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function dy(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[ln]=i,p[Z]=r|4|128|8|64|1024,(l!==null||n&&n[Z]&2048)&&(p[Z]|=2048),dm(p),p[ot]=p[zi]=n,p[st]=t,p[Rn]=s||n&&n[Rn],p[xe]=a||n&&n[xe],p[Kr]=u||n&&n[Kr]||null,p[Wt]=o,p[mc]=$k(),p[gc]=h,p[cm]=l,p[Kt]=e.type==2?n[Kt]:p,p}function yO(n,e,t){let r=hn(e,n),i=mO(t),o=n[Rn].rendererFactory,s=hy(n,dy(n,i,null,hT(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function hT(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function fT(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function hy(n,e){return n[ps]?n[am][Gt]=e:n[ps]=e,n[am]=e,e}function Ce(n=1){pT(Tt(),_e(),Zi()+n,!1)}function pT(n,e,t,r){if(!r)if((e[Z]&3)===3){let o=n.preOrderCheckHooks;o!==null&&wd(e,o,t)}else{let o=n.preOrderHooks;o!==null&&Dd(e,o,0,t)}Jr(t)}var Wd=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Wd||{});function Hm(n,e,t,r){let i=ee(null);try{let[o,s,a]=n.inputs[t],u=null;(s&Wd.SignalBased)!==0&&(u=e[o][ft]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):NC(e,u,o,r)}finally{ee(i)}}var kn=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(kn||{}),vO;function fy(n,e){return vO(n,e)}var Ds=new Set,Kd=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(Kd||{}),oo=new V(""),cC=new Set;function Fn(n){cC.has(n)||(cC.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var gT=!1,qm=class extends Ve{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Ib()&&(this.destroyRef=A(hr,{optional:!0})??void 0,this.pendingTasks=A(Pn,{optional:!0})??void 0)}emit(e){let t=ee(null);try{super.next(e)}finally{ee(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Pe&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},$e=qm;function mT(n){let e,t;function r(){n=Cc;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function uC(n){return queueMicrotask(()=>n()),()=>{n=Cc}}var py="isAngularZone",Pd=py+"_ID",_O=0,me=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new $e(!1);onMicrotaskEmpty=new $e(!1);onStable=new $e(!1);onError=new $e(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=gT}=e;if(typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,wO(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(py)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new L(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,EO,Cc,Cc);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},EO={};function gy(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function IO(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){mT(()=>{n.callbackScheduled=!1,zm(n),n.isCheckStableRunning=!0,gy(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),zm(n)}function wO(n){let e=()=>{IO(n)},t=_O++;n._inner=n._inner.fork({name:"angular",properties:{[py]:!0,[Pd]:t,[Pd+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(DO(u))return r.invokeTask(o,s,a,u);try{return lC(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),dC(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return lC(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!bO(u)&&e(),dC(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,zm(n),gy(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function zm(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function lC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function dC(n){n._nesting--,gy(n)}var Rc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new $e;onMicrotaskEmpty=new $e;onStable=new $e;onError=new $e;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function DO(n){return yT(n,"__ignore_ng_zone__")}function bO(n){return yT(n,"__scheduler_tick__")}function yT(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var my=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})(),vT=[0,1,2,3],_T=(()=>{class n{ngZone=A(me);scheduler=A(Sn);errorHandler=A(cn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){A(oo,{optional:!0})}execute(){let t=this.sequences.size>0;t&&we(16),this.executing=!0;for(let r of vT)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&we(17)}register(t){let{view:r}=t;r!==void 0?((r[Qi]??=[]).push(t),ms(r),r[Z]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Kd.AFTER_NEXT_RENDER,t):t()}static \u0275prov=j({token:n,providedIn:"root",factory:()=>new n})}return n})(),xd=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Qi];e&&(this.view[Qi]=e.filter(t=>t!==this))}};function Qd(n,e){let t=e?.injector??A(Re);return Fn("NgAfterNextRender"),TO(n,t,e,!0)}function CO(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function TO(n,e,t,r){let i=e.get(my);i.impl??=e.get(_T);let o=e.get(oo,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(hr):null,a=e.get(yd,null,{optional:!0}),u=new xd(i.impl,CO(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var SO=new V("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function ET(n,e){let t=n.get(SO);if(Array.isArray(e))for(let r of e)t.queue.add(r);else t.queue.add(e);t.scheduler&&t.scheduler(n)}function AO(n,e){for(let[t,r]of e)ET(n,r.animateFns)}function hC(n,e,t,r){let i=n?.[vc]?.enter;e!==null&&i&&i.has(t.index)&&AO(r,i)}function Es(n,e,t,r,i,o,s,a){if(i!=null){let u,l=!1;dn(i)?u=i:Nn(i)&&(l=!0,i=i[ln]);let h=Qt(i);n===0&&r!==null?(hC(a,r,o,t),s==null?lT(e,r,h):Md(e,r,h,s||null,!0)):n===1&&r!==null?(hC(a,r,o,t),Md(e,r,h,s||null,!0)):n===2?fC(a,o,t,p=>{hO(e,h,l,p)}):n===3&&fC(a,o,t,()=>{e.destroyNode(h)}),u!=null&&BO(e,n,t,u,o,r,s)}}function RO(n,e){IT(n,e),e[ln]=null,e[Wt]=null}function NO(n,e,t,r,i,o){r[ln]=i,r[Wt]=e,Yd(n,r,t,1,i,o)}function IT(n,e){e[Rn].changeDetectionScheduler?.notify(9),Yd(n,e,e[xe],2,null,null)}function MO(n){let e=n[ps];if(!e)return Rm(n[ne],n);for(;e;){let t=null;if(Nn(e))t=e[ps];else{let r=e[Ct];r&&(t=r)}if(!t){for(;e&&!e[Gt]&&e!==n;)Nn(e)&&Rm(e[ne],e),e=e[ot];e===null&&(e=n),Nn(e)&&Rm(e[ne],e),t=e&&e[Gt]}e=t}}function yy(n,e){let t=n[Ec],r=t.indexOf(e);t.splice(r,1)}function vy(n,e){if(Yi(e))return;let t=e[xe];t.destroyNode&&Yd(n,e,t,3,null,null),MO(e)}function Rm(n,e){if(Yi(e))return;let t=ee(null);try{e[Z]&=-129,e[Z]|=256,e[Vt]&&ec(e[Vt]),kO(n,e),xO(n,e),e[ne].type===1&&e[xe].destroy();let r=e[Gi];if(r!==null&&dn(e[ot])){r!==e[ot]&&yy(r,e);let i=e[Ki];i!==null&&i.detachView(n)}Um(e)}finally{ee(t)}}function fC(n,e,t,r){let i=n?.[vc];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);if(i.skipLeaveAnimations)return i.skipLeaveAnimations=!1,r(!1);n&&Ds.add(n),ET(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s)for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:h}=l();a.push(h)}i.running=Promise.allSettled(a),PO(n,r)}else n&&Ds.delete(n),r(!1)})}function PO(n,e){let t=n[vc]?.running;if(t){t.then(()=>{n[vc].running=void 0,Ds.delete(n),e(!0)});return}e(!1)}function xO(n,e){let t=n.cleanup,r=e[fs];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[fs]=null);let i=e[ur];if(i!==null){e[ur]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[yc];if(o!==null){e[yc]=null;for(let s of o)s.destroy()}}function kO(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Xi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];we(4,a,u);try{u.call(a)}finally{we(5,a,u)}}else{we(4,i,o);try{o.call(i)}finally{we(5,i,o)}}}}}function OO(n,e,t){return FO(n,e.parent,t)}function FO(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[ln];if(Yr(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===fr.None||i===fr.Emulated)return null}return hn(r,t)}function LO(n,e,t){return jO(n,e,t)}function VO(n,e,t){return n.type&40?hn(n,t):null}var jO=VO,pC;function _y(n,e,t,r){let i=OO(n,r,e),o=e[xe],s=r.parent||e[Wt],a=LO(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)aC(o,i,t[u],a,!1);else aC(o,i,t,a,!1);pC!==void 0&&pC(o,r,e,t,i)}function Tc(n,e){if(e!==null){let t=e.type;if(t&3)return hn(e,n);if(t&4)return Gm(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Tc(n,r);{let i=n[e.index];return dn(i)?Gm(-1,i):Qt(i)}}else{if(t&128)return Tc(n,e.next);if(t&32)return fy(e,n)()||Qt(n[e.index]);{let r=wT(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=qr(n[Kt]);return Tc(i,r)}else return Tc(n,e.next)}}}return null}function wT(n,e){if(e!==null){let r=n[Kt][Wt],i=e.projection;return r.projection[i]}return null}function Gm(n,e){let t=Ct+n+1;if(t<e.length){let r=e[t],i=r[ne].firstChild;if(i!==null)return Tc(r,i)}return e[Qr]}function Ey(n,e,t,r,i,o,s){for(;t!=null;){let a=r[Kr];if(t.type===128){t=t.next;continue}let u=r[t.index],l=t.type;if(s&&e===0&&(u&&ws(Qt(u),r),t.flags|=2),!sy(t))if(l&8)Ey(n,e,t.child,r,i,o,!1),Es(e,n,a,i,u,t,o,r);else if(l&32){let h=fy(t,r),p;for(;p=h();)Es(e,n,a,i,p,t,o,r);Es(e,n,a,i,u,t,o,r)}else l&16?UO(n,e,r,t,i,o):Es(e,n,a,i,u,t,o,r);t=s?t.projectionNext:t.next}}function Yd(n,e,t,r,i,o){Ey(t,r,n.firstChild,e,i,o,!1)}function UO(n,e,t,r,i,o){let s=t[Kt],u=s[Wt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Es(e,n,t[Kr],i,h,r,o,t)}else{let l=u,h=s[ot];GC(r)&&(l.flags|=128),Ey(n,e,l,h,i,o,!0)}}function BO(n,e,t,r,i,o,s){let a=r[Qr],u=Qt(r);a!==u&&Es(e,n,t,o,a,i,s);for(let l=Ct;l<r.length;l++){let h=r[l];Yd(h[ne],h,n,e,o,a)}}function $O(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:kn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=kn.Important),n.setStyle(t,r,i,o))}}function DT(n,e,t,r,i){let o=Zi(),s=r&2;try{Jr(-1),s&&e.length>pt&&pT(n,e,pt,!1),we(s?2:0,i,t),t(r,i)}finally{Jr(o),we(s?3:1,i,t)}}function Iy(n,e,t){QO(n,e,t),(t.flags&64)===64&&YO(n,e,t)}function wy(n,e,t=hn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function HO(n,e,t,r){let o=r.get(XC,JC)||t===fr.ShadowDom,s=n.selectRootElement(e,o);return qO(s),s}function qO(n){zO(n)}var zO=()=>null;function GO(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function bT(n,e,t,r,i,o){let s=e[ne];if(Dy(n,s,e,t,r)){Yr(n)&&KO(e,n.index);return}n.type&3&&(t=GO(t)),WO(n,e,t,r,i,o)}function WO(n,e,t,r,i,o){if(n.type&3){let s=hn(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function KO(n,e){let t=Yt(e,n);t[Z]&16||(t[Z]|=64)}function QO(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Yr(t)&&yO(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Ad(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=Rd(e,n,s,t);if(ws(u,e),o!==null&&e1(e,s-r,u,a,t,o),Mn(a)){let l=Yt(t.index,e);l[st]=Rd(e,n,s,t)}}}function YO(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=$b();try{Jr(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];dd(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&ZO(u,l)}}finally{Jr(-1),dd(s)}}function ZO(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function CT(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];iO(e,o.selectors,!1)&&(r??=[],Mn(o)?r.unshift(o):r.push(o))}return r}function JO(n,e,t,r,i,o){let s=hn(n,e);XO(e[xe],s,o,n.value,t,r,i)}function XO(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?dc(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function e1(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Hm(r,t,u,l)}}function t1(n,e,t,r,i){let o=pt+t,s=e[ne],a=i(s,e,n,r,t);e[o]=a,ys(n,!0);let u=n.type===2;return u?(dT(e[xe],a,n),(Nb()===0||Ic(n))&&ws(a,e),Mb()):ws(a,e),gd()&&(!u||!sy(n))&&_y(s,e,a,n),n}function n1(n){let e=n;return mm()?Lb():(e=e.parent,ys(e,!1)),e}function r1(n,e){let t=n[Kr];if(!t)return;let r;try{r=t.get(Pt,null)}catch{r=null}r?.(e)}function Dy(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Hm(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];Hm(h,l,r,i),a=!0}return a}function i1(n,e){let t=Yt(e,n),r=t[ne];o1(r,t);let i=t[ln];i!==null&&t[gc]===null&&(t[gc]=eT(i,t[Kr])),we(18),by(r,t,t[st]),we(19,t[st])}function o1(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function by(n,e,t){hd(e);try{let r=n.viewQuery;r!==null&&$m(1,r,t);let i=n.template;i!==null&&DT(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Ki]?.finishViewCreation(n),n.staticContentQueries&&tT(n,e),n.staticViewQueries&&$m(2,n.viewQuery,t);let o=n.components;o!==null&&s1(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Z]&=-5,fd()}}function s1(n,e){for(let t=0;t<e.length;t++)i1(n,e[t])}function TT(n,e,t,r){let i=ee(null);try{let o=e.tView,a=n[Z]&4096?4096:16,u=dy(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Gi]=l;let h=n[Ki];return h!==null&&(u[Ki]=h.createEmbeddedView(o)),by(o,u,t),u}finally{ee(i)}}function Wm(n,e){return!e||e.firstChild===null||GC(n)}function Nc(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Qt(o)),dn(o)&&ST(o,r);let s=t.type;if(s&8)Nc(n,e,t.child,r);else if(s&32){let a=fy(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=wT(e,t);if(Array.isArray(a))r.push(...a);else{let u=qr(e[Kt]);Nc(u[ne],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function ST(n,e){for(let t=Ct;t<n.length;t++){let r=n[t],i=r[ne].firstChild;i!==null&&Nc(r[ne],r,i,e)}n[Qr]!==n[ln]&&e.push(n[Qr])}function AT(n){if(n[Qi]!==null){for(let e of n[Qi])e.impl.addSequence(e);n[Qi].length=0}}var RT=[];function a1(n){return n[Vt]??c1(n)}function c1(n){let e=RT.pop()??Object.create(l1);return e.lView=n,e}function u1(n){n.lView[Vt]!==n&&(n.lView=null,RT.push(n))}var l1=se(x({},Go),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{ms(n.lView)},consumerOnSignalRead(){this.lView[Vt]=this}});function d1(n){let e=n[Vt]??Object.create(h1);return e.lView=n,e}var h1=se(x({},Go),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=qr(n.lView);for(;e&&!NT(e[ne]);)e=qr(e);e&&hm(e)},consumerOnSignalRead(){this.lView[Vt]=this}});function NT(n){return n.type!==2}function MT(n){if(n[yc]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[yc])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[Z]&8192)}}var f1=100;function PT(n,e=0){let r=n[Rn].rendererFactory,i=!1;i||r.begin?.();try{p1(n,e)}finally{i||r.end?.()}}function p1(n,e){let t=ym();try{vm(!0),Km(n,e);let r=0;for(;Dc(n);){if(r===f1)throw new L(103,!1);r++,Km(n,1)}}finally{vm(t)}}function g1(n,e,t,r){if(Yi(e))return;let i=e[Z],o=!1,s=!1;hd(e);let a=!0,u=null,l=null;o||(NT(n)?(l=a1(e),u=Ko(l)):Dl()===null?(a=!1,l=d1(e),u=Ko(l)):e[Vt]&&(ec(e[Vt]),e[Vt]=null));try{dm(e),Vb(n.bindingStartIndex),t!==null&&DT(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&wd(e,y,null)}else{let y=n.preOrderHooks;y!==null&&Dd(e,y,0,null),Sm(e,0)}if(s||m1(e),MT(e),xT(e,0),n.contentQueries!==null&&tT(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&wd(e,y)}else{let y=n.contentHooks;y!==null&&Dd(e,y,1),Sm(e,1)}v1(n,e);let p=n.components;p!==null&&OT(e,p,0);let m=n.viewQuery;if(m!==null&&$m(2,m,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&wd(e,y)}else{let y=n.viewHooks;y!==null&&Dd(e,y,2),Sm(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[cd]){for(let y of e[cd])y();e[cd]=null}o||(AT(e),e[Z]&=-73)}catch(h){throw o||ms(e),h}finally{l!==null&&(Ja(l,u),a&&u1(l)),fd()}}function xT(n,e){for(let t=KC(n);t!==null;t=QC(t))for(let r=Ct;r<t.length;r++){let i=t[r];kT(i,e)}}function m1(n){for(let e=KC(n);e!==null;e=QC(e)){if(!(e[Z]&2))continue;let t=e[Ec];for(let r=0;r<t.length;r++){let i=t[r];hm(i)}}}function y1(n,e,t){we(18);let r=Yt(e,n);kT(r,t),we(19,r[st])}function kT(n,e){ud(n)&&Km(n,e)}function Km(n,e){let r=n[ne],i=n[Z],o=n[Vt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Xa(o)),s||=!1,o&&(o.dirty=!1),n[Z]&=-9217,s)g1(r,n,r.template,n[st]);else if(i&8192){let a=ee(null);try{MT(n),xT(n,1);let u=r.components;u!==null&&OT(n,u,1),AT(n)}finally{ee(a)}}}function OT(n,e,t){for(let r=0;r<e.length;r++)y1(n,e[r],t)}function v1(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Jr(~i);else{let o=i,s=t[++r],a=t[++r];Bb(s,o);let u=e[o];we(24,u),a(2,u),we(25,u)}}}finally{Jr(-1)}}function Cy(n,e){let t=ym()?64:1088;for(n[Rn].changeDetectionScheduler?.notify(e);n;){n[Z]|=t;let r=qr(n);if(gs(n)&&!r)return n;n=r}return null}function FT(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function _1(n,e){let t=Ct+e;if(t<n.length)return n[t]}function LT(n,e,t,r=!0){let i=e[ne];if(I1(i,e,n,t),r){let s=Gm(t,n),a=e[xe],u=a.parentNode(n[Qr]);u!==null&&NO(i,n[Wt],a,e,u,s)}let o=e[gc];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function E1(n,e){let t=kd(n,e);return t!==void 0&&vy(t[ne],t),t}function kd(n,e){if(n.length<=Ct)return;let t=Ct+e,r=n[t];if(r){let i=r[Gi];i!==null&&i!==n&&yy(i,r),e>0&&(n[t-1][Gt]=r[Gt]);let o=hc(n,Ct+e);RO(r[ne],r);let s=o[Ki];s!==null&&s.detachView(o[ne]),r[ot]=null,r[Gt]=null,r[Z]&=-129}return r}function I1(n,e,t,r){let i=Ct+r,o=t.length;r>0&&(t[i-1][Gt]=e),r<o-Ct?(e[Gt]=t[i],Xg(t,Ct+r,e)):(t.push(e),e[Gt]=null),e[ot]=t;let s=e[Gi];s!==null&&t!==s&&VT(s,e);let a=e[Ki];a!==null&&a.insertView(n),ld(e),e[Z]|=128}function VT(n,e){let t=n[Ec],r=e[ot];if(Nn(r))n[Z]|=2;else{let i=r[ot][Kt];e[Kt]!==i&&(n[Z]|=2)}t===null?n[Ec]=[e]:t.push(e)}var Xr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[ne];return Nc(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[st]}set context(e){this._lView[st]=e}get destroyed(){return Yi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ot];if(dn(e)){let t=e[_c],r=t?t.indexOf(this):-1;r>-1&&(kd(e,r),hc(t,r))}this._attachedToViewContainer=!1}vy(this._lView[ne],this._lView)}onDestroy(e){fm(this._lView,e)}markForCheck(){Cy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Z]&=-129}reattach(){ld(this._lView),this._lView[Z]|=128}detectChanges(){this._lView[Z]|=1024,PT(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=gs(this._lView),t=this._lView[Gi];t!==null&&!e&&yy(t,this._lView),IT(this._lView[ne],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=e;let t=gs(this._lView),r=this._lView[Gi];r!==null&&!t&&VT(r,this._lView),ld(this._lView)}};var Oc=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=w1;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=TT(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Xr(o)}}return n})();function w1(){return D1(gt(),_e())}function D1(n,e){return n.type&4?new Oc(e,n,Bd(n,e)):null}function Zd(n,e,t,r,i){let o=n.data[e];if(o===null)o=b1(n,e,t,r,i),Ub()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=Fb();o.injectorIndex=s===null?-1:s.injectorIndex}return ys(o,!0),o}function b1(n,e,t,r,i){let o=gm(),s=mm(),a=s?o:o&&o.parent,u=n.data[e]=T1(n,a,t,e,r,i);return C1(n,u,o,s),u}function C1(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function T1(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return xb()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var X9=new RegExp(`^(\\d+)*(${Gk}|${zk})*(.*)`);var S1=()=>null,A1=()=>null;function gC(n,e){return S1(n,e)}function R1(n,e,t){return A1(n,e,t)}var jT=class{},Jd=class{},Qm=class{resolveComponentFactory(e){throw new L(917,!1)}},Fc=class{static NULL=new Qm},eo=class{},mr=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>N1()}return n})();function N1(){let n=_e(),e=gt(),t=Yt(e.index,n);return(Nn(t)?t:n)[xe]}var UT=(()=>{class n{static \u0275prov=j({token:n,providedIn:"root",factory:()=>null})}return n})();var bd={},Ym=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,bd,r);return i!==bd||t===bd?i:this.parentInjector.get(e,t,r)}};function mC(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Hg(i,a);else if(o==2){let u=a,l=e[++s];r=Hg(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function oe(n,e=0){let t=_e();if(t===null)return H(n,e);let r=gt();return HC(r,t,it(n),e)}function Ty(){let n="invalid";throw new Error(n)}function BT(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}x1(n,e,t,a,o,u,l)}o!==null&&r!==null&&M1(t,r,o)}function M1(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new L(-301,!1);r.push(e[i],o)}}function P1(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function x1(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let y=r[m];!u&&Mn(y)&&(u=!0,P1(n,t,m)),Vm(Ad(t,e),n,y.type)}j1(t,n.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=fT(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(t.mergedAttrs=Ac(t.mergedAttrs,y.hostAttrs),O1(n,t,e,p,y),V1(p,y,i),s!==null&&s.has(y)){let[M,R]=s.get(y);t.directiveToIndex.set(y.type,[p,M+t.directiveStart,R+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let T=y.type.prototype;!l&&(T.ngOnChanges||T.ngOnInit||T.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(T.ngOnChanges||T.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}k1(n,t,o)}function k1(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))yC(0,e,i,r),yC(1,e,i,r),_C(e,r,!1);else{let o=t.get(i);vC(0,e,o,r),vC(1,e,o,r),_C(e,r,!0)}}}function yC(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),$T(e,o)}}function vC(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),$T(e,s)}}function $T(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function _C(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||uy(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function O1(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Bi(i.type,!0)),s=new Xi(o,Mn(i),oe,null);n.blueprint[r]=s,t[r]=s,F1(n,e,r,fT(n,t,i.hostVars,gr),i)}function F1(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;L1(s)!=a&&s.push(a),s.push(t,r,o)}}function L1(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function V1(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Mn(e)&&(t[""]=n)}}function j1(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function HT(n,e,t,r,i,o,s,a){let u=e[ne],l=u.consts,h=Zr(l,s),p=Zd(u,n,t,r,h);return o&&BT(u,e,p,Zr(l,a),i),p.mergedAttrs=Ac(p.mergedAttrs,p.attrs),p.attrs!==null&&mC(p,p.attrs,!1),p.mergedAttrs!==null&&mC(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function qT(n,e){kC(n,e),um(e)&&n.queries.elementEnd(e)}function Sy(n){return GT(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function zT(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function GT(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Ts(n,e,t){if(t===gr)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Nm(n,e,t){return function r(i){let o=Yr(n)?Yt(n.index,e):e;Cy(o,5);let s=e[st],a=EC(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=EC(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function EC(n,e,t,r){let i=ee(null);try{return we(6,e,t),t(r)!==!1}catch(o){return r1(n,o),!1}finally{we(7,e,t),ee(i)}}function U1(n,e,t,r,i,o,s,a){let u=Ic(n),l=!1,h=null;if(!r&&u&&(h=$1(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=hn(n,t),m=r?r(p):p;Kk(t,m,o,a);let y=i.listen(m,o,a);if(!B1(o)){let T=r?M=>r(Qt(M[n.index])):n.index;WT(T,e,t,o,a,y,!1)}}return l}function B1(n){return n.startsWith("animation")||n.startsWith("transition")}function $1(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[fs],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function WT(n,e,t,r,i,o,s){let a=e.firstCreatePass?Rb(e):null,u=Ab(t),l=u.length;u.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function IC(n,e,t,r,i,o){let s=e[t],a=e[ne],l=a.data[t].outputs[r],p=s[l].subscribe(o);WT(n.index,a,e,i,o,p,!0)}var Zm=Symbol("BINDING");var Od=class extends Fc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=dr(e);return new to(t,this.ngModule)}};function H1(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Wd.SignalBased)!==0};return i&&(o.transform=i),o})}function q1(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function z1(n,e,t){let r=e instanceof Le?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Ym(t,r):t}function G1(n){let e=n.get(eo,null);if(e===null)throw new L(407,!1);let t=n.get(UT,null),r=n.get(Sn,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function W1(n,e){let t=KT(n);return uT(e,t,t==="svg"?Db:t==="math"?bb:null)}function KT(n){return(n.selectors[0][0]||"div").toLowerCase()}var to=class extends Jd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=H1(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=q1(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=cO(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){we(22);let a=ee(null);try{let u=this.componentDef,l=K1(r,u,s,o),h=z1(u,i||this.ngModule,e),p=G1(h),m=p.rendererFactory.createRenderer(null,u),y=r?HO(m,r,u.encapsulation,h):W1(u,m),T=s?.some(wC)||o?.some(O=>typeof O!="function"&&O.bindings.some(wC)),M=dy(null,l,null,512|hT(u),null,null,p,m,h,null,eT(y,h,!0));M[pt]=y,hd(M);let R=null;try{let O=HT(pt,M,2,"#host",()=>l.directiveRegistry,!0,0);dT(m,y,O),ws(y,M),Iy(l,M,O),nT(l,O,M),qT(l,O),t!==void 0&&Y1(O,this.ngContentSelectors,t),R=Yt(O.index,M),M[st]=R[st],by(l,M,null)}catch(O){throw R!==null&&Um(R),Um(M),O}finally{we(23),fd()}return new Fd(this.componentType,M,!!T)}finally{ee(a)}}};function K1(n,e,t,r){let i=n?["ng-version","20.3.10"]:uO(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[Zm].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let m of p.bindings){a+=m[Zm].requiredVars;let y=h+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,m=rm(p);u.push(m)}return ly(0,null,Q1(o,s),1,a,u,null,null,null,[i],null)}function Q1(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function wC(n){let e=n[Zm].kind;return e==="input"||e==="twoWay"}var Fd=class extends jT{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=wc(t[ne],pt),this.location=Bd(this._tNode,t),this.instance=Yt(this._tNode.index,t)[st],this.hostView=this.changeDetectorRef=new Xr(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Dy(r,i[ne],i,e,t);this.previousInputValues.set(e,t);let s=Yt(r.index,i);Cy(s,1)}get injector(){return new Ji(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Y1(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var so=(()=>{class n{static __NG_ELEMENT_ID__=Z1}return n})();function Z1(){let n=gt();return X1(n,_e())}var J1=so,QT=class extends J1{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Bd(this._hostTNode,this._hostLView)}get injector(){return new Ji(this._hostTNode,this._hostLView)}get parentInjector(){let e=ny(this._hostTNode,this._hostLView);if(LC(e)){let t=Sd(e,this._hostLView),r=Td(e),i=t[ne].data[r+8];return new Ji(i,t)}else return new Ji(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=DC(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Ct}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=gC(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Wm(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let u=e&&!Ek(e),l;if(u)l=t;else{let R=t||{};l=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,a=R.bindings}let h=u?e:new to(dr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let O=(u?p:this.parentInjector).get(Le,null);O&&(o=O)}let m=dr(h.componentType??{}),y=gC(this._lContainer,m?.id??null),T=y?.firstChild??null,M=h.create(p,i,T,o,s,a);return this.insertImpl(M.hostView,l,Wm(this._hostTNode,y)),M}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(Cb(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[ot],l=new QT(u,u[Wt],u[ot]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return LT(s,i,o,r),e.attachToViewContainerRef(),Xg(Mm(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=DC(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=kd(this._lContainer,t);r&&(hc(Mm(this._lContainer),t),vy(r[ne],r))}detach(e){let t=this._adjustIndex(e,-1),r=kd(this._lContainer,t);return r&&hc(Mm(this._lContainer),t)!=null?new Xr(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function DC(n){return n[_c]}function Mm(n){return n[_c]||(n[_c]=[])}function X1(n,e){let t,r=e[n.index];return dn(r)?t=r:(t=FT(r,e,null,n),e[n.index]=t,hy(e,t)),tF(t,e,n,r),new QT(t,n,e)}function eF(n,e){let t=n[xe],r=t.createComment(""),i=hn(e,n),o=t.parentNode(i);return Md(t,o,r,t.nextSibling(i),!1),r}var tF=iF,nF=()=>!1;function rF(n,e,t){return nF(n,e,t)}function iF(n,e,t,r){if(n[Qr])return;let i;t.type&8?i=Qt(r):i=eF(e,t),n[Qr]=i}var no=class{},Xd=class{};var Ld=class extends no{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Od(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=nm(e);this._bootstrapComponents=aT(o.bootstrap),this._r3Injector=wm(e,t,[{provide:no,useValue:this},{provide:Fc,useValue:this.componentFactoryResolver},...r],lr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Vd=class extends Xd{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Ld(this.moduleType,e,[])}};var Mc=class extends no{injector;componentFactoryResolver=new Od(this);instance=null;constructor(e){super();let t=new Hi([...e.providers,{provide:no,useValue:this},{provide:Fc,useValue:this.componentFactoryResolver}],e.parent||pc(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ss(n,e,t=null){return new Mc({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var oF=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=im(!1,t.type),i=r.length>0?Ss([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=j({token:n,providedIn:"environment",factory:()=>new n(H(Le))})}return n})();function yr(n){return Cs(()=>{let e=YT(n),t=se(x({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ry.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(oF).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||fr.Emulated,styles:n.styles||Lt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&Fn("NgStandalone"),ZT(t);let r=n.dependencies;return t.directiveDefs=bC(r,sF),t.pipeDefs=bC(r,yb),t.id=uF(t),t})}function sF(n){return dr(n)||rm(n)}function Ln(n){return Cs(()=>({type:n.type,bootstrap:n.bootstrap||Lt,declarations:n.declarations||Lt,imports:n.imports||Lt,exports:n.exports||Lt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function aF(n,e){if(n==null)return Gr;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Wd.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function cF(n){if(n==null)return Gr;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function He(n){return Cs(()=>{let e=YT(n);return ZT(e),e})}function YT(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Gr,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Lt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:aF(n.inputs,e),outputs:cF(n.outputs),debugInfo:null}}function ZT(n){n.features?.forEach(e=>e(n))}function bC(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function uF(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function lF(n){return Object.getPrototypeOf(n.prototype).constructor}function pn(n){let e=lF(n.type),t=!0,r=[n];for(;e;){let i;if(Mn(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new L(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Pm(n.inputs),s.declaredInputs=Pm(n.declaredInputs),s.outputs=Pm(n.outputs);let a=i.hostBindings;a&&gF(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&fF(n,u),l&&pF(n,l),dF(n,i),ub(n.outputs,i.outputs),Mn(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===pn&&(t=!1)}}e=Object.getPrototypeOf(e)}hF(r)}function dF(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function hF(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ac(i.hostAttrs,t=Ac(t,i.hostAttrs))}}function Pm(n){return n===Gr?{}:n===Lt?[]:n}function fF(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function pF(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function gF(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function JT(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=Ac(n.mergedAttrs,n.attrs);let h=n.tView=ly(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),ys(n,!1);let u=yF(t,e,n,r);gd()&&_y(t,e,u,n),ws(u,e);let l=FT(u,e,u,n);e[r+pt]=l,hy(e,l),rF(l,n,e)}function mF(n,e,t,r,i,o,s,a,u,l,h){let p=t+pt,m;return e.firstCreatePass?(m=Zd(e,p,4,s||null,a||null),pm()&&BT(e,n,m,Zr(e.consts,l),CT),kC(e,m)):m=e.data[p],JT(m,n,e,t,r,i,o,u),Ic(m)&&Iy(e,n,m),l!=null&&wy(n,m,h),m}function XT(n,e,t,r,i,o,s,a,u,l,h){let p=t+pt,m;if(e.firstCreatePass){if(m=Zd(e,p,4,s||null,a||null),l!=null){let y=Zr(e.consts,l);m.localNames=[];for(let T=0;T<y.length;T+=2)m.localNames.push(y[T],-1)}}else m=e.data[p];return JT(m,n,e,t,r,i,o,u),l!=null&&wy(n,m,h),m}function As(n,e,t,r,i,o,s,a){let u=_e(),l=Tt(),h=Zr(l.consts,o);return mF(u,l,n,e,t,r,i,h,void 0,s,a),As}var yF=vF;function vF(n,e,t,r){return md(!0),e[xe].createComment("")}var Ay=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Ry=new V("");function ti(n){return!!n&&typeof n.then=="function"}function Ny(n){return!!n&&typeof n.subscribe=="function"}var My=new V("");function eh(n){return zt([{provide:My,multi:!0,useValue:n}])}var Py=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=A(My,{optional:!0})??[];injector=A(Re);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Ue(this.injector,i);if(ti(o))t.push(o);else if(Ny(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Lc=new V("");function e0(){ug(()=>{let n="";throw new L(600,n)})}function t0(n){return n.isBoundToModule}var _F=10;var ni=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=A(Pt);afterRenderManager=A(my);zonelessEnabled=A(bc);rootEffectScheduler=A(Tm);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ve;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=A(Pn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(le(t=>!t))}constructor(){A(oo,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=A(Le);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Re.NULL){return this._injector.get(me).run(()=>{we(10);let s=t instanceof Jd;if(!this._injector.get(Py).done){let T="";throw new L(405,T)}let u;s?u=t:u=this._injector.get(Fc).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=t0(u)?void 0:this._injector.get(no),h=r||u.selector,p=u.create(i,[],h,l),m=p.location.nativeElement,y=p.injector.get(Ry,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),Sc(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),we(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){we(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Kd.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new L(101,!1);let t=ee(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ee(t),this.afterTick.next(),we(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(eo,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<_F;)we(14),this.synchronizeOnce(),we(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Dc(i))continue;let o=r&&!this.zonelessEnabled?0:1;PT(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Dc(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Sc(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Lc,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Sc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new L(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Sc(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Rs(n,e,t,r){let i=_e(),o=vs();if(Ts(i,o,e)){let s=Tt(),a=pd();JO(a,i,n,e,t,r)}return Rs}var s7=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function xy(n,e,t,r,i,o,s,a){Fn("NgControlFlow");let u=_e(),l=Tt(),h=Zr(l.consts,o);return XT(u,l,n,e,t,r,i,h,256,s,a),ky}function ky(n,e,t,r,i,o,s,a){Fn("NgControlFlow");let u=_e(),l=Tt(),h=Zr(l.consts,o);return XT(u,l,n,e,t,r,i,h,512,s,a),ky}function Oy(n,e){Fn("NgControlFlow");let t=_e(),r=vs(),i=t[r]!==gr?t[r]:-1,o=i!==-1?CC(t,pt+i):void 0,s=0;if(Ts(t,r,n)){let a=ee(null);try{if(o!==void 0&&E1(o,s),n!==-1){let u=pt+n,l=CC(t,u),h=EF(t[ne],u),p=R1(l,h,t),m=TT(t,h,e,{dehydratedView:p});LT(l,m,s,Wm(h,p))}}finally{ee(a)}}else if(o!==void 0){let a=_1(o,s);a!==void 0&&(a[st]=e)}}function CC(n,e){return n[e]}function EF(n,e){return wc(n,e)}function Xt(n,e,t){let r=_e(),i=vs();if(Ts(r,i,e)){let o=Tt(),s=pd();bT(s,r,n,e,r[xe],t)}return Xt}function TC(n,e,t,r,i){Dy(e,n,t,i?"class":"style",r)}function $(n,e,t,r){let i=_e(),o=i[ne],s=n+pt,a=o.firstCreatePass?HT(s,i,2,e,CT,pm(),t,r):o.data[s];if(t1(a,i,n,e,IF),Ic(a)){let u=i[ne];Iy(u,i,a),nT(u,a,i)}return r!=null&&wy(i,a),$}function U(){let n=Tt(),e=gt(),t=n1(e);return n.firstCreatePass&&qT(n,t),kb(t)&&Ob(),Pb(),t.classesWithoutHost!=null&&Tk(t)&&TC(n,t,_e(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&Sk(t)&&TC(n,t,_e(),t.stylesWithoutHost,!1),U}function ri(n,e,t,r){return $(n,e,t,r),U(),ri}var IF=(n,e,t,r,i)=>(md(!0),uT(e[xe],r,Kb()));function Ns(){return _e()}var Vc="en-US";var wF=Vc;function n0(n){typeof n=="string"&&(wF=n.toLowerCase().replace(/_/g,"-"))}function Ze(n,e,t){let r=_e(),i=Tt(),o=gt();return r0(i,r,r[xe],o,n,e,t),Ze}function r0(n,e,t,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=Nm(r,e,o),U1(r,n,e,s,t,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],y=h[p+1];u??=Nm(r,e,o),IC(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=Nm(r,e,o),IC(r,e,p,i,i,u)}}function en(n=1){return Wb(n)}function Id(n,e){return n<<17|e<<2}function ro(n){return n>>17&32767}function DF(n){return(n&2)==2}function bF(n,e){return n&131071|e<<17}function Jm(n){return n|2}function bs(n){return(n&131068)>>2}function xm(n,e){return n&-131069|e<<2}function CF(n){return(n&1)===1}function Xm(n){return n|1}function TF(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ro(s),u=bs(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||hs(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let m=ro(n[a+1]);n[r+1]=Id(m,a),m!==0&&(n[m+1]=xm(n[m+1],r)),n[a+1]=bF(n[a+1],r)}else n[r+1]=Id(a,0),a!==0&&(n[a+1]=xm(n[a+1],r)),a=r;else n[r+1]=Id(u,0),a===0?a=r:n[u+1]=xm(n[u+1],r),u=r;l&&(n[r+1]=Jm(n[r+1])),SC(n,h,r,!0),SC(n,h,r,!1),SF(e,h,n,r,o),s=Id(a,u),o?e.classBindings=s:e.styleBindings=s}function SF(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&hs(o,e)>=0&&(t[r+1]=Xm(t[r+1]))}function SC(n,e,t,r){let i=n[t+1],o=e===null,s=r?ro(i):bs(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];AF(u,e)&&(a=!0,n[s+1]=r?Xm(l):Jm(l)),s=r?ro(l):bs(l)}a&&(n[t+1]=r?Jm(i):Xm(i))}function AF(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?hs(n,e)>=0:!1}function ao(n,e){return RF(n,e,null,!0),ao}function RF(n,e,t,r){let i=_e(),o=Tt(),s=jb(2);if(o.firstUpdatePass&&MF(o,n,s,r),e!==gr&&Ts(i,s,e)){let a=o.data[Zi()];FF(o,a,i,i[xe],n,i[s+1]=LF(e,t),r,s)}}function NF(n,e){return e>=n.expandoStartIndex}function MF(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Zi()],s=NF(n,t);VF(o,r)&&e===null&&!s&&(e=!1),e=PF(i,o,e,r),TF(i,o,e,t,s,r)}}function PF(n,e,t,r){let i=Hb(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=km(null,n,e,t,r),t=Pc(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=km(i,n,e,t,r),o===null){let u=xF(n,e,r);u!==void 0&&Array.isArray(u)&&(u=km(null,n,e,u[1],r),u=Pc(u,e.attrs,r),kF(n,e,r,u))}else o=OF(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function xF(n,e,t){let r=t?e.classBindings:e.styleBindings;if(bs(r)!==0)return n[ro(r)]}function kF(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[ro(i)]=r}function OF(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Pc(r,s,t)}return Pc(r,e.attrs,t)}function km(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Pc(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Pc(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),mb(n,s,t?!0:e[++o]))}return n===void 0?null:n}function FF(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=CF(l)?AC(u,e,t,i,bs(l),s):void 0;if(!jd(h)){jd(o)||DF(l)&&(o=AC(u,null,t,i,a,s));let p=lm(Zi(),t);$O(r,s,p,i,o)}}function AC(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=t[i+1];m===gr&&(m=p?Lt:void 0);let y=p?sd(m,r):h===r?m:void 0;if(l&&!jd(y)&&(y=sd(u,r)),jd(y)&&(a=y,s))return a;let T=n[i+1];i=s?ro(T):bs(T)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=sd(u,r))}return a}function jd(n){return n!==void 0}function LF(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=lr(kc(n)))),n}function VF(n,e){return(n.flags&(e?8:16))!==0}function z(n,e=""){let t=_e(),r=Tt(),i=n+pt,o=r.firstCreatePass?Zd(r,i,1,e,null):r.data[i],s=jF(r,t,o,e,n);t[i]=s,gd()&&_y(r,t,s,o),ys(o,!1)}var jF=(n,e,t,r,i)=>(md(!0),lO(e[xe],r));function UF(n,e,t,r=""){return Ts(n,vs(),t)?e+dc(t)+r:gr}function Vn(n){return co("",n),Vn}function co(n,e,t){let r=_e(),i=UF(r,n,e,t);return i!==gr&&BF(r,Zi(),i),co}function BF(n,e,t){let r=lm(e,n);dO(n[xe],r,t)}function gn(n,e,t){bm(e)&&(e=e());let r=_e(),i=vs();if(Ts(r,i,e)){let o=Tt(),s=pd();bT(s,r,n,e,r[xe],t)}return gn}function jn(n,e){let t=bm(n);return t&&n.set(e),t}function mn(n,e){let t=_e(),r=Tt(),i=gt();return r0(r,t,t[xe],i,n,e),mn}function $F(n,e,t){let r=Tt();if(r.firstCreatePass){let i=Mn(n);ey(t,r.data,r.blueprint,i,!0),ey(e,r.data,r.blueprint,i,!1)}}function ey(n,e,t,r,i){if(n=it(n),Array.isArray(n))for(let o=0;o<n.length;o++)ey(n[o],e,t,r,i);else{let o=Tt(),s=_e(),a=gt(),u=$i(n)?n:it(n.provide),l=sm(n),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if($i(n)||!n.multi){let y=new Xi(l,i,oe,null),T=Fm(u,e,i?h:h+m,p);T===-1?(Vm(Ad(a,s),o,u),Om(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[T]=y,s[T]=y)}else{let y=Fm(u,e,h+m,p),T=Fm(u,e,h,h+m),M=y>=0&&t[y],R=T>=0&&t[T];if(i&&!R||!i&&!M){Vm(Ad(a,s),o,u);let O=zF(i?qF:HF,t.length,i,r,l,n);!i&&R&&(t[T].providerFactory=O),Om(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(O),s.push(O)}else{let O=i0(t[i?T:y],l,!i&&r);Om(o,n,y>-1?y:T,O)}!i&&r&&R&&t[T].componentProviders++}}}function Om(n,e,t,r){let i=$i(e),o=Eb(e);if(i||o){let u=(o?it(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function i0(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Fm(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function HF(n,e,t,r,i){return ty(this.multi,[])}function qF(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=Rd(r,r[ne],this.providerFactory.index,i);s=u.slice(0,a),ty(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],ty(o,s);return s}function ty(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function zF(n,e,t,r,i,o){let s=new Xi(n,t,oe,null);return s.multi=[],s.index=e,s.componentProviders=0,i0(s,i,r&&!t),s}function uo(n,e=[]){return t=>{t.providersResolver=(r,i)=>$F(r,i?i(n):n,e)}}var Ud=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Fy=(()=>{class n{compileModuleSync(t){return new Vd(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=nm(t),o=aT(i.declarations).reduce((s,a)=>{let u=dr(a);return u&&s.push(new to(u)),s},[]);return new Ud(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var GF=(()=>{class n{zone=A(me);changeDetectionScheduler=A(Sn);applicationRef=A(ni);applicationErrorHandler=A(Pt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function o0({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new me(se(x({},s0()),{scheduleInRootZone:t})),[{provide:me,useFactory:n},{provide:Wr,multi:!0,useFactory:()=>{let r=A(GF,{optional:!0});return()=>r.initialize()}},{provide:Wr,multi:!0,useFactory:()=>{let r=A(WF);return()=>{r.initialize()}}},e===!0?{provide:Cm,useValue:!0}:[],{provide:vd,useValue:t??gT},{provide:Pt,useFactory:()=>{let r=A(me),i=A(Le),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(cn),o.handleError(s))})}}}]}function s0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var WF=(()=>{class n{subscription=new Pe;initialized=!1;zone=A(me);pendingTasks=A(Pn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{me.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{me.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ly=(()=>{class n{applicationErrorHandler=A(Pt);appRef=A(ni);taskService=A(Pn);ngZone=A(me);zonelessEnabled=A(bc);tracing=A(oo,{optional:!0});disableScheduling=A(Cm,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Pe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Pd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(A(vd,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Rc||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?uC:mT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Pd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,uC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Vy(){return Fn("NgZoneless"),zt([{provide:Sn,useExisting:Ly},{provide:me,useClass:Rc},{provide:bc,useValue:!0},{provide:vd,useValue:!1},[]])}function KF(){return typeof $localize<"u"&&$localize.locale||Vc}var th=new V("",{providedIn:"root",factory:()=>A(th,{optional:!0,skipSelf:!0})||KF()});function Je(n){return sb(n)}function Ms(n,e){return Sl(n,e?.equal)}var a0=class{[ft];constructor(e){this[ft]=e}destroy(){this[ft].destroy()}};var h0=Symbol("InputSignalNode#UNSET"),hL=se(x({},Al),{transformFn:void 0,applyValueToInputSignal(n,e){Yo(n,e)}});function f0(n,e){let t=Object.create(hL);t.value=n,t.transformFn=e?.transform;function r(){if(Wo(t),t.value===h0){let i=null;throw new L(-950,i)}return t.value}return r[ft]=t,r}var rh=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>xc(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},fL=new V("");fL.__NG_ELEMENT_ID__=n=>{let e=gt();if(e===null)throw new L(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new L(204,!1)};function c0(n,e){return f0(n,e)}function pL(n){return f0(h0,n)}var p0=(c0.required=pL,c0);var jy=new V(""),gL=new V("");function jc(n){return!n.moduleRef}function mL(n){let e=jc(n)?n.r3Injector:n.moduleRef.injector,t=e.get(me);return t.run(()=>{jc(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Pt),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),jc(n)){let o=()=>e.destroy(),s=n.platformInjector.get(jy);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(jy);s.add(o),n.moduleRef.onDestroy(()=>{Sc(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return vL(r,t,()=>{let o=e.get(Pn),s=o.add(),a=e.get(Py);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(th,Vc);if(n0(u||Vc),!e.get(gL,!0))return jc(n)?e.get(ni):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(jc(n)){let h=e.get(ni);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return yL?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var yL;function vL(n,e,t){try{let r=t();return ti(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var nh=null;function _L(n=[],e){return Re.create({name:e,providers:[{provide:fc,useValue:"platform"},{provide:jy,useValue:new Set([()=>nh=null])},...n]})}function EL(n=[]){if(nh)return nh;let e=_L(n);return nh=e,e0(),IL(e),e}function IL(n){let e=n.get(Hd,null);Ue(n,()=>{e?.forEach(t=>t())})}function zy(){return!1}var vr=(()=>{class n{static __NG_ELEMENT_ID__=wL}return n})();function wL(n){return DL(gt(),_e(),(n&16)===16)}function DL(n,e,t){if(Yr(n)&&!t){let r=Yt(n.index,e);return new Xr(r,r)}else if(n.type&175){let r=e[Kt];return new Xr(r,e)}return null}var Uy=class{constructor(){}supports(e){return Sy(e)}create(e){return new By(e)}},bL=(n,e)=>e,By=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||bL}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<u0(r,i,o)?t:r,a=u0(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,T=y+m;h<=T&&T<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!Sy(e))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,zT(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new $y(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new ih),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ih),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},$y=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Hy=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},ih=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Hy,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function u0(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function l0(){return new Gy([new Uy])}var Gy=(()=>{class n{factories;static \u0275prov=j({token:n,providedIn:"root",factory:l0});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=A(n,{optional:!0,skipSelf:!0});return n.create(t,r||l0())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new L(901,!1)}}return n})();function g0(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;we(8);try{let o=i?.injector??EL(r),s=[o0({}),{provide:Sn,useExisting:Ly},Yb,...t||[]],a=new Mc({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return mL({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{we(9)}}function ii(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function m0(n){let e=dr(n);if(!e)return null;let t=new to(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var _0=null;function tn(){return _0}function Wy(n){_0??=n}var Uc=class{},Bc=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>A(E0),providedIn:"platform"})}return n})(),Ky=new V(""),E0=(()=>{class n extends Bc{_location;_history;_doc=A(Be);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return tn().getBaseHref(this._doc)}onPopState(t){let r=tn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=tn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function oh(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function y0(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function yn(n){return n&&n[0]!=="?"?`?${n}`:n}var vn=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>A(ah),providedIn:"root"})}return n})(),sh=new V(""),ah=(()=>{class n extends vn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??A(Be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return oh(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+yn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+yn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+yn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(H(Bc),H(sh,8))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oi=(()=>{class n{_subject=new Ve;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=SL(y0(v0(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+yn(r))}normalize(t){return n.stripTrailingSlash(TL(this._basePath,v0(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+yn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+yn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=yn;static joinWithSlash=oh;static stripTrailingSlash=y0;static \u0275fac=function(r){return new(r||n)(H(vn))};static \u0275prov=j({token:n,factory:()=>CL(),providedIn:"root"})}return n})();function CL(){return new oi(H(vn))}function TL(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function v0(n){return n.replace(/\/index.html$/,"")}function SL(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Qy=(()=>{class n extends vn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=oh(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+yn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+yn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(H(Bc),H(sh,8))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();var ch=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},lh=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new ch(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),I0(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);I0(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(oe(so),oe(Oc),oe(Gy))};static \u0275dir=He({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function I0(n,e){n.context.$implicit=e.item}var Yy=(()=>{class n{_viewContainer;_context=new uh;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){w0(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){w0(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(oe(so),oe(Oc))};static \u0275dir=He({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),uh=class{$implicit=null;ngIf=null};function w0(n,e){if(n&&!n.createEmbeddedView)throw new L(2020,!1)}var Ps=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ln({type:n});static \u0275inj=un({})}return n})();function Zy(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var $c=class{};var D0="browser";var b0=(()=>{class n{static \u0275prov=j({token:n,providedIn:"root",factory:()=>new Jy(A(Be),window)})}return n})(),Jy=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(se(x({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=AL(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(zr(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(se(x({},t),{left:i-s[0],top:o-s[1]}))}};function AL(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Hc=class{_doc;constructor(e){this._doc=e}manager},dh=(()=>{class n extends Hc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(H(Be))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),fh=new V(""),rv=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof dh));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof dh);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new L(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(H(fh),H(me))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),Xy="ng-app-id";function T0(n){for(let e of n)e.remove()}function S0(n,e){let t=e.createElement("style");return t.textContent=n,t}function RL(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Xy}="${e}"],link[${Xy}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Xy),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function tv(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var iv=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,RL(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,S0);r?.forEach(i=>this.addUsage(i,this.external,tv))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(T0(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])T0(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,S0(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,tv(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(H(Be),H($d),H(qd,8),H(ei))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),ev={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ov=/%COMP%/g;var R0="%COMP%",NL=`_nghost-${R0}`,ML=`_ngcontent-${R0}`,PL=!0,xL=new V("",{providedIn:"root",factory:()=>PL});function kL(n){return ML.replace(ov,n)}function OL(n){return NL.replace(ov,n)}function N0(n,e){return e.map(t=>t.replace(ov,n))}var sv=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=!1,this.defaultRenderer=new qc(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof hh?i.applyToHost(t):i instanceof zc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case fr.Emulated:o=new hh(u,l,r,this.appId,h,s,a,p,m);break;case fr.ShadowDom:return new nv(u,l,t,r,s,a,this.nonce,p,m);default:o=new zc(u,l,r,h,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(H(rv),H(iv),H($d),H(xL),H(Be),H(ei),H(me),H(qd),H(oo,8))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),qc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(ev[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(A0(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(A0(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new L(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=ev[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=ev[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(kn.DashCase|kn.Important)?e.style.setProperty(t,r,i&kn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&kn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=tn().getGlobalEventTarget(this.doc,e),!e))throw new L(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function A0(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var nv=class extends qc{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=N0(i.id,h);for(let m of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=tv(m,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},zc=class extends qc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?N0(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Ds.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},hh=class extends zc{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=kL(h),this.hostAttr=OL(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var ph=class n extends Uc{supportsDOMEvents=!0;static makeCurrent(){Wy(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=FL();return t==null?null:LL(t)}resetBaseElement(){Gc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Zy(document.cookie,e)}},Gc=null;function FL(){return Gc=Gc||document.head.querySelector("base"),Gc?Gc.getAttribute("href"):null}function LL(n){return new URL(n,document.baseURI).pathname}var VL=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),M0=["alt","control","meta","shift"],jL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},UL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},P0=(()=>{class n extends Hc{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>tn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),M0.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=jL[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),M0.forEach(s=>{if(s!==i){let a=UL[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(H(Be))};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();function av(n,e,t){let r=x({rootComponent:n,platformRef:t?.platformRef},BL(e));return g0(r)}function BL(n){return{appProviders:[...GL,...n?.providers??[]],platformProviders:zL}}function $L(){ph.makeCurrent()}function HL(){return new cn}function qL(){return iy(document),document}var zL=[{provide:ei,useValue:D0},{provide:Hd,useValue:$L,multi:!0},{provide:Be,useFactory:qL}];var GL=[{provide:fc,useValue:"root"},{provide:cn,useFactory:HL},{provide:fh,useClass:dh,multi:!0,deps:[Be]},{provide:fh,useClass:P0,multi:!0,deps:[Be]},sv,iv,rv,{provide:eo,useExisting:sv},{provide:$c,useClass:VL},[]];var x0=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(H(Be))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var J="primary",ou=Symbol("RouteTitle"),hv=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function fo(n){return new hv(n)}function B0(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function KL(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Un(n[t],e[t]))return!1;return!0}function Un(n,e){let t=n?fv(n):void 0,r=e?fv(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!$0(n[i],e[i]))return!1;return!0}function fv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function $0(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function H0(n){return n.length>0?n[n.length-1]:null}function _r(n){return Cg(n)?n:ti(n)?Se(Promise.resolve(n)):W(n)}var QL={exact:z0,subset:G0},q0={exact:YL,subset:ZL,ignored:()=>!0};function k0(n,e,t){return QL[t.paths](n.root,e.root,t.matrixParams)&&q0[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function YL(n,e){return Un(n,e)}function z0(n,e,t){if(!lo(n.segments,e.segments)||!yh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!z0(n.children[r],e.children[r],t))return!1;return!0}function ZL(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>$0(n[t],e[t]))}function G0(n,e,t){return W0(n,e,e.segments,t)}function W0(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!lo(i,t)||e.hasChildren()||!yh(i,t,r))}else if(n.segments.length===t.length){if(!lo(n.segments,t)||!yh(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!G0(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!lo(n.segments,i)||!yh(n.segments,i,r)||!n.children[J]?!1:W0(n.children[J],e,o,r)}}function yh(n,e,t){return e.every((r,i)=>q0[t](n[i].parameters,r.parameters))}var $n=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ye([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=fo(this.queryParams),this._queryParamMap}toString(){return eV.serialize(this)}},ye=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vh(this)}},si=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=fo(this.parameters),this._parameterMap}toString(){return Q0(this)}};function JL(n,e){return lo(n,e)&&n.every((t,r)=>Un(t.parameters,e[r].parameters))}function lo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function XL(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===J&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==J&&(t=t.concat(e(i,r)))}),t}var po=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>new ai,providedIn:"root"})}return n})(),ai=class{parse(e){let t=new gv(e);return new $n(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Wc(e.root,!0)}`,r=rV(e.queryParams),i=typeof e.fragment=="string"?`#${tV(e.fragment)}`:"";return`${t}${r}${i}`}},eV=new ai;function vh(n){return n.segments.map(e=>Q0(e)).join("/")}function Wc(n,e){if(!n.hasChildren())return vh(n);if(e){let t=n.children[J]?Wc(n.children[J],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==J&&r.push(`${i}:${Wc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=XL(n,(r,i)=>i===J?[Wc(n.children[J],!1)]:[`${i}:${Wc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[J]!=null?`${vh(n)}/${t[0]}`:`${vh(n)}/(${t.join("//")})`}}function K0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gh(n){return K0(n).replace(/%3B/gi,";")}function tV(n){return encodeURI(n)}function pv(n){return K0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _h(n){return decodeURIComponent(n)}function O0(n){return _h(n.replace(/\+/g,"%20"))}function Q0(n){return`${pv(n.path)}${nV(n.parameters)}`}function nV(n){return Object.entries(n).map(([e,t])=>`;${pv(e)}=${pv(t)}`).join("")}function rV(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${gh(t)}=${gh(i)}`).join("&"):`${gh(t)}=${gh(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var iV=/^[^\/()?;#]+/;function cv(n){let e=n.match(iV);return e?e[0]:""}var oV=/^[^\/()?;=#]+/;function sV(n){let e=n.match(oV);return e?e[0]:""}var aV=/^[^=?&#]+/;function cV(n){let e=n.match(aV);return e?e[0]:""}var uV=/^[^&#]+/;function lV(n){let e=n.match(uV);return e?e[0]:""}var gv=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[J]=new ye(e,t)),r}parseSegment(){let e=cv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new L(4009,!1);return this.capture(e),new si(_h(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=sV(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=cv(this.remaining);i&&(r=i,this.capture(r))}e[_h(t)]=_h(r)}parseQueryParam(e){let t=cV(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=lV(this.remaining);s&&(r=s,this.capture(r))}let i=O0(t),o=O0(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=cv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new L(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=J);let s=this.parseChildren();t[o??J]=Object.keys(s).length===1&&s[J]?s[J]:new ye([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new L(4011,!1)}};function Y0(n){return n.segments.length>0?new ye([],{[J]:n}):n}function Z0(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=Z0(i);if(r===J&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new ye(n.segments,e);return dV(t)}function dV(n){if(n.numberOfChildren===1&&n.children[J]){let e=n.children[J];return new ye(n.segments.concat(e.segments),e.children)}return n}function ci(n){return n instanceof $n}function J0(n,e,t=null,r=null){let i=X0(n);return eS(i,e,t,r)}function X0(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new ye(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=Y0(r);return e??i}function eS(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return uv(i,i,i,t,r);let o=hV(e);if(o.toRoot())return uv(i,i,new ye([],{}),t,r);let s=fV(o,i,n),a=s.processChildren?Qc(s.segmentGroup,s.index,o.commands):nS(s.segmentGroup,s.index,o.commands);return uv(i,s.segmentGroup,a,t,r)}function Eh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Zc(n){return typeof n=="object"&&n!=null&&n.outlets}function uv(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=tS(n,e,t);let a=Y0(Z0(s));return new $n(a,o,i)}function tS(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=tS(o,e,t)}),new ye(n.segments,r)}var Ih=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Eh(r[0]))throw new L(4003,!1);let i=r.find(Zc);if(i&&i!==H0(r))throw new L(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function hV(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Ih(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Ih(t,e,r)}var Os=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function fV(n,e,t){if(n.isAbsolute)return new Os(e,!0,0);if(!t)return new Os(e,!1,NaN);if(t.parent===null)return new Os(t,!0,0);let r=Eh(n.commands[0])?0:1,i=t.segments.length-1+r;return pV(t,i,n.numberOfDoubleDots)}function pV(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new L(4005,!1);i=r.segments.length}return new Os(r,!1,i-o)}function gV(n){return Zc(n[0])?n[0].outlets:{[J]:n}}function nS(n,e,t){if(n??=new ye([],{}),n.segments.length===0&&n.hasChildren())return Qc(n,e,t);let r=mV(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new ye(n.segments.slice(0,r.pathIndex),{});return o.children[J]=new ye(n.segments.slice(r.pathIndex),n.children),Qc(o,0,i)}else return r.match&&i.length===0?new ye(n.segments,{}):r.match&&!n.hasChildren()?mv(n,e,t):r.match?Qc(n,0,i):mv(n,e,t)}function Qc(n,e,t){if(t.length===0)return new ye(n.segments,{});{let r=gV(t),i={};if(Object.keys(r).some(o=>o!==J)&&n.children[J]&&n.numberOfChildren===1&&n.children[J].segments.length===0){let o=Qc(n.children[J],e,t);return new ye(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=nS(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ye(n.segments,i)}}function mV(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Zc(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!L0(u,l,s))return o;r+=2}else{if(!L0(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function mv(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Zc(o)){let u=yV(o.outlets);return new ye(r,u)}if(i===0&&Eh(t[0])){let u=n.segments[e];r.push(new si(u.path,F0(t[0]))),i++;continue}let s=Zc(o)?o.outlets[J]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Eh(a)?(r.push(new si(s,F0(a))),i+=2):(r.push(new si(s,{})),i++)}return new ye(r,{})}function yV(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=mv(new ye([],{}),0,r))}),e}function F0(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function L0(n,e,t){return n==t.path&&Un(e,t.parameters)}var Fs="imperative",Ke=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Ke||{}),$t=class{id;url;constructor(e,t){this.id=e,this.url=t}},ui=class extends $t{type=Ke.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},nn=class extends $t{urlAfterRedirects;type=Ke.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},St=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(St||{}),Vs=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Vs||{}),Bn=class extends $t{reason;code;type=Ke.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Hn=class extends $t{reason;code;type=Ke.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},js=class extends $t{error;target;type=Ke.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Jc=class extends $t{urlAfterRedirects;state;type=Ke.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wh=class extends $t{urlAfterRedirects;state;type=Ke.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dh=class extends $t{urlAfterRedirects;state;shouldActivate;type=Ke.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},bh=class extends $t{urlAfterRedirects;state;type=Ke.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ch=class extends $t{urlAfterRedirects;state;type=Ke.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Th=class{route;type=Ke.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Sh=class{route;type=Ke.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ah=class{snapshot;type=Ke.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rh=class{snapshot;type=Ke.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nh=class{snapshot;type=Ke.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mh=class{snapshot;type=Ke.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Us=class{routerEvent;position;anchor;type=Ke.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Xc=class{},Bs=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function vV(n){return!(n instanceof Xc)&&!(n instanceof Bs)}function _V(n,e){return n.providers&&!n._injector&&(n._injector=Ss(n.providers,e,`Route: ${n.path}`)),n._injector??e}function _n(n){return n.outlet||J}function EV(n,e){let t=n.filter(r=>_n(r)===e);return t.push(...n.filter(r=>_n(r)!==e)),t}function qs(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Ph=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return qs(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new go(this.rootInjector)}},go=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Ph(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(H(Le))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=yv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=yv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=vv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return vv(e,this._root).map(t=>t.value)}};function yv(n,e){if(n===e.value)return e;for(let t of e.children){let r=yv(n,t);if(r)return r}return null}function vv(n,e){if(n===e.value)return[e];for(let t of e.children){let r=vv(n,t);if(r.length)return r.unshift(e),r}return[]}var Bt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ks(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var eu=class extends xh{snapshot;constructor(e,t){super(e),this.snapshot=t,Tv(this,e)}toString(){return this.snapshot.toString()}};function rS(n){let e=IV(n),t=new rt([new si("",{})]),r=new rt({}),i=new rt({}),o=new rt({}),s=new rt(""),a=new qn(t,r,o,s,i,J,n,e.root);return a.snapshot=e.root,new eu(new Bt(a,[]),e)}function IV(n){let e={},t={},r={},o=new ho([],e,r,"",t,J,n,null,{});return new tu("",new Bt(o,[]))}var qn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(le(l=>l[ou]))??W(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(le(e=>fo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(le(e=>fo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function kh(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:x(x({},e.params),n.params),data:x(x({},e.data),n.data),resolve:x(x(x(x({},n.data),e.data),i?.data),n._resolvedData)}:r={params:x({},n.params),data:x({},n.data),resolve:x(x({},n.data),n._resolvedData??{})},i&&oS(i)&&(r.resolve[ou]=i.title),r}var ho=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ou]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=fo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=fo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},tu=class extends xh{url;constructor(e,t){super(t),this.url=e,Tv(this,t)}toString(){return iS(this._root)}};function Tv(n,e){e.value._routerState=n,e.children.forEach(t=>Tv(n,t))}function iS(n){let e=n.children.length>0?` { ${n.children.map(iS).join(", ")} } `:"";return`${n.value}${e}`}function lv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Un(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Un(e.params,t.params)||n.paramsSubject.next(t.params),KL(e.url,t.url)||n.urlSubject.next(t.url),Un(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function _v(n,e){let t=Un(n.params,e.params)&&JL(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||_v(n.parent,e.parent))}function oS(n){return typeof n.title=="string"||n.title===null}var sS=new V(""),su=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=J;activateEvents=new $e;deactivateEvents=new $e;attachEvents=new $e;detachEvents=new $e;routerOutletData=p0();parentContexts=A(go);location=A(so);changeDetector=A(vr);inputBinder=A(au,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new L(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new L(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new L(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new L(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Ev(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=He({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[pr]})}return n})(),Ev=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===qn?this.route:e===go?this.childContexts:e===sS?this.outletData:this.parent.get(e,t)}},au=new V(""),Sv=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=rc([r.queryParams,r.params,r.data]).pipe(bt(([o,s,a],u)=>(a=x(x(x({},o),s),a),u===0?W(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=m0(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})(),Av=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=yr({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ri(0,"router-outlet")},dependencies:[su],encapsulation:2})}return n})();function Rv(n){let e=n.children&&n.children.map(Rv),t=e?se(x({},n),{children:e}):x({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==J&&(t.component=Av),t}function wV(n,e,t){let r=nu(n,e._root,t?t._root:void 0);return new eu(r,e)}function nu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=DV(n,e,t);return new Bt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>nu(n,a)),s}}let r=bV(e.value),i=e.children.map(o=>nu(n,o));return new Bt(r,i)}}function DV(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return nu(n,r,i);return nu(n,r)})}function bV(n){return new qn(new rt(n.url),new rt(n.params),new rt(n.queryParams),new rt(n.fragment),new rt(n.data),n.outlet,n.component,n)}var $s=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},aS="ngNavigationCancelingError";function Oh(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=ci(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=cS(!1,St.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function cS(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[aS]=!0,t.cancellationCode=e,t}function CV(n){return uS(n)&&ci(n.url)}function uS(n){return!!n&&n[aS]}var TV=(n,e,t,r)=>le(i=>(new Iv(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Iv=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),lv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ks(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ks(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ks(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ks(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Mh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Rh(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(lv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),lv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Fh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ls=class{component;route;constructor(e,t){this.component=e,this.route=t}};function SV(n,e,t){let r=n._root,i=e?e._root:null;return Kc(r,i,t,[r.value])}function AV(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function zs(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!zg(n)?n:e.get(n):r}function Kc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ks(e);return n.children.forEach(s=>{RV(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Yc(a,t.getContext(s),i)),i}function RV(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=NV(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Fh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Kc(n,e,a?a.children:null,r,i):Kc(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ls(a.outlet.component,s))}else s&&Yc(e,a,i),i.canActivateChecks.push(new Fh(r)),o.component?Kc(n,null,a?a.children:null,r,i):Kc(n,null,t,r,i);return i}function NV(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!lo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!lo(n.url,e.url)||!Un(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_v(n,e)||!Un(n.queryParams,e.queryParams);case"paramsChange":default:return!_v(n,e)}}function Yc(n,e,t){let r=ks(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Yc(s,e.children.getContext(o),t):Yc(s,null,t):Yc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ls(e.outlet.component,i)):t.canDeactivateChecks.push(new Ls(null,i)):t.canDeactivateChecks.push(new Ls(null,i))}function cu(n){return typeof n=="function"}function MV(n){return typeof n=="boolean"}function PV(n){return n&&cu(n.canLoad)}function xV(n){return n&&cu(n.canActivate)}function kV(n){return n&&cu(n.canActivateChild)}function OV(n){return n&&cu(n.canDeactivate)}function FV(n){return n&&cu(n.canMatch)}function lS(n){return n instanceof or||n?.name==="EmptyError"}var mh=Symbol("INITIAL_VALUE");function Hs(){return bt(n=>rc(n.map(e=>e.pipe(ar(1),Rg(mh)))).pipe(le(e=>{for(let t of e)if(t!==!0){if(t===mh)return mh;if(t===!1||LV(t))return t}return!0}),Mt(e=>e!==mh),ar(1)))}function LV(n){return ci(n)||n instanceof $s}function VV(n,e){return Fe(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?W(se(x({},t),{guardsResult:!0})):jV(s,r,i,n).pipe(Fe(a=>a&&MV(a)?UV(r,o,n,e):W(a)),le(a=>se(x({},t),{guardsResult:a})))})}function jV(n,e,t,r){return Se(n).pipe(Fe(i=>zV(i.component,i.route,t,e,r)),cr(i=>i!==!0,!0))}function UV(n,e,t,r){return Se(e).pipe(Br(i=>us($V(i.route.parent,r),BV(i.route,r),qV(n,i.path,t),HV(n,i.route,t))),cr(i=>i!==!0,!0))}function BV(n,e){return n!==null&&e&&e(new Nh(n)),W(!0)}function $V(n,e){return n!==null&&e&&e(new Ah(n)),W(!0)}function HV(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return W(!0);let i=r.map(o=>ic(()=>{let s=qs(e)??t,a=zs(o,s),u=xV(a)?a.canActivate(e,n):Ue(s,()=>a(e,n));return _r(u).pipe(cr())}));return W(i).pipe(Hs())}function qV(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>AV(s)).filter(s=>s!==null).map(s=>ic(()=>{let a=s.guards.map(u=>{let l=qs(s.node)??t,h=zs(u,l),p=kV(h)?h.canActivateChild(r,n):Ue(l,()=>h(r,n));return _r(p).pipe(cr())});return W(a).pipe(Hs())}));return W(o).pipe(Hs())}function zV(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return W(!0);let s=o.map(a=>{let u=qs(e)??i,l=zs(a,u),h=OV(l)?l.canDeactivate(n,e,t,r):Ue(u,()=>l(n,e,t,r));return _r(h).pipe(cr())});return W(s).pipe(Hs())}function GV(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return W(!0);let o=i.map(s=>{let a=zs(s,n),u=PV(a)?a.canLoad(e,t):Ue(n,()=>a(e,t));return _r(u)});return W(o).pipe(Hs(),dS(r))}function dS(n){return yg(Ye(e=>{if(typeof e!="boolean")throw Oh(n,e)}),le(e=>e===!0))}function WV(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return W(!0);let o=i.map(s=>{let a=zs(s,n),u=FV(a)?a.canMatch(e,t):Ue(n,()=>a(e,t));return _r(u)});return W(o).pipe(Hs(),dS(r))}var ru=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},iu=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function xs(n){return as(new ru(n))}function KV(n){return as(new L(4e3,!1))}function QV(n){return as(cS(!1,St.GuardRejected))}var wv=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return W(r);if(i.numberOfChildren>1||!i.children[J])return KV(`${e.redirectTo}`);i=i.children[J]}}applyRedirectCommands(e,t,r,i,o){return YV(t,i,o).pipe(le(s=>{if(s instanceof $n)throw new iu(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new iu(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new $n(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new ye(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new L(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function YV(n,e,t){if(typeof n=="string")return W(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return _r(Ue(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var Dv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ZV(n,e,t,r,i){let o=hS(n,e,t);return o.matched?(r=_V(e,r),WV(r,e,t,i).pipe(le(s=>s===!0?o:x({},Dv)))):W(o)}function hS(n,e,t){if(e.path==="**")return JV(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?x({},Dv):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||B0)(t,n,e);if(!i)return x({},Dv);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?x(x({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function JV(n){return{matched:!0,parameters:n.length>0?H0(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function V0(n,e,t,r){return t.length>0&&t2(n,t,r)?{segmentGroup:new ye(e,e2(r,new ye(t,n.children))),slicedSegments:[]}:t.length===0&&n2(n,t,r)?{segmentGroup:new ye(n.segments,XV(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ye(n.segments,n.children),slicedSegments:t}}function XV(n,e,t,r){let i={};for(let o of t)if(Vh(n,e,o)&&!r[_n(o)]){let s=new ye([],{});i[_n(o)]=s}return x(x({},r),i)}function e2(n,e){let t={};t[J]=e;for(let r of n)if(r.path===""&&_n(r)!==J){let i=new ye([],{});t[_n(r)]=i}return t}function t2(n,e,t){return t.some(r=>Vh(n,e,r)&&_n(r)!==J)}function n2(n,e,t){return t.some(r=>Vh(n,e,r))}function Vh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function r2(n,e,t){return e.length===0&&!n.children[t]}var bv=class{};function i2(n,e,t,r,i,o,s="emptyOnly"){return new Cv(n,e,t,r,i,s,o).recognize()}var o2=31,Cv=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new wv(this.urlSerializer,this.urlTree)}noMatchError(e){return new L(4002,`'${e.segmentGroup}'`)}recognize(){let e=V0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(le(({children:t,rootSnapshot:r})=>{let i=new Bt(r,t),o=new tu("",i),s=J0(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new ho([],Object.freeze({}),Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),J,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,J,t).pipe(le(r=>({children:r,rootSnapshot:t})),sr(r=>{if(r instanceof iu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ru?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(le(s=>s instanceof Bt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Se(o).pipe(Br(s=>{let a=r.children[s],u=EV(t,s);return this.processSegmentGroup(e,u,a,s,i)}),Ag((s,a)=>(s.push(...a),s)),$r(null),Sg(),Fe(s=>{if(s===null)return xs(r);let a=fS(s);return s2(a),W(a)}))}processSegment(e,t,r,i,o,s,a){return Se(t).pipe(Br(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(sr(l=>{if(l instanceof ru)return W(null);throw l}))),cr(u=>!!u),sr(u=>{if(lS(u))return r2(r,i,o)?W(new bv):xs(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return _n(r)!==s&&(s===J||!Vh(i,o,r))?xs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):xs(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=hS(t,i,o);if(!u)return xs(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>o2&&(this.allowRedirects=!1));let y=new ho(o,l,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,j0(i),_n(i),i.component??i._loadedComponent??null,i,U0(i)),T=kh(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(T.params),y.data=Object.freeze(T.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(bt(R=>this.applyRedirects.lineralizeSegments(i,R)),Fe(R=>this.processSegment(e,r,t,R.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=ZV(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(bt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(bt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,T=new ho(m,p,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,j0(r),_n(r),r.component??r._loadedComponent??null,r,U0(r)),M=kh(T,s,this.paramsInheritanceStrategy);T.params=Object.freeze(M.params),T.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:O}=V0(t,m,y,l);if(O.length===0&&R.hasChildren())return this.processChildren(h,l,R,T).pipe(le(Y=>new Bt(T,Y)));if(l.length===0&&O.length===0)return W(new Bt(T,[]));let Q=_n(r)===o;return this.processSegment(h,l,R,O,Q?J:o,!0,T).pipe(le(Y=>new Bt(T,Y instanceof Bt?[Y]:[])))}))):xs(t)))}getChildConfig(e,t,r){return t.children?W({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?W({routes:t._loadedRoutes,injector:t._loadedInjector}):GV(e,t,r,this.urlSerializer).pipe(Fe(i=>i?this.configLoader.loadChildren(e,t).pipe(Ye(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):QV(t))):W({routes:[],injector:e})}};function s2(n){n.sort((e,t)=>e.value.outlet===J?-1:t.value.outlet===J?1:e.value.outlet.localeCompare(t.value.outlet))}function a2(n){let e=n.value.routeConfig;return e&&e.path===""}function fS(n){let e=[],t=new Set;for(let r of n){if(!a2(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=fS(r.children);e.push(new Bt(r.value,i))}return e.filter(r=>!t.has(r))}function j0(n){return n.data||{}}function U0(n){return n.resolve||{}}function c2(n,e,t,r,i,o){return Fe(s=>i2(n,e,t,r,s.extractedUrl,i,o).pipe(le(({state:a,tree:u})=>se(x({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function u2(n,e){return Fe(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return W(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of pS(u))s.add(l);let a=0;return Se(s).pipe(Br(u=>o.has(u)?l2(u,r,n,e):(u.data=kh(u,u.parent,n).resolve,W(void 0))),Ye(()=>a++),ls(1),Fe(u=>a===s.size?W(t):Rt))})}function pS(n){let e=n.children.map(t=>pS(t)).flat();return[n,...e]}function l2(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!oS(i)&&(o[ou]=i.title),ic(()=>(n.data=kh(n,n.parent,t).resolve,d2(o,n,e,r).pipe(le(s=>(n._resolvedData=s,n.data=x(x({},n.data),s),null)))))}function d2(n,e,t,r){let i=fv(n);if(i.length===0)return W({});let o={};return Se(i).pipe(Fe(s=>h2(n[s],e,t,r).pipe(cr(),Ye(a=>{if(a instanceof $s)throw Oh(new ai,a);o[s]=a}))),ls(1),le(()=>o),sr(s=>lS(s)?Rt:as(s)))}function h2(n,e,t,r){let i=qs(e)??r,o=zs(n,i),s=o.resolve?o.resolve(e,t):Ue(i,()=>o(e,t));return _r(s)}function dv(n){return bt(e=>{let t=n(e);return t?Se(t).pipe(le(()=>e)):W(e)})}var Nv=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===J);return r}getResolvedTitleForRoute(t){return t.data[ou]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>A(gS),providedIn:"root"})}return n})(),gS=(()=>{class n extends Nv{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(H(x0))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),li=new V("",{providedIn:"root",factory:()=>({})}),mo=new V(""),jh=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=A(Fy);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return W(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=_r(Ue(t,()=>r.loadComponent())).pipe(le(yS),bt(vS),Ye(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),oc(()=>{this.componentLoaders.delete(r)})),o=new rs(i,()=>new Ve).pipe(ns());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=mS(r,this.compiler,t,this.onLoadEndListener).pipe(oc(()=>{this.childrenLoaders.delete(r)})),s=new rs(o,()=>new Ve).pipe(ns());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mS(n,e,t,r){return _r(Ue(t,()=>n.loadChildren())).pipe(le(yS),bt(vS),Fe(i=>i instanceof Xd||Array.isArray(i)?W(i):Se(e.compileModuleAsync(i))),le(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(mo,[],{optional:!0,self:!0}).flat()),{routes:s.map(Rv),injector:o}}))}function f2(n){return n&&typeof n=="object"&&"default"in n}function yS(n){return f2(n)?n.default:n}function vS(n){return W(n)}var Uh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>A(p2),providedIn:"root"})}return n})(),p2=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Mv=new V(""),Pv=new V("");function _S(n,e,t){let r=n.get(Pv),i=n.get(Be);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),g2(n)));a.ready.catch(l=>{});let{onViewTransitionCreated:u}=r;return u&&Ue(n,()=>u({transition:a,from:e,to:t})),s}function g2(n){return new Promise(e=>{Qd({read:()=>setTimeout(e)},{injector:n})})}var xv=new V(""),Bh=(()=>{class n{currentNavigation=mt(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Ve;transitionAbortWithErrorSubject=new Ve;configLoader=A(jh);environmentInjector=A(Le);destroyRef=A(hr);urlSerializer=A(po);rootContexts=A(go);location=A(oi);inputBindingEnabled=A(au,{optional:!0})!==null;titleStrategy=A(Nv);options=A(li,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=A(Uh);createViewTransition=A(Mv,{optional:!0});navigationErrorHandler=A(xv,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>W(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Th(i)),r=i=>this.events.next(new Sh(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;Je(()=>{this.transitions?.next(se(x({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new rt(null),this.transitions.pipe(Mt(r=>r!==null),bt(r=>{let i=!1;return W(r).pipe(bt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",St.SupersededByNewNavigation),Rt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?se(x({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new Hn(o.id,this.urlSerializer.serialize(o.rawUrl),"",Vs.IgnoredSameUrlNavigation)),o.resolve(!1),Rt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return W(o).pipe(bt(u=>(this.events.next(new ui(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Rt:Promise.resolve(u))),c2(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ye(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let l=new Jc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:m}=o,y=new ui(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let T=rS(this.rootComponentType).snapshot;return this.currentTransition=r=se(x({},o),{targetSnapshot:T,urlAfterRedirects:l,extras:se(x({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(M=>(M.finalUrl=l,M)),W(r)}else return this.events.next(new Hn(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Vs.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Rt}),Ye(o=>{let s=new wh(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),le(o=>(this.currentTransition=r=se(x({},o),{guards:SV(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),VV(this.environmentInjector,o=>this.events.next(o)),Ye(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Oh(this.urlSerializer,o.guardsResult);let s=new Dh(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Mt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",St.GuardRejected),!1)),dv(o=>{if(o.guards.canActivateChecks.length!==0)return W(o).pipe(Ye(s=>{let a=new bh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),bt(s=>{let a=!1;return W(s).pipe(u2(this.paramsInheritanceStrategy,this.environmentInjector),Ye({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",St.NoDataFromResolver)}}))}),Ye(s=>{let a=new Ch(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),dv(o=>{let s=a=>{let u=[];if(a.routeConfig?.loadComponent){let l=qs(a)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(Ye(h=>{a.component=h}),le(()=>{})))}for(let l of a.children)u.push(...s(l));return u};return rc(s(o.targetSnapshot.root)).pipe($r(null),ar(1))}),dv(()=>this.afterPreactivation()),bt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Se(a).pipe(le(()=>r)):W(r)}),le(o=>{let s=wV(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=se(x({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),Ye(()=>{this.events.next(new Xc)}),TV(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),ar(1),Jl(new ie(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Mt(()=>!i&&!r.targetRouterState),Ye(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",St.Aborted)}))),Ye({next:o=>{i=!0,this.lastSuccessfulNavigation=Je(this.currentNavigation),this.events.next(new nn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Jl(this.transitionAbortWithErrorSubject.pipe(Ye(o=>{throw o}))),oc(()=>{i||this.cancelNavigationTransition(r,"",St.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),sr(o=>{if(this.destroyed)return r.resolve(!1),Rt;if(i=!0,uS(o))this.events.next(new Bn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),CV(o)?this.events.next(new Bs(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new js(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=Ue(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof $s){let{message:u,cancellationCode:l}=Oh(this.urlSerializer,a);this.events.next(new Bn(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new Bs(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Rt}))}))}cancelNavigationTransition(t,r,i){let o=new Bn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Je(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function m2(n){return n!==Fs}var ES=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>A(y2),providedIn:"root"})}return n})(),Lh=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},y2=(()=>{class n extends Lh{static \u0275fac=(()=>{let t;return function(i){return(t||(t=io(n)))(i||n)}})();static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),IS=(()=>{class n{urlSerializer=A(po);options=A(li,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=A(oi);urlHandlingStrategy=A(Uh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new $n;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof $n?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=rS(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:()=>A(v2),providedIn:"root"})}return n})(),v2=(()=>{class n extends IS{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof ui?this.updateStateMemento():t instanceof Hn?this.commitTransition(r):t instanceof Jc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Xc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Bn&&t.code!==St.SupersededByNewNavigation&&t.code!==St.Redirect?this.restoreHistory(r):t instanceof js?this.restoreHistory(r,!0):t instanceof nn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=x(x({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=x(x({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=io(n)))(i||n)}})();static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $h(n,e){n.events.pipe(Mt(t=>t instanceof nn||t instanceof Bn||t instanceof js||t instanceof Hn),le(t=>t instanceof nn||t instanceof Hn?0:(t instanceof Bn?t.code===St.Redirect||t.code===St.SupersededByNewNavigation:!1)?2:1),Mt(t=>t!==2),ar(1)).subscribe(()=>{e()})}var _2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},E2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},rn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=A(Ay);stateManager=A(IS);options=A(li,{optional:!0})||{};pendingTasks=A(Pn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=A(Bh);urlSerializer=A(po);location=A(oi);urlHandlingStrategy=A(Uh);injector=A(Le);_events=new Ve;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=A(ES);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=A(mo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!A(au,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Pe;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Je(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Bn&&r.code!==St.Redirect&&r.code!==St.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof nn)this.navigated=!0;else if(r instanceof Bs){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=x({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||m2(i.source)},s);this.scheduleNavigation(a,Fs,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}vV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Fs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=x({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(Pt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Je(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Rv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=x(x({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=X0(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return eS(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=ci(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Fs,null,r)}navigate(t,r={skipLocationChange:!1}){return I2(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(zr(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=x({},_2):r===!1?i=x({},E2):i=r,ci(t))return k0(this.currentUrlTree,t,i);let o=this.parseUrl(t);return k0(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return $h(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function I2(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new L(4008,!1)}var Hh=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=mt(null);get href(){return Je(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ve;applicationErrorHandler=A(Pt);options=A(li,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(A(new rh("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof nn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ci(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:ci(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(oe(rn),oe(qn),xc("tabindex"),oe(mr),oe(On),oe(vn))};static \u0275dir=He({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&Ze("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Rs("href",i.reactiveHref(),cy)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ii],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ii],replaceUrl:[2,"replaceUrl","replaceUrl",ii],routerLink:"routerLink"},features:[pr]})}return n})();var uu=class{};var wS=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Mt(t=>t instanceof nn),Br(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Ss(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Se(i).pipe(cs())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=W(null);let o=i.pipe(Fe(s=>s===null?W(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(t,r);return Se([o,s]).pipe(cs())}else return o})}static \u0275fac=function(r){return new(r||n)(H(rn),H(Le),H(uu),H(jh))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),DS=new V(""),w2=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Fs;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ui?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof nn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Hn&&t.code===Vs.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{if(!(t instanceof Us))return;let r={behavior:"instant"};t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position,r):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(async()=>{await new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new Us(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){Ty()};static \u0275prov=j({token:n,factory:n.\u0275fac})}return n})();function Ov(n,...e){return zt([{provide:mo,multi:!0,useValue:n},[],{provide:qn,useFactory:bS,deps:[rn]},{provide:Lc,multi:!0,useFactory:CS},e.map(t=>t.\u0275providers)])}function bS(n){return n.routerState.root}function lu(n,e){return{\u0275kind:n,\u0275providers:e}}function CS(){let n=A(Re);return e=>{let t=n.get(ni);if(e!==t.components[0])return;let r=n.get(rn),i=n.get(TS);n.get(Fv)===1&&r.initialNavigation(),n.get(RS,null,{optional:!0})?.setUpPreloading(),n.get(DS,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var TS=new V("",{factory:()=>new Ve}),Fv=new V("",{providedIn:"root",factory:()=>1});function SS(){let n=[{provide:oy,useValue:!0},{provide:Fv,useValue:0},eh(()=>{let e=A(Re);return e.get(Ky,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(rn),o=e.get(TS);$h(i,()=>{r(!0)}),e.get(Bh).afterPreactivation=()=>(r(!0),o.closed?W(void 0):o),i.initialNavigation()}))})];return lu(2,n)}function AS(){let n=[eh(()=>{A(rn).setUpLocationChangeListener()}),{provide:Fv,useValue:2}];return lu(3,n)}var RS=new V("");function NS(n){return lu(0,[{provide:RS,useExisting:wS},{provide:uu,useExisting:n}])}function MS(){return lu(8,[Sv,{provide:au,useExisting:Sv}])}function PS(n){Fn("NgRouterViewTransitions");let e=[{provide:Mv,useValue:_S},{provide:Pv,useValue:x({skipNextTransition:!!n?.skipInitialTransition},n)}];return lu(9,e)}var xS=[oi,{provide:po,useClass:ai},rn,go,{provide:qn,useFactory:bS,deps:[rn]},jh,[]],Lv=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[xS,[],{provide:mo,multi:!0,useValue:t},[],r?.errorHandler?{provide:xv,useValue:r.errorHandler}:[],{provide:li,useValue:r||{}},r?.useHash?b2():C2(),D2(),r?.preloadingStrategy?NS(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?T2(r):[],r?.bindToComponentInputs?MS().\u0275providers:[],r?.enableViewTransitions?PS().\u0275providers:[],S2()]}}static forChild(t){return{ngModule:n,providers:[{provide:mo,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ln({type:n});static \u0275inj=un({})}return n})();function D2(){return{provide:DS,useFactory:()=>{let n=A(b0),e=A(me),t=A(li),r=A(Bh),i=A(po);return t.scrollOffset&&n.setOffset(t.scrollOffset),new w2(i,r,n,e,t)}}}function b2(){return{provide:vn,useClass:Qy}}function C2(){return{provide:vn,useClass:ah}}function T2(n){return[n.initialNavigation==="disabled"?AS().\u0275providers:[],n.initialNavigation==="enabledBlocking"?SS().\u0275providers:[]]}var kv=new V("");function S2(){return[{provide:kv,useFactory:CS},{provide:Lc,multi:!0,useExisting:kv}]}var HS=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(oe(mr),oe(On))};static \u0275dir=He({type:n})}return n})(),qS=(()=>{class n extends HS{static \u0275fac=(()=>{let t;return function(i){return(t||(t=io(n)))(i||n)}})();static \u0275dir=He({type:n,features:[pn]})}return n})(),Uv=new V("");var A2={provide:Uv,useExisting:An(()=>Ys),multi:!0};function R2(){let n=tn()?tn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var N2=new V(""),Ys=(()=>{class n extends HS{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!R2())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(oe(mr),oe(On),oe(N2,8))};static \u0275dir=He({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ze("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[uo([A2]),pn]})}return n})();function M2(n){return n==null||P2(n)===0}function P2(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Bv=new V(""),zS=new V("");function x2(n){return M2(n.value)?{required:!0}:null}function OS(n){return null}function GS(n){return n!=null}function WS(n){return ti(n)?Se(n):n}function KS(n){let e={};return n.forEach(t=>{e=t!=null?x(x({},e),t):e}),Object.keys(e).length===0?null:e}function QS(n,e){return e.map(t=>t(n))}function k2(n){return!n.validate}function YS(n){return n.map(e=>k2(e)?e:t=>e.validate(t))}function O2(n){if(!n)return null;let e=n.filter(GS);return e.length==0?null:function(t){return KS(QS(t,e))}}function $v(n){return n!=null?O2(YS(n)):null}function F2(n){if(!n)return null;let e=n.filter(GS);return e.length==0?null:function(t){let r=QS(t,e).map(WS);return Tg(r).pipe(le(KS))}}function Hv(n){return n!=null?F2(YS(n)):null}function FS(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function L2(n){return n._rawValidators}function V2(n){return n._rawAsyncValidators}function Vv(n){return n?Array.isArray(n)?n:[n]:[]}function zh(n,e){return Array.isArray(n)?n.includes(e):n===e}function LS(n,e){let t=Vv(e);return Vv(n).forEach(i=>{zh(t,i)||t.push(i)}),t}function VS(n,e){return Vv(e).filter(t=>!zh(n,t))}var Gh=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=$v(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Hv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Ks=class extends Gh{name;get formDirective(){return null}get path(){return null}},Qs=class extends Gh{_parent=null;name=null;valueAccessor=null},Wh=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},j2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Xne=se(x({},j2),{"[class.ng-submitted]":"isSubmitted"}),Jh=(()=>{class n extends Wh{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(oe(Qs,2))};static \u0275dir=He({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&ao("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[pn]})}return n})(),ZS=(()=>{class n extends Wh{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(oe(Ks,10))};static \u0275dir=He({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&ao("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[pn]})}return n})();var du="VALID",qh="INVALID",Gs="PENDING",hu="DISABLED",di=class{},Kh=class extends di{value;source;constructor(e,t){super(),this.value=e,this.source=t}},pu=class extends di{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},gu=class extends di{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Ws=class extends di{status;source;constructor(e,t){super(),this.status=e,this.source=t}},jv=class extends di{source;constructor(e){super(),this.source=e}},Qh=class extends di{source;constructor(e){super(),this.source=e}};function JS(n){return(Xh(n)?n.validators:n)||null}function U2(n){return Array.isArray(n)?$v(n):n||null}function XS(n,e){return(Xh(e)?e.asyncValidators:n)||null}function B2(n){return Array.isArray(n)?Hv(n):n||null}function Xh(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function $2(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new L(1e3,"");if(!r[t])throw new L(1001,"")}function H2(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new L(1002,"")})}var Yh=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Je(this.statusReactive)}set status(e){Je(()=>this.statusReactive.set(e))}_status=Ms(()=>this.statusReactive());statusReactive=mt(void 0);get valid(){return this.status===du}get invalid(){return this.status===qh}get pending(){return this.status==Gs}get disabled(){return this.status===hu}get enabled(){return this.status!==hu}errors;get pristine(){return Je(this.pristineReactive)}set pristine(e){Je(()=>this.pristineReactive.set(e))}_pristine=Ms(()=>this.pristineReactive());pristineReactive=mt(!0);get dirty(){return!this.pristine}get touched(){return Je(this.touchedReactive)}set touched(e){Je(()=>this.touchedReactive.set(e))}_touched=Ms(()=>this.touchedReactive());touchedReactive=mt(!1);get untouched(){return!this.touched}_events=new Ve;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(LS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(LS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(VS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(VS(e,this._rawAsyncValidators))}hasValidator(e){return zh(this._rawValidators,e)}hasAsyncValidator(e){return zh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(se(x({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new gu(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new gu(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(se(x({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new pu(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new pu(!0,r))}markAsPending(e={}){this.status=Gs;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ws(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(se(x({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=hu,this.errors=null,this._forEachChild(i=>{i.disable(se(x({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Kh(this.value,r)),this._events.next(new Ws(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(se(x({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=du,this._forEachChild(r=>{r.enable(se(x({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(se(x({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===du||this.status===Gs)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Kh(this.value,t)),this._events.next(new Ws(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(se(x({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?hu:du}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Gs,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=WS(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ws(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new $e,this.statusChanges=new $e}_calculateStatus(){return this._allControlsDisabled()?hu:this.errors?qh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gs)?Gs:this._anyControlsHaveStatus(qh)?qh:du}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new pu(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new gu(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Xh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=U2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=B2(this._rawAsyncValidators)}},Zh=class extends Yh{constructor(e,t,r){super(JS(t),XS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){H2(this,!0,e),Object.keys(e).forEach(r=>{$2(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Qh(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var ef=new V("",{providedIn:"root",factory:()=>tf}),tf="always";function q2(n,e){return[...e.path,n]}function eA(n,e,t=tf){tA(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),G2(n,e),K2(n,e),W2(n,e),z2(n,e)}function jS(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function z2(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function tA(n,e){let t=L2(n);e.validator!==null?n.setValidators(FS(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=V2(n);e.asyncValidator!==null?n.setAsyncValidators(FS(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();jS(e._rawValidators,i),jS(e._rawAsyncValidators,i)}function G2(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&nA(n,e)})}function W2(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&nA(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function nA(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function K2(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function Q2(n,e){n==null,tA(n,e)}function Y2(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Z2(n){return Object.getPrototypeOf(n.constructor)===qS}function J2(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function X2(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Ys?t=o:Z2(o)?r=o:i=o}),i||r||t||null}var ej={provide:Ks,useExisting:An(()=>qv)},fu=Promise.resolve(),qv=(()=>{class n extends Ks{callSetDisabledState;get submitted(){return Je(this.submittedReactive)}_submitted=Ms(()=>this.submittedReactive());submittedReactive=mt(!1);_directives=new Set;form;ngSubmit=new $e;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Zh({},$v(t),Hv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){fu.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),eA(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){fu.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){fu.then(()=>{let r=this._findContainer(t.path),i=new Zh({});Q2(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){fu.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){fu.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),J2(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new jv(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(oe(Bv,10),oe(zS,10),oe(ef,8))};static \u0275dir=He({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Ze("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[uo([ej]),pn]})}return n})();function US(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function BS(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var tj=class extends Yh{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(JS(t),XS(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(BS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Qh(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){US(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){US(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){BS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var nj={provide:Qs,useExisting:An(()=>mu)},$S=Promise.resolve(),mu=(()=>{class n extends Qs{_changeDetectorRef;callSetDisabledState;control=new tj;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new $e;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=X2(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Y2(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){eA(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){$S.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&ii(r);$S.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?q2(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(oe(Ks,9),oe(Bv,10),oe(zS,10),oe(Uv,10),oe(vr,8),oe(ef,8))};static \u0275dir=He({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[uo([nj]),pn,pr]})}return n})();var rA=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=He({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var rj={provide:Uv,useExisting:An(()=>zv),multi:!0};var ij=(()=>{class n{_accessors=[];add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t){this._accessors.splice(r,1);return}}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return t[0].control?t[0]._parent===r._control._parent&&t[1].name===r.name:!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zv=(()=>{class n extends qS{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=A(ef,{optional:!0})??tf;constructor(t,r,i,o){super(t,r),this._registry=i,this._injector=o}ngOnInit(){this._control=this._injector.get(Qs),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(r){return new(r||n)(oe(mr),oe(On),oe(ij),oe(Re))};static \u0275dir=He({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&Ze("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[uo([rj]),pn]})}return n})();var oj=(()=>{class n{_validator=OS;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):OS,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=He({type:n,features:[pr]})}return n})();var sj={provide:Bv,useExisting:An(()=>Gv),multi:!0};var Gv=(()=>{class n extends oj{required;inputName="required";normalizeInput=ii;createValidator=t=>x2;enabled(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=io(n)))(i||n)}})();static \u0275dir=He({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Rs("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[uo([sj]),pn]})}return n})();var aj=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ln({type:n});static \u0275inj=un({})}return n})();var Zs=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ef,useValue:t.callSetDisabledState??tf}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ln({type:n});static \u0275inj=un({imports:[aj]})}return n})();var oA=()=>{};var cA=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},cj=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},nf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(t[h],t[p],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(cA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):cj(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Kv;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let T=l<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Kv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},uj=function(n){let e=cA(n);return nf.encodeByteArray(e,!0)},vu=function(n){return uj(n).replace(/\./g,"")},rf=function(n){try{return nf.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Yv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var lj=()=>Yv().__FIREBASE_DEFAULTS__,dj=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},hj=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&rf(n[1]);return e&&JSON.parse(e)},of=()=>{try{return oA()||lj()||dj()||hj()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Zv=n=>{var e,t;return(t=(e=of())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},uA=n=>{let e=Zv(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Jv=()=>{var n;return(n=of())===null||n===void 0?void 0:n.config},Xv=n=>{var e;return(e=of())===null||e===void 0?void 0:e[`_${n}`]};var yo=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function hi(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sf(n){return(await fetch(n,{credentials:"include"})).ok}function lA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[vu(JSON.stringify(t)),vu(JSON.stringify(s)),""].join(".")}var yu={};function fj(){let n={prod:[],emulator:[]};for(let e of Object.keys(yu))yu[e]?n.emulator.push(e):n.prod.push(e);return n}function pj(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var sA=!1;function af(n,e){if(typeof window>"u"||typeof document>"u"||!hi(window.location.host)||yu[n]===e||yu[n]||sA)return;yu[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=fj().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{sA=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=pj(r),y=t("text"),T=document.getElementById(y)||document.createElement("span"),M=t("learnmore"),R=document.getElementById(M)||document.createElement("a"),O=t("preprendIcon"),Q=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let Y=m.element;a(Y),h(R,M);let De=l();u(Q,O),Y.append(Q,T,R,De),document.body.appendChild(Y)}o?(T.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Xe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function gj(){var n;let e=(n=of())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fA(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function pA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gA(){let n=Xe();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function mA(){return!gj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _u(){try{return typeof indexedDB=="object"}catch{return!1}}function yA(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var mj="FirebaseError",Ht=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=mj,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,En.prototype.create)}},En=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?yj(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ht(i,a,r)}};function yj(n,e){return n.replace(vj,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var vj=/\{\$([^}]+)}/g;function vA(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function zn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(aA(o)&&aA(s)){if(!zn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function aA(n){return n!==null&&typeof n=="object"}function Eu(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Js(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Xs(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function _A(n,e){let t=new Qv(n,e);return t.subscribe.bind(t)}var Qv=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");_j(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Wv),i.error===void 0&&(i.error=Wv),i.complete===void 0&&(i.complete=Wv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function _j(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Wv(){}var ire=14400*1e3;function at(n){return n&&n._delegate?n._delegate:n}var At=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var vo="[DEFAULT]";var e_=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new yo;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ij(e))try{this.getOrInitializeService({instanceIdentifier:vo})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=vo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vo){return this.instances.has(e)}getOptions(e=vo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ej(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vo){return this.component?this.component.multipleInstances?e:vo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Ej(n){return n===vo?void 0:n}function Ij(n){return n.instantiationMode==="EAGER"}var cf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new e_(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var wj=[],ce=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(ce||{}),Dj={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},bj=ce.INFO,Cj={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},Tj=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=Cj[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Gn=class{constructor(e){this.name=e,this._logLevel=bj,this._logHandler=Tj,this._userLogHandler=null,wj.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Dj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}};var Sj=(n,e)=>e.some(t=>n instanceof t),EA,IA;function Aj(){return EA||(EA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Rj(){return IA||(IA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var wA=new WeakMap,n_=new WeakMap,DA=new WeakMap,t_=new WeakMap,i_=new WeakMap;function Nj(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Wn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&wA.set(t,n)}).catch(()=>{}),i_.set(e,n),e}function Mj(n){if(n_.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});n_.set(n,e)}var r_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return n_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||DA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Wn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function bA(n){r_=n(r_)}function Pj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(uf(this),e,...t);return DA.set(r,e.sort?e.sort():[e]),Wn(r)}:Rj().includes(n)?function(...e){return n.apply(uf(this),e),Wn(wA.get(this))}:function(...e){return Wn(n.apply(uf(this),e))}}function xj(n){return typeof n=="function"?Pj(n):(n instanceof IDBTransaction&&Mj(n),Sj(n,Aj())?new Proxy(n,r_):n)}function Wn(n){if(n instanceof IDBRequest)return Nj(n);if(t_.has(n))return t_.get(n);let e=xj(n);return e!==n&&(t_.set(n,e),i_.set(e,n)),e}var uf=n=>i_.get(n);function TA(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Wn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Wn(s.result),u.oldVersion,u.newVersion,Wn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var kj=["get","getKey","getAll","getAllKeys","count"],Oj=["put","add","delete","clear"],o_=new Map;function CA(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(o_.get(e))return o_.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=Oj.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||kj.includes(t)))return;let o=async function(s,...a){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[t](...a),i&&u.done]))[0]};return o_.set(e,o),o}bA(n=>se(x({},n),{get:(e,t,r)=>CA(e,t)||n.get(e,t,r),has:(e,t)=>!!CA(e,t)||n.has(e,t)}));var a_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Fj(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function Fj(n){let e=n.getComponent();return e?.type==="VERSION"}var c_="@firebase/app",SA="0.13.2";var Er=new Gn("@firebase/app"),Lj="@firebase/app-compat",Vj="@firebase/analytics-compat",jj="@firebase/analytics",Uj="@firebase/app-check-compat",Bj="@firebase/app-check",$j="@firebase/auth",Hj="@firebase/auth-compat",qj="@firebase/database",zj="@firebase/data-connect",Gj="@firebase/database-compat",Wj="@firebase/functions",Kj="@firebase/functions-compat",Qj="@firebase/installations",Yj="@firebase/installations-compat",Zj="@firebase/messaging",Jj="@firebase/messaging-compat",Xj="@firebase/performance",eU="@firebase/performance-compat",tU="@firebase/remote-config",nU="@firebase/remote-config-compat",rU="@firebase/storage",iU="@firebase/storage-compat",oU="@firebase/firestore",sU="@firebase/ai",aU="@firebase/firestore-compat",cU="firebase",uU="11.10.0";var u_="[DEFAULT]",lU={[c_]:"fire-core",[Lj]:"fire-core-compat",[jj]:"fire-analytics",[Vj]:"fire-analytics-compat",[Bj]:"fire-app-check",[Uj]:"fire-app-check-compat",[$j]:"fire-auth",[Hj]:"fire-auth-compat",[qj]:"fire-rtdb",[zj]:"fire-data-connect",[Gj]:"fire-rtdb-compat",[Wj]:"fire-fn",[Kj]:"fire-fn-compat",[Qj]:"fire-iid",[Yj]:"fire-iid-compat",[Zj]:"fire-fcm",[Jj]:"fire-fcm-compat",[Xj]:"fire-perf",[eU]:"fire-perf-compat",[tU]:"fire-rc",[nU]:"fire-rc-compat",[rU]:"fire-gcs",[iU]:"fire-gcs-compat",[oU]:"fire-fst",[aU]:"fire-fst-compat",[sU]:"fire-vertex","fire-js":"fire-js",[cU]:"fire-js-all"};var Iu=new Map,dU=new Map,l_=new Map;function AA(n,e){try{n.container.addComponent(e)}catch(t){Er.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function In(n){let e=n.name;if(l_.has(e))return Er.debug(`There were multiple attempts to register component ${e}.`),!1;l_.set(e,n);for(let t of Iu.values())AA(t,n);for(let t of dU.values())AA(t,n);return!0}function ea(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function xt(n){return n==null?!1:n.settings!==void 0}var hU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fi=new En("app","Firebase",hU);var d_=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new At("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fi.create("app-deleted",{appName:this._name})}};var pi=uU;function p_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:u_,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw fi.create("bad-app-name",{appName:String(i)});if(t||(t=Jv()),!t)throw fi.create("no-options");let o=Iu.get(i);if(o){if(zn(t,o.options)&&zn(r,o.config))return o;throw fi.create("duplicate-app",{appName:i})}let s=new cf(i);for(let u of l_.values())s.addComponent(u);let a=new d_(t,r,s);return Iu.set(i,a),a}function _o(n=u_){let e=Iu.get(n);if(!e&&n===u_&&Jv())return p_();if(!e)throw fi.create("no-app",{appName:n});return e}function lf(){return Array.from(Iu.values())}function ke(n,e,t){var r;let i=(r=lU[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Er.warn(a.join(" "));return}In(new At(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var fU="firebase-heartbeat-database",pU=1,wu="firebase-heartbeat-store",s_=null;function PA(){return s_||(s_=TA(fU,pU,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(wu)}catch(t){console.warn(t)}}}}).catch(n=>{throw fi.create("idb-open",{originalErrorMessage:n.message})})),s_}async function gU(n){try{let t=(await PA()).transaction(wu),r=await t.objectStore(wu).get(xA(n));return await t.done,r}catch(e){if(e instanceof Ht)Er.warn(e.message);else{let t=fi.create("idb-get",{originalErrorMessage:e?.message});Er.warn(t.message)}}}async function RA(n,e){try{let r=(await PA()).transaction(wu,"readwrite");await r.objectStore(wu).put(e,xA(n)),await r.done}catch(t){if(t instanceof Ht)Er.warn(t.message);else{let r=fi.create("idb-set",{originalErrorMessage:t?.message});Er.warn(r.message)}}}function xA(n){return`${n.name}!${n.options.appId}`}var mU=1024,yU=30,h_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new f_(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=NA();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>yU){let s=_U(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Er.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=NA(),{heartbeatsToSend:r,unsentEntries:i}=vU(this._heartbeatsCache.heartbeats),o=vu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Er.warn(t),""}}};function NA(){return new Date().toISOString().substring(0,10)}function vU(n,e=mU){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),MA(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),MA(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var f_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _u()?yA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await gU(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return RA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return RA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function MA(n){return vu(JSON.stringify({version:2,heartbeats:n})).length}function _U(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function EU(n){In(new At("platform-logger",e=>new a_(e),"PRIVATE")),In(new At("heartbeat",e=>new h_(e),"PRIVATE")),ke(c_,SA,n),ke(c_,SA,"esm2017"),ke("fire-js","")}EU("");var IU="firebase",wU="11.10.0";ke(IU,wU,"app");function kA(n){n===void 0&&(n=A(Re));let e=n.get(_s);return t=>new ie(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var gi=new Hr("ANGULARFIRE2_VERSION");function Du(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var na=(n,e)=>{let t=e?[e]:lf(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ta=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(ta||{}),OA=zy()&&typeof Zone<"u"?ta.WARN:ta.SILENT;var df=class{zone;delegate;constructor(e,t=Dg){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},mi=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=A(me);this.outsideAngular=t.runOutsideAngular(()=>new df(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new df(typeof Zone>"u"?void 0:Zone.current,wg))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),FA=!1;function DU(n,e){!FA&&(OA>ta.SILENT||zy())&&(FA=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),OA>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function bU(n){let e=A(me,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Eo(n){let e=A(me,{optional:!0});return e?e.run(()=>n()):n()}var CU=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Ue(t,()=>Eo(()=>n.apply(void 0,r)))),yt=(n,e,t)=>(t||=e?ta.WARN:ta.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=A(mi),s=A(_s),a=A(Le)}catch{return DU(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Eo(()=>s.add())),i[l]=CU(i[l],r,a));let u=bU(()=>n.apply(this,i));return e?u instanceof ie?u.pipe(Ur(o.outsideAngular),jr(o.insideAngular),kA(a)):u instanceof Promise?Eo(()=>{let l=s.add();return new Promise((h,p)=>{u.then(m=>Ue(a,()=>Eo(()=>h(m))),m=>Ue(a,()=>Eo(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Eo(()=>u):u instanceof ie?u.pipe(Ur(o.outsideAngular),jr(o.insideAngular)):Eo(()=>u)});var Ir=class{constructor(e){return e}},Io=class{constructor(){return lf()}};function TU(n){return n&&n.length===1?n[0]:new Ir(_o())}var g_=new V("angularfire2._apps"),SU={provide:Ir,useFactory:TU,deps:[[new jt,g_]]},AU={provide:Io,deps:[[new jt,g_]]};function RU(n){return(e,t)=>{let r=t.get(ei);ke("angularfire",gi.full,"core"),ke("angularfire",gi.full,"app"),ke("angular",$g.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Ir(i)}}function LA(n,...e){return zt([SU,AU,{provide:g_,useFactory:RU(n),multi:!0,deps:[me,Re,mi,...e]}])}var VA=yt(p_,!0);var NU=new Map,MU={activated:!1,tokenObservers:[]},PU={initialized:!1,enabled:!1};function wn(n){return NU.get(n)||Object.assign({},MU)}function $A(){return PU}var xU="https://content-firebaseappcheck.googleapis.com/v1";var kU="exchangeDebugToken",jA={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},iie=1440*60*1e3;var v_=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new yo,this.pending.promise.catch(t=>{}),await OU(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new yo,this.pending.promise.catch(t=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function OU(n){return new Promise(e=>{setTimeout(e,n)})}var FU={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},yi=new En("appCheck","AppCheck",FU);function HA(n){if(!wn(n).activated)throw yi.create("use-before-activation",{appName:n.name})}async function qA({url:n,body:e},t){let r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){let p=await i.getHeartbeatsHeader();p&&(r["X-Firebase-Client"]=p)}let o={method:"POST",body:JSON.stringify(e),headers:r},s;try{s=await fetch(n,o)}catch(p){throw yi.create("fetch-network-error",{originalErrorMessage:p?.message})}if(s.status!==200)throw yi.create("fetch-status-error",{httpStatus:s.status});let a;try{a=await s.json()}catch(p){throw yi.create("fetch-parse-error",{originalErrorMessage:p?.message})}let u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw yi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});let l=Number(u[1])*1e3,h=Date.now();return{token:a.token,expireTimeMillis:h+l,issuedAtTimeMillis:h}}function zA(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${xU}/projects/${t}/apps/${r}:${kU}?key=${i}`,body:{debug_token:e}}}var LU="firebase-app-check-database",VU=1,__="firebase-app-check-store";var hf=null;function jU(){return hf||(hf=new Promise((n,e)=>{try{let t=indexedDB.open(LU,VU);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(yi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(__,{keyPath:"compositeKey"})}}}catch(t){e(yi.create("storage-open",{originalErrorMessage:t?.message}))}}),hf)}function UU(n,e){return BU($U(n),e)}async function BU(n,e){let r=(await jU()).transaction(__,"readwrite"),o=r.objectStore(__).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(yi.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})}function $U(n){return`${n.options.appId}-${n.name}`}var bu=new Gn("@firebase/app-check");function m_(n,e){return _u()?UU(n,e).catch(t=>{bu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function GA(){return $A().enabled}async function WA(){let n=$A();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var HU={error:"UNKNOWN_ERROR"};function qU(n){return nf.encodeString(JSON.stringify(n),!1)}async function E_(n,e=!1,t=!1){let r=n.app;HA(r);let i=wn(r),o=i.token,s;if(o&&!Cu(o)&&(i.token=void 0,o=void 0),!o){let l=await i.cachedTokenPromise;l&&(Cu(l)?o=l:await m_(r,void 0))}if(!e&&o&&Cu(o))return{token:o.token};let a=!1;if(GA())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=qA(zA(r,await WA()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=await i.exchangeTokenPromise;return await m_(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?bu.warn(l.message):t&&bu.error(l),y_(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=await wn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?bu.warn(l.message):t&&bu.error(l),s=l}let u;return o?s?Cu(o)?u={token:o.token,internalError:s}:u=y_(s):(u={token:o.token},i.token=o,await m_(r,o)):u=y_(s),a&&KU(r,u),u}async function zU(n){let e=n.app;HA(e);let{provider:t}=wn(e);if(GA()){let r=await WA(),{token:i}=await qA(zA(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await t.getToken();return{token:r}}}function GU(n,e,t,r){let{app:i}=n,o=wn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Cu(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),UA(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>UA(n))}function KA(n,e){let t=wn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function UA(n){let{app:e}=n,t=wn(e),r=t.tokenRefresher;r||(r=WU(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function WU(n){let{app:e}=n;return new v_(async()=>{let t=wn(e),r;if(t.token?r=await E_(n,!0):r=await E_(n),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let t=wn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},jA.RETRIAL_MIN_WAIT,jA.RETRIAL_MAX_WAIT)}function KU(n,e){let t=wn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Cu(n){return n.expireTimeMillis-Date.now()>0}function y_(n){return{token:qU(HU),error:n}}var I_=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=wn(this.app);for(let t of e)KA(this.app,t.next);return Promise.resolve()}};function QU(n,e){return new I_(n,e)}function YU(n){return{getToken:e=>E_(n,e),getLimitedUseToken:()=>zU(n),addTokenListener:e=>GU(n,"INTERNAL",e),removeTokenListener:e=>KA(n.app,e)}}var ZU="@firebase/app-check",JU="0.10.1";var XU="app-check",BA="app-check-internal";function eB(){In(new At(XU,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return QU(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(BA).initialize()})),In(new At(BA,n=>{let e=n.getProvider("app-check").getImmediate();return YU(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),ke(ZU,JU)}eB();var tB="app-check";var ra=class{constructor(){return na(tB)}};var nB=["localhost","0.0.0.0","127.0.0.1"],mie=typeof window<"u"&&nB.includes(window.location.hostname);function lR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var dR=lR,hR=new En("auth","Firebase",lR());var vf=new Gn("@firebase/auth");function rB(n,...e){vf.logLevel<=ce.WARN&&vf.warn(`Auth (${pi}): ${n}`,...e)}function pf(n,...e){vf.logLevel<=ce.ERROR&&vf.error(`Auth (${pi}): ${n}`,...e)}function Qn(n,...e){throw G_(n,...e)}function wo(n,...e){return G_(n,...e)}function fR(n,e,t){let r=Object.assign(Object.assign({},dR()),{[e]:t});return new En("auth","Firebase",r).create(e,{appName:n.name})}function br(n){return fR(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function G_(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return hR.create(n,...e)}function K(n,e,...t){if(!n)throw G_(e,...t)}function wr(n){let e="INTERNAL ASSERTION FAILED: "+n;throw pf(e),new Error(e)}function Ei(n,e){n||wr(e)}function C_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function iB(){return QA()==="http:"||QA()==="https:"}function QA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function oB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iB()||fA()||"connection"in navigator)?navigator.onLine:!0}function sB(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Do=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ei(t>e,"Short delay should be less than long delay!"),this.isMobile=dA()||pA()}get(){return oB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function W_(n,e){Ei(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var _f=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var aB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var cB=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uB=new Do(3e4,6e4);function Ii(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function wi(n,e,t,r,i={}){return pR(n,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let a=Eu(Object.assign({key:n.config.apiKey},s)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);let l=Object.assign({method:e,headers:u},o);return hA()||(l.referrerPolicy="no-referrer"),n.emulatorConfig&&hi(n.emulatorConfig.host)&&(l.credentials="include"),_f.fetch()(await gR(n,n.config.apiHost,t,a),l)})}async function pR(n,e,t){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},aB),e);try{let i=new T_(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw ff(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ff(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw ff(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw ff(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw fR(n,h,l);Qn(n,h)}}catch(i){if(i instanceof Ht)throw i;Qn(n,"network-request-failed",{message:String(i)})}}async function ku(n,e,t,r,i={}){let o=await wi(n,e,t,r,i);return"mfaPendingCredential"in o&&Qn(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function gR(n,e,t,r){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?W_(n.config,i):`${n.config.apiScheme}://${i}`;return cB.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function lB(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var T_=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(wo(this.auth,"network-request-failed")),uB.get())})}};function ff(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=wo(n,e,r);return i.customData._tokenResponse=t,i}function YA(n){return n!==void 0&&n.enterprise!==void 0}var S_=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return lB(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function dB(n,e){return wi(n,"GET","/v2/recaptchaConfig",Ii(n,e))}async function hB(n,e){return wi(n,"POST","/v1/accounts:delete",e)}async function Ef(n,e){return wi(n,"POST","/v1/accounts:lookup",e)}function Su(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function K_(n,e=!1){let t=at(n),r=await t.getIdToken(e),i=Q_(r);K(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Su(w_(i.auth_time)),issuedAtTime:Su(w_(i.iat)),expirationTime:Su(w_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function w_(n){return Number(n)*1e3}function Q_(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return pf("JWT malformed, contained fewer than 3 sections"),null;try{let i=rf(t);return i?JSON.parse(i):(pf("Failed to decode base64 JWT payload"),null)}catch(i){return pf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ZA(n){let e=Q_(n);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ru(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ht&&fB(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function fB({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var A_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Nu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Su(this.lastLoginAt),this.creationTime=Su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function If(n){var e;let t=n.auth,r=await n.getIdToken(),i=await Ru(n,Ef(t,{idToken:r}));K(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?mR(o.providerUserInfo):[],a=pB(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Nu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)}async function Y_(n){let e=at(n);await If(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pB(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function mR(n){return n.map(e=>{var{providerId:t}=e,r=bg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function gB(n,e){let t=await pR(n,{},async()=>{let r=Eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=await gR(n,i,"/v1/token",`key=${o}`),a=await n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&hi(n.emulatorConfig.host)&&(u.credentials="include"),_f.fetch()(s,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function mB(n,e){return wi(n,"POST","/v2/accounts:revokeToken",Ii(n,e))}var Au=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ZA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){K(e.length!==0,"internal-error");let t=ZA(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:i,expiresIn:o}=await gB(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(K(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(K(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(K(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return wr("not implemented")}};function vi(n,e){K(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var _i=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=bg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new A_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Nu(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){let t=await Ru(this,this.stsTokenManager.getToken(this.auth,e));return K(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return K_(this,e)}reload(){return Y_(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await If(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xt(this.auth.app))return Promise.reject(br(this.auth));let e=await this.getIdToken();return await Ru(this,hB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,T=(s=t.photoURL)!==null&&s!==void 0?s:void 0,M=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,O=(l=t.createdAt)!==null&&l!==void 0?l:void 0,Q=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:Y,emailVerified:De,isAnonymous:It,providerData:Ie,stsTokenManager:w}=t;K(Y&&w,e,"internal-error");let v=Au.fromJSON(this.name,w);K(typeof Y=="string",e,"internal-error"),vi(p,e.name),vi(m,e.name),K(typeof De=="boolean",e,"internal-error"),K(typeof It=="boolean",e,"internal-error"),vi(y,e.name),vi(T,e.name),vi(M,e.name),vi(R,e.name),vi(O,e.name),vi(Q,e.name);let E=new n({uid:Y,auth:e,email:m,emailVerified:De,displayName:p,isAnonymous:It,photoURL:T,phoneNumber:y,tenantId:M,stsTokenManager:v,createdAt:O,lastLoginAt:Q});return Ie&&Array.isArray(Ie)&&(E.providerData=Ie.map(I=>Object.assign({},I))),R&&(E._redirectEventId=R),E}static async _fromIdTokenResponse(e,t,r=!1){let i=new Au;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await If(o),o}static async _fromGetAccountInfoResponse(e,t,r){let i=t.users[0];K(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?mR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Au;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Nu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u}};var JA=new Map;function Dr(n){Ei(n instanceof Function,"Expected a class definition");let e=JA.get(n);return e?(Ei(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,JA.set(n,e),e)}var yB=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){let r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),R_=yB;function gf(n,e,t){return`firebase:${n}:${e}:${t}`}var wf=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=gf(this.userKey,i.apiKey,o),this.fullPersistenceKey=gf("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=await Ef(this.auth,{idToken:e}).catch(()=>{});return t?_i._fromGetAccountInfoResponse(this.auth,t,e):null}return _i._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new n(Dr(R_),e,r);let i=(await Promise.all(t.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),o=i[0]||Dr(R_),s=gf(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=await l._get(s);if(h){let p;if(typeof h=="string"){let m=await Ef(e,{idToken:h}).catch(()=>{});if(!m)break;p=await _i._fromGetAccountInfoResponse(e,m,h)}else p=_i._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&await o._set(s,a.toJSON()),await Promise.all(t.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new n(o,e,r))}};function XA(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ER(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wR(e))return"Blackberry";if(DR(e))return"Webos";if(vR(e))return"Safari";if((e.includes("chrome/")||_R(e))&&!e.includes("edge/"))return"Chrome";if(IR(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function yR(n=Xe()){return/firefox\//i.test(n)}function vR(n=Xe()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _R(n=Xe()){return/crios\//i.test(n)}function ER(n=Xe()){return/iemobile/i.test(n)}function IR(n=Xe()){return/android/i.test(n)}function wR(n=Xe()){return/blackberry/i.test(n)}function DR(n=Xe()){return/webos/i.test(n)}function Z_(n=Xe()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function vB(n=Xe()){var e;return Z_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _B(){return gA()&&document.documentMode===10}function bR(n=Xe()){return Z_(n)||IR(n)||DR(n)||wR(n)||/windows phone/i.test(n)||ER(n)}function CR(n,e=[]){let t;switch(n){case"Browser":t=XA(Xe());break;case"Worker":t=`${XA(Xe())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${pi}/${r}`}var N_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function EB(n,e={}){return wi(n,"GET","/v2/passwordPolicy",Ii(n,e))}var IB=6,M_=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:IB,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var P_=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Df(this),this.idTokenSubscription=new Df(this),this.beforeStateQueue=new N_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Dr(t)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await wf.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await Ef(this,{idToken:e}),r=await _i._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(xt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await If(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xt(this.app))return Promise.reject(br(this));let t=e?at(e):null;return t&&K(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xt(this.app)?Promise.reject(br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xt(this.app)?Promise.reject(br(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Dr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await EB(this),t=new M_(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new En("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await mB(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&Dr(e)||this._popupRedirectResolver;K(t,this,"argument-error"),this.redirectPersistenceManager=await wf.create(this,[Dr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(xt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&rB(`Error while retrieving App Check token: ${t.error}`),t?.token}};function Co(n){return at(n)}var Df=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=_A(t=>this.observer=t)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Nf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wB(n){Nf=n}function TR(n){return Nf.loadJS(n)}function DB(){return Nf.recaptchaEnterpriseScript}function bB(){return Nf.gapiScript}function SR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var x_=class{constructor(){this.enterprise=new k_}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},k_=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var CB="recaptcha-enterprise",AR="NO_RECAPTCHA",O_=class{constructor(e){this.type=CB,this.auth=Co(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{dB(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new S_(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})})}function i(o,s,a){let u=window.grecaptcha;YA(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(AR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new x_().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&YA(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=DB();u.length!==0&&(u+=a),TR(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}};async function Tu(n,e,t,r=!1,i=!1){let o=new O_(n),s;if(i)s=AR;else try{s=await o.verify(t)}catch{s=await o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function F_(n,e,t,r,i){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=await Tu(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=await Tu(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=await Tu(n,e,t);return r(n,a).catch(async u=>{var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=await Tu(n,e,t,!1,!0);return r(n,h)}return Promise.reject(u)})}else{let a=await Tu(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")}function J_(n,e){let t=ea(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(zn(o,e??{}))return i;Qn(i,"already-initialized")}return t.initialize({options:e})}function TB(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Dr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function X_(n,e,t){let r=Co(n);K(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=RR(e),{host:s,port:a}=SB(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){K(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),K(zn(l,r.config.emulator)&&zn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,hi(s)?(sf(`${o}//${s}${u}`),af("Auth",!0)):i||AB()}function RR(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function SB(n){let e=RR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:eR(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:eR(s)}}}function eR(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function AB(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Mu=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return wr("not implemented")}_getIdTokenResponse(e){return wr("not implemented")}_linkToIdToken(e,t){return wr("not implemented")}_getReauthenticationResolver(e){return wr("not implemented")}};async function RB(n,e){return wi(n,"POST","/v1/accounts:signUp",e)}async function NB(n,e){return ku(n,"POST","/v1/accounts:signInWithPassword",Ii(n,e))}async function MB(n,e){return ku(n,"POST","/v1/accounts:signInWithEmailLink",Ii(n,e))}async function PB(n,e){return ku(n,"POST","/v1/accounts:signInWithEmailLink",Ii(n,e))}var Pu=class n extends Mu{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return F_(e,t,"signInWithPassword",NB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return MB(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return F_(e,r,"signUpPassword",RB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return PB(e,{idToken:t,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function D_(n,e){return ku(n,"POST","/v1/accounts:signInWithIdp",Ii(n,e))}function xB(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kB(n){let e=Js(Xs(n)).link,t=e?Js(Xs(e)).deep_link_id:null,r=Js(Xs(n)).deep_link_id;return(r?Js(Xs(r)).link:null)||r||t||e||n}var bf=class n{constructor(e){var t,r,i,o,s,a;let u=Js(Xs(e)),l=(t=u.apiKey)!==null&&t!==void 0?t:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=xB((i=u.mode)!==null&&i!==void 0?i:null);K(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=kB(e);try{return new n(t)}catch{return null}}};var NR=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Pu._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=bf.parseLink(r);return K(i,"argument-error"),Pu._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Cf=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var L_=class extends Cf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};async function OB(n,e){return ku(n,"POST","/v1/accounts:signUp",Ii(n,e))}var ia=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){let o=await _i._fromIdTokenResponse(e,r,i),s=tR(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);let i=tR(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function tR(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var V_=class n extends Ht{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function MR(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?V_._fromErrorAndOperation(n,o,e,r):o})}async function FB(n,e,t=!1){let r=await Ru(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ia._forOperation(n,"link",r)}async function LB(n,e,t=!1){let{auth:r}=n;if(xt(r.app))return Promise.reject(br(r));let i="reauthenticate";try{let o=await Ru(n,MR(r,i,e,n),t);K(o.idToken,r,"internal-error");let s=Q_(o.idToken);K(s,r,"internal-error");let{sub:a}=s;return K(n.uid===a,r,"user-mismatch"),ia._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Qn(r,"user-mismatch"),o}}async function PR(n,e,t=!1){if(xt(n.app))return Promise.reject(br(n));let r="signIn",i=await MR(n,r,e),o=await ia._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function eE(n,e){return PR(Co(n),e)}async function xR(n){let e=Co(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function tE(n,e,t){if(xt(n.app))return Promise.reject(br(n));let r=Co(n),s=await F_(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",OB,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&xR(n),u}),a=await ia._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function nE(n,e,t){return xt(n.app)?Promise.reject(br(n)):eE(at(n),NR.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&xR(n),r})}function rE(n,e,t,r){return at(n).onIdTokenChanged(e,t,r)}function iE(n,e,t){return at(n).beforeAuthStateChanged(e,t)}function oE(n,e,t,r){return at(n).onAuthStateChanged(e,t,r)}function sE(n){return at(n).signOut()}var Tf="__sak";var Sf=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Tf,"1"),this.storage.removeItem(Tf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var VB=1e3,jB=10,UB=(()=>{class n extends Sf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bR(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);_B()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,jB):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},VB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){let r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}return n.type="LOCAL",n})(),kR=UB;var BB=(()=>{class n extends Sf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),aE=BB;function $B(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}var HB=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(async h=>h(r.origin,s)),l=await $B(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function OR(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var j_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=OR("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}};function Kn(){return window}function qB(n){Kn().location.href=n}function FR(){return typeof Kn().WorkerGlobalScope<"u"&&typeof Kn().importScripts=="function"}async function zB(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GB(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function WB(){return FR()?self:null}var LR="firebaseLocalStorageDb",KB=1,Af="firebaseLocalStorage",VR="fbase_key",bo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Mf(n,e){return n.transaction([Af],e?"readwrite":"readonly").objectStore(Af)}function QB(){let n=indexedDB.deleteDatabase(LR);return new bo(n).toPromise()}function U_(){let n=indexedDB.open(LR,KB);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Af,{keyPath:VR})}catch(i){t(i)}}),n.addEventListener("success",async()=>{let r=n.result;r.objectStoreNames.contains(Af)?e(r):(r.close(),await QB(),e(await U_()))})})}async function nR(n,e,t){let r=Mf(n,!0).put({[VR]:e,value:t});return new bo(r).toPromise()}async function YB(n,e){let t=Mf(n,!1).get(e),r=await new bo(t).toPromise();return r===void 0?null:r.value}function rR(n,e){let t=Mf(n,!0).delete(e);return new bo(t).toPromise()}var ZB=800,JB=3,XB=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await U_(),this.db)}async _withRetries(t){let r=0;for(;;)try{let i=await this._openDb();return await t(i)}catch(i){if(r++>JB)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=HB._getInstance(WB()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await zB(),!this.activeServiceWorker)return;this.sender=new j_(this.activeServiceWorker);let i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||GB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let t=await U_();return await nR(t,Tf,"1"),await rR(t,Tf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>nR(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){let r=await this._withRetries(i=>YB(i,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>rR(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){let t=await this._withRetries(o=>{let s=Mf(o,!1).getAll();return new bo(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),jR=XB;var bie=SR("rcb"),Cie=new Do(3e4,6e4);function e$(n,e){return e?Dr(e):(K(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var xu=class extends Mu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return D_(e,this._buildIdpRequest())}_linkToIdToken(e,t){return D_(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return D_(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function t$(n){return PR(n.auth,new xu(n),n.bypassAuthState)}function n$(n){let{auth:e,user:t}=n;return K(t,e,"internal-error"),LB(t,new xu(n),n.bypassAuthState)}async function r$(n){let{auth:e,user:t}=n;return K(t,e,"internal-error"),FB(t,new xu(n),n.bypassAuthState)}var B_=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return t$;case"linkViaPopup":case"linkViaRedirect":return r$;case"reauthViaPopup":case"reauthViaRedirect":return n$;default:Qn(this.auth,"internal-error")}}resolve(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Tie=new Do(2e3,1e4);var i$="pendingRedirect",mf=new Map,$_=class extends B_{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=mf.get(this.auth._key());if(!e){try{let r=await o$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}mf.set(this.auth._key(),e)}return this.bypassAuthState||mf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function o$(n,e){let t=c$(e),r=a$(n);if(!await r._isAvailable())return!1;let i=await r._get(t)==="true";return await r._remove(t),i}function s$(n,e){mf.set(n._key(),e)}function a$(n){return Dr(n._redirectPersistence)}function c$(n){return gf(i$,n.config.apiKey,n.name)}async function u$(n,e,t=!1){if(xt(n.app))return Promise.reject(br(n));let r=Co(n),i=e$(r,e),s=await new $_(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}var l$=600*1e3,H_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!d$(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!UR(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(wo(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=l$&&this.cachedEventUids.clear(),this.cachedEventUids.has(iR(e))}saveEventToCache(e){this.cachedEventUids.add(iR(e)),this.lastProcessedEventTime=Date.now()}};function iR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function UR({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function d$(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UR(n);default:return!1}}async function h$(n,e={}){return wi(n,"GET","/v1/projects",e)}var f$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,p$=/^https?/;async function g$(n){if(n.config.emulator)return;let{authorizedDomains:e}=await h$(n);for(let t of e)try{if(m$(t))return}catch{}Qn(n,"unauthorized-domain")}function m$(n){let e=C_(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!p$.test(t))return!1;if(f$.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var y$=new Do(3e4,6e4);function oR(){let n=Kn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function v$(n){return new Promise((e,t)=>{var r,i,o;function s(){oR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{oR(),t(wo(n,"network-request-failed"))},timeout:y$.get()})}if(!((i=(r=Kn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Kn().gapi)===null||o===void 0)&&o.load)s();else{let a=SR("iframefcb");return Kn()[a]=()=>{gapi.load?s():t(wo(n,"network-request-failed"))},TR(`${bB()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw yf=null,e})}var yf=null;function _$(n){return yf=yf||v$(n),yf}var E$=new Do(5e3,15e3),I$="__/auth/iframe",w$="emulator/auth/iframe",D$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},b$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function C$(n){let e=n.config;K(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?W_(e,w$):`https://${n.config.authDomain}/${I$}`,r={apiKey:e.apiKey,appName:n.name,v:pi},i=b$.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Eu(r).slice(1)}`}async function T$(n){let e=await _$(n),t=Kn().gapi;return K(t,n,"internal-error"),e.open({where:document.body,url:C$(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:D$,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});let s=wo(n,"network-request-failed"),a=Kn().setTimeout(()=>{o(s)},E$.get());function u(){Kn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})}))}var S$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},A$=500,R$=600,N$="_blank",M$="http://localhost",Rf=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function P$(n,e,t,r=A$,i=R$){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},S$),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Xe().toLowerCase();t&&(a=_R(l)?N$:t),yR(l)&&(e=e||M$,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,T])=>`${m}${y}=${T},`,"");if(vB(l)&&a!=="_self")return x$(e||"",a),new Rf(null);let p=window.open(e||"",a,h);K(p,n,"popup-blocked");try{p.focus()}catch{}return new Rf(p)}function x$(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var k$="__/auth/handler",O$="emulator/auth/handler",F$=encodeURIComponent("fac");async function sR(n,e,t,r,i,o){K(n.config.authDomain,n,"auth-domain-config-required"),K(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:pi,eventId:i};if(e instanceof Cf){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",vA(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof L_){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=await n._getAppCheckToken(),l=u?`#${F$}=${encodeURIComponent(u)}`:"";return`${L$(n)}?${Eu(a).slice(1)}${l}`}function L$({config:n}){return n.emulator?W_(n,O$):`https://${n.authDomain}/${k$}`}var b_="webStorageSupport",q_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aE,this._completeRedirectFn=u$,this._overrideRedirectResult=s$}async _openPopup(e,t,r,i){var o;Ei((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=await sR(e,t,r,C_(),i);return P$(e,s,OR())}async _openRedirect(e,t,r,i){await this._originValidation(e);let o=await sR(e,t,r,C_(),i);return qB(o),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Ei(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await T$(e),r=new H_(e);return t.register("authEvent",i=>(K(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(b_,{type:b_},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[b_];s!==void 0&&t(!!s),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=g$(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return bR()||vR()||Z_()}},BR=q_;var aR="@firebase/auth",cR="1.10.8";var z_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function V$(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function j$(n){In(new At("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;K(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CR(n)},l=new P_(r,i,o,u);return TB(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),In(new At("auth-internal",e=>{let t=Co(e.getProvider("auth").getImmediate());return(r=>new z_(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ke(aR,cR,V$(n)),ke(aR,cR,"esm2017")}var U$=300,B$=Xv("authIdTokenMaxAge")||U$,uR=null,$$=n=>async e=>{let t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>B$)return;let i=t?.token;uR!==i&&(uR=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function cE(n=_o()){let e=ea(n,"auth");if(e.isInitialized())return e.getImmediate();let t=J_(n,{popupRedirectResolver:BR,persistence:[jR,kR,aE]}),r=Xv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=$$(o.toString());iE(t,s,()=>s(t.currentUser)),rE(t,a=>s(a))}}let i=Zv("auth");return i&&X_(t,`http://${i}`),t}function H$(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}wB({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=wo("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",H$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});j$("Browser");var $R="auth",To=class{constructor(e){return e}},Ou=class{constructor(){return na($R)}};var uE=new V("angularfire2.auth-instances");function MH(n,e){let t=Du($R,n,e);return t&&new To(t)}function PH(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new To(r)}}var xH={provide:Ou,deps:[[new jt,uE]]},kH={provide:To,useFactory:MH,deps:[[new jt,uE],Ir]};function HR(n,...e){return ke("angularfire",gi.full,"auth"),zt([kH,xH,{provide:uE,useFactory:PH(n),multi:!0,deps:[me,Re,mi,Io,[new jt,ra],...e]}])}var qR=yt(tE,!0,2);var zR=yt(cE,!0);var GR=yt(oE,!0);var WR=yt(nE,!0,2);var KR=yt(sE,!0,2);var QR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},YR={};var Cr,lE;(function(){var n;function e(w,v){function E(){}E.prototype=v.prototype,w.D=v.prototype,w.prototype=new E,w.prototype.constructor=w,w.C=function(I,D,C){for(var _=Array(arguments.length-2),nr=2;nr<arguments.length;nr++)_[nr-2]=arguments[nr];return v.prototype[D].apply(I,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,E){E||(E=0);var I=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)I[D]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(D=0;16>D;++D)I[D]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=w.g[0],E=w.g[1],D=w.g[2];var C=w.g[3],_=v+(C^E&(D^C))+I[0]+3614090360&4294967295;v=E+(_<<7&4294967295|_>>>25),_=C+(D^v&(E^D))+I[1]+3905402710&4294967295,C=v+(_<<12&4294967295|_>>>20),_=D+(E^C&(v^E))+I[2]+606105819&4294967295,D=C+(_<<17&4294967295|_>>>15),_=E+(v^D&(C^v))+I[3]+3250441966&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(C^E&(D^C))+I[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(D^v&(E^D))+I[5]+1200080426&4294967295,C=v+(_<<12&4294967295|_>>>20),_=D+(E^C&(v^E))+I[6]+2821735955&4294967295,D=C+(_<<17&4294967295|_>>>15),_=E+(v^D&(C^v))+I[7]+4249261313&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(C^E&(D^C))+I[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(D^v&(E^D))+I[9]+2336552879&4294967295,C=v+(_<<12&4294967295|_>>>20),_=D+(E^C&(v^E))+I[10]+4294925233&4294967295,D=C+(_<<17&4294967295|_>>>15),_=E+(v^D&(C^v))+I[11]+2304563134&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(C^E&(D^C))+I[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=C+(D^v&(E^D))+I[13]+4254626195&4294967295,C=v+(_<<12&4294967295|_>>>20),_=D+(E^C&(v^E))+I[14]+2792965006&4294967295,D=C+(_<<17&4294967295|_>>>15),_=E+(v^D&(C^v))+I[15]+1236535329&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(D^C&(E^D))+I[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^D&(v^E))+I[6]+3225465664&4294967295,C=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(C^v))+I[11]+643717713&4294967295,D=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(D^C))+I[0]+3921069994&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(D^C&(E^D))+I[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^D&(v^E))+I[10]+38016083&4294967295,C=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(C^v))+I[15]+3634488961&4294967295,D=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(D^C))+I[4]+3889429448&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(D^C&(E^D))+I[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^D&(v^E))+I[14]+3275163606&4294967295,C=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(C^v))+I[3]+4107603335&4294967295,D=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(D^C))+I[8]+1163531501&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(D^C&(E^D))+I[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=C+(E^D&(v^E))+I[2]+4243563512&4294967295,C=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(C^v))+I[7]+1735328473&4294967295,D=C+(_<<14&4294967295|_>>>18),_=E+(C^v&(D^C))+I[12]+2368359562&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(E^D^C)+I[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^D)+I[8]+2272392833&4294967295,C=v+(_<<11&4294967295|_>>>21),_=D+(C^v^E)+I[11]+1839030562&4294967295,D=C+(_<<16&4294967295|_>>>16),_=E+(D^C^v)+I[14]+4259657740&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(E^D^C)+I[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^D)+I[4]+1272893353&4294967295,C=v+(_<<11&4294967295|_>>>21),_=D+(C^v^E)+I[7]+4139469664&4294967295,D=C+(_<<16&4294967295|_>>>16),_=E+(D^C^v)+I[10]+3200236656&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(E^D^C)+I[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^D)+I[0]+3936430074&4294967295,C=v+(_<<11&4294967295|_>>>21),_=D+(C^v^E)+I[3]+3572445317&4294967295,D=C+(_<<16&4294967295|_>>>16),_=E+(D^C^v)+I[6]+76029189&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(E^D^C)+I[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=C+(v^E^D)+I[12]+3873151461&4294967295,C=v+(_<<11&4294967295|_>>>21),_=D+(C^v^E)+I[15]+530742520&4294967295,D=C+(_<<16&4294967295|_>>>16),_=E+(D^C^v)+I[2]+3299628645&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(D^(E|~C))+I[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~D))+I[7]+1126891415&4294967295,C=v+(_<<10&4294967295|_>>>22),_=D+(v^(C|~E))+I[14]+2878612391&4294967295,D=C+(_<<15&4294967295|_>>>17),_=E+(C^(D|~v))+I[5]+4237533241&4294967295,E=D+(_<<21&4294967295|_>>>11),_=v+(D^(E|~C))+I[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~D))+I[3]+2399980690&4294967295,C=v+(_<<10&4294967295|_>>>22),_=D+(v^(C|~E))+I[10]+4293915773&4294967295,D=C+(_<<15&4294967295|_>>>17),_=E+(C^(D|~v))+I[1]+2240044497&4294967295,E=D+(_<<21&4294967295|_>>>11),_=v+(D^(E|~C))+I[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~D))+I[15]+4264355552&4294967295,C=v+(_<<10&4294967295|_>>>22),_=D+(v^(C|~E))+I[6]+2734768916&4294967295,D=C+(_<<15&4294967295|_>>>17),_=E+(C^(D|~v))+I[13]+1309151649&4294967295,E=D+(_<<21&4294967295|_>>>11),_=v+(D^(E|~C))+I[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=C+(E^(v|~D))+I[11]+3174756917&4294967295,C=v+(_<<10&4294967295|_>>>22),_=D+(v^(C|~E))+I[2]+718787259&4294967295,D=C+(_<<15&4294967295|_>>>17),_=E+(C^(D|~v))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(D+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+D&4294967295,w.g[3]=w.g[3]+C&4294967295}r.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var E=v-this.blockSize,I=this.B,D=this.h,C=0;C<v;){if(D==0)for(;C<=E;)i(this,w,C),C+=this.blockSize;if(typeof w=="string"){for(;C<v;)if(I[D++]=w.charCodeAt(C++),D==this.blockSize){i(this,I),D=0;break}}else for(;C<v;)if(I[D++]=w[C++],D==this.blockSize){i(this,I),D=0;break}}this.h=D,this.o+=v},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var E=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=E&255,E/=256;for(this.u(w),w=Array(16),v=E=0;4>v;++v)for(var I=0;32>I;I+=8)w[E++]=this.g[v]>>>I&255;return w};function o(w,v){var E=a;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=v(w)}function s(w,v){this.h=v;for(var E=[],I=!0,D=w.length-1;0<=D;D--){var C=w[D]|0;I&&C==v||(E[D]=C,I=!1)}this.g=E}var a={};function u(w){return-128<=w&&128>w?o(w,function(v){return new s([v|0],0>v?-1:0)}):new s([w|0],0>w?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return R(l(-w));for(var v=[],E=1,I=0;w>=E;I++)v[I]=w/E|0,E*=4294967296;return new s(v,0)}function h(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return R(h(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),I=p,D=0;D<w.length;D+=8){var C=Math.min(8,w.length-D),_=parseInt(w.substring(D,D+C),v);8>C?(C=l(Math.pow(v,C)),I=I.j(C).add(l(_))):(I=I.j(E),I=I.add(l(_)))}return I}var p=u(0),m=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(M(this))return-R(this).m();for(var w=0,v=1,E=0;E<this.g.length;E++){var I=this.i(E);w+=(0<=I?I:4294967296+I)*v,v*=4294967296}return w},n.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(T(this))return"0";if(M(this))return"-"+R(this).toString(w);for(var v=l(Math.pow(w,6)),E=this,I="";;){var D=De(E,v).g;E=O(E,D.j(v));var C=((0<E.g.length?E.g[0]:E.h)>>>0).toString(w);if(E=D,T(E))return C+I;for(;6>C.length;)C="0"+C;I=C+I}},n.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function T(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function M(w){return w.h==-1}n.l=function(w){return w=O(this,w),M(w)?-1:T(w)?0:1};function R(w){for(var v=w.g.length,E=[],I=0;I<v;I++)E[I]=~w.g[I];return new s(E,~w.h).add(m)}n.abs=function(){return M(this)?R(this):this},n.add=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0,D=0;D<=v;D++){var C=I+(this.i(D)&65535)+(w.i(D)&65535),_=(C>>>16)+(this.i(D)>>>16)+(w.i(D)>>>16);I=_>>>16,C&=65535,_&=65535,E[D]=_<<16|C}return new s(E,E[E.length-1]&-2147483648?-1:0)};function O(w,v){return w.add(R(v))}n.j=function(w){if(T(this)||T(w))return p;if(M(this))return M(w)?R(this).j(R(w)):R(R(this).j(w));if(M(w))return R(this.j(R(w)));if(0>this.l(y)&&0>w.l(y))return l(this.m()*w.m());for(var v=this.g.length+w.g.length,E=[],I=0;I<2*v;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var D=0;D<w.g.length;D++){var C=this.i(I)>>>16,_=this.i(I)&65535,nr=w.i(D)>>>16,Pa=w.i(D)&65535;E[2*I+2*D]+=_*Pa,Q(E,2*I+2*D),E[2*I+2*D+1]+=C*Pa,Q(E,2*I+2*D+1),E[2*I+2*D+1]+=_*nr,Q(E,2*I+2*D+1),E[2*I+2*D+2]+=C*nr,Q(E,2*I+2*D+2)}for(I=0;I<v;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=v;I<2*v;I++)E[I]=0;return new s(E,0)};function Q(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function Y(w,v){this.g=w,this.h=v}function De(w,v){if(T(v))throw Error("division by zero");if(T(w))return new Y(p,p);if(M(w))return v=De(R(w),v),new Y(R(v.g),R(v.h));if(M(v))return v=De(w,R(v)),new Y(R(v.g),v.h);if(30<w.g.length){if(M(w)||M(v))throw Error("slowDivide_ only works with positive integers.");for(var E=m,I=v;0>=I.l(w);)E=It(E),I=It(I);var D=Ie(E,1),C=Ie(I,1);for(I=Ie(I,2),E=Ie(E,2);!T(I);){var _=C.add(I);0>=_.l(w)&&(D=D.add(E),C=_),I=Ie(I,1),E=Ie(E,1)}return v=O(w,D.j(v)),new Y(D,v)}for(D=p;0<=w.l(v);){for(E=Math.max(1,Math.floor(w.m()/v.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),C=l(E),_=C.j(v);M(_)||0<_.l(w);)E-=I,C=l(E),_=C.j(v);T(C)&&(C=m),D=D.add(C),w=O(w,_)}return new Y(D,w)}n.A=function(w){return De(this,w).h},n.and=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)&w.i(I);return new s(E,this.h&w.h)},n.or=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)|w.i(I);return new s(E,this.h|w.h)},n.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)^w.i(I);return new s(E,this.h^w.h)};function It(w){for(var v=w.g.length+1,E=[],I=0;I<v;I++)E[I]=w.i(I)<<1|w.i(I-1)>>>31;return new s(E,w.h)}function Ie(w,v){var E=v>>5;v%=32;for(var I=w.g.length-E,D=[],C=0;C<I;C++)D[C]=0<v?w.i(C+E)>>>v|w.i(C+E+1)<<32-v:w.i(C+E);return new s(D,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,lE=YR.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Cr=YR.Integer=s}).apply(typeof QR<"u"?QR:typeof self<"u"?self:typeof window<"u"?window:{});var Pf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Tr={};var dE,FH,oa,hE,Fu,xf,fE,pE,gE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pf=="object"&&Pf];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in f))break e;f=f[b]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,b={next:function(){if(!g&&f<c.length){var S=f++;return{value:d(S,c[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function T(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,b,S){for(var k=Array(arguments.length-2),be=2;be<arguments.length;be++)k[be-2]=arguments[be];return d.prototype[b].apply(g,k)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=c.length||0,S=g.length||0;c.length=b+S;for(let k=0;k<S;k++)c[b+k]=g[k]}else c.push(g)}}class O{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Q(c){return/^[\s\xa0]*$/.test(c)}function Y(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function De(c){return De[" "](c),c}De[" "]=function(){};var It=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function Ie(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function w(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)c[f]=g[f];for(let S=0;S<E.length;S++)f=E[S],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function C(c){a.setTimeout(()=>{throw c},0)}function _(){var c=xp;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class nr{constructor(){this.h=this.g=null}add(d,f){let g=Pa.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Pa=new O(()=>new AP,c=>c.reset());class AP{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let xa,ka=!1,xp=new nr,Cw=()=>{let c=a.Promise.resolve(void 0);xa=()=>{c.then(RP)}};var RP=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(f){C(f)}var d=Pa;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}ka=!1};function kr(){this.s=this.s,this.C=this.C}kr.prototype.s=!1,kr.prototype.ma=function(){this.s||(this.s=!0,this.N())},kr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ct(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}ct.prototype.h=function(){this.defaultPrevented=!0};var NP=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c})();function Oa(c,d){if(ct.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(It){e:{try{De(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:MP[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Oa.aa.h.call(this)}}T(Oa,ct);var MP={2:"touch",3:"pen",4:"mouse"};Oa.prototype.h=function(){Oa.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Fa="closure_listenable_"+(1e6*Math.random()|0),PP=0;function xP(c,d,f,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++PP,this.da=this.fa=!1}function tl(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function nl(c){this.src=c,this.g={},this.h=0}nl.prototype.add=function(c,d,f,g,b){var S=c.toString();c=this.g[S],c||(c=this.g[S]=[],this.h++);var k=Op(c,d,g,b);return-1<k?(d=c[k],f||(d.fa=!1)):(d=new xP(d,this.src,S,!!g,b),d.fa=f,c.push(d)),d};function kp(c,d){var f=d.type;if(f in c.g){var g=c.g[f],b=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=b)&&Array.prototype.splice.call(g,b,1),S&&(tl(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Op(c,d,f,g){for(var b=0;b<c.length;++b){var S=c[b];if(!S.da&&S.listener==d&&S.capture==!!f&&S.ha==g)return b}return-1}var Fp="closure_lm_"+(1e6*Math.random()|0),Lp={};function Tw(c,d,f,g,b){if(g&&g.once)return Aw(c,d,f,g,b);if(Array.isArray(d)){for(var S=0;S<d.length;S++)Tw(c,d[S],f,g,b);return null}return f=Bp(f),c&&c[Fa]?c.K(d,f,l(g)?!!g.capture:!!g,b):Sw(c,d,f,!1,g,b)}function Sw(c,d,f,g,b,S){if(!d)throw Error("Invalid event type");var k=l(b)?!!b.capture:!!b,be=jp(c);if(be||(c[Fp]=be=new nl(c)),f=be.add(d,f,g,k,S),f.proxy)return f;if(g=kP(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)NP||(b=k),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent(Nw(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function kP(){function c(f){return d.call(c.src,c.listener,f)}let d=OP;return c}function Aw(c,d,f,g,b){if(Array.isArray(d)){for(var S=0;S<d.length;S++)Aw(c,d[S],f,g,b);return null}return f=Bp(f),c&&c[Fa]?c.L(d,f,l(g)?!!g.capture:!!g,b):Sw(c,d,f,!0,g,b)}function Rw(c,d,f,g,b){if(Array.isArray(d))for(var S=0;S<d.length;S++)Rw(c,d[S],f,g,b);else g=l(g)?!!g.capture:!!g,f=Bp(f),c&&c[Fa]?(c=c.i,d=String(d).toString(),d in c.g&&(S=c.g[d],f=Op(S,f,g,b),-1<f&&(tl(S[f]),Array.prototype.splice.call(S,f,1),S.length==0&&(delete c.g[d],c.h--)))):c&&(c=jp(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Op(d,f,g,b)),(f=-1<c?d[c]:null)&&Vp(f))}function Vp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Fa])kp(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(Nw(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=jp(d))?(kp(f,c),f.h==0&&(f.src=null,d[Fp]=null)):tl(c)}}}function Nw(c){return c in Lp?Lp[c]:Lp[c]="on"+c}function OP(c,d){if(c.da)c=!0;else{d=new Oa(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Vp(c),c=f.call(g,d)}return c}function jp(c){return c=c[Fp],c instanceof nl?c:null}var Up="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bp(c){return typeof c=="function"?c:(c[Up]||(c[Up]=function(d){return c.handleEvent(d)}),c[Up])}function ut(){kr.call(this),this.i=new nl(this),this.M=this,this.F=null}T(ut,kr),ut.prototype[Fa]=!0,ut.prototype.removeEventListener=function(c,d,f,g){Rw(this,c,d,f,g)};function wt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new ct(d,c);else if(d instanceof ct)d.target=d.target||c;else{var b=d;d=new ct(g,c),I(d,b)}if(b=!0,f)for(var S=f.length-1;0<=S;S--){var k=d.g=f[S];b=rl(k,g,!0,d)&&b}if(k=d.g=c,b=rl(k,g,!0,d)&&b,b=rl(k,g,!1,d)&&b,f)for(S=0;S<f.length;S++)k=d.g=f[S],b=rl(k,g,!1,d)&&b}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)tl(f[g]);delete c.g[d],c.h--}}this.F=null},ut.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},ut.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function rl(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,S=0;S<d.length;++S){var k=d[S];if(k&&!k.da&&k.capture==f){var be=k.listener,nt=k.ha||k.src;k.fa&&kp(c.i,k),b=be.call(nt,g)!==!1&&b}}return b&&!g.defaultPrevented}function Mw(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function Pw(c){c.g=Mw(()=>{c.g=null,c.i&&(c.i=!1,Pw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class FP extends kr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Pw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function La(c){kr.call(this),this.h=c,this.g={}}T(La,kr);var xw=[];function kw(c){Ie(c.g,function(d,f){this.g.hasOwnProperty(f)&&Vp(d)},c),c.g={}}La.prototype.N=function(){La.aa.N.call(this),kw(this)},La.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $p=a.JSON.stringify,LP=a.JSON.parse,VP=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Hp(){}Hp.prototype.h=null;function Ow(c){return c.h||(c.h=c.i())}function Fw(){}var Va={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qp(){ct.call(this,"d")}T(qp,ct);function zp(){ct.call(this,"c")}T(zp,ct);var Mi={},Lw=null;function il(){return Lw=Lw||new ut}Mi.La="serverreachability";function Vw(c){ct.call(this,Mi.La,c)}T(Vw,ct);function ja(c){let d=il();wt(d,new Vw(d))}Mi.STAT_EVENT="statevent";function jw(c,d){ct.call(this,Mi.STAT_EVENT,c),this.stat=d}T(jw,ct);function Dt(c){let d=il();wt(d,new jw(d,c))}Mi.Ma="timingevent";function Uw(c,d){ct.call(this,Mi.Ma,c),this.size=d}T(Uw,ct);function Ua(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Ba(){this.g=!0}Ba.prototype.xa=function(){this.g=!1};function jP(c,d,f,g,b,S){c.info(function(){if(c.g)if(S)for(var k="",be=S.split("&"),nt=0;nt<be.length;nt++){var ge=be[nt].split("=");if(1<ge.length){var lt=ge[0];ge=ge[1];var dt=lt.split("_");k=2<=dt.length&&dt[1]=="type"?k+(lt+"="+ge+"&"):k+(lt+"=redacted&")}}else k=null;else k=S;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+k})}function UP(c,d,f,g,b,S,k){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+S+" "+k})}function Bo(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+$P(c,f)+(g?" "+g:"")})}function BP(c,d){c.info(function(){return"TIMEOUT: "+d})}Ba.prototype.info=function(){};function $P(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var S=b[0];if(S!="noop"&&S!="stop"&&S!="close")for(var k=1;k<b.length;k++)b[k]=""}}}}return $p(f)}catch{return d}}var ol={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gp;function sl(){}T(sl,Hp),sl.prototype.g=function(){return new XMLHttpRequest},sl.prototype.i=function(){return{}},Gp=new sl;function Or(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new La(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $w}function $w(){this.i=null,this.g="",this.h=!1}var Hw={},Wp={};function Kp(c,d,f){c.L=1,c.v=ll(rr(d)),c.m=f,c.P=!0,qw(c,null)}function qw(c,d){c.F=Date.now(),al(c),c.A=rr(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),iD(f.i,"t",g),c.C=0,f=c.j.J,c.h=new $w,c.g=wD(c.j,f?d:null,!c.m),0<c.O&&(c.M=new FP(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(xw[0]=b.toString()),b=xw);for(var S=0;S<b.length;S++){var k=Tw(f,b[S],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),ja(),jP(c.i,c.u,c.A,c.l,c.R,c.m)}Or.prototype.ca=function(c){c=c.target;let d=this.M;d&&ir(c)==3?d.j():this.Y(c)},Or.prototype.Y=function(c){try{if(c==this.g)e:{let dt=ir(this.g);var d=this.g.Ba();let qo=this.g.Z();if(!(3>dt)&&(dt!=3||this.g&&(this.h.h||this.g.oa()||dD(this.g)))){this.J||dt!=4||d==7||(d==8||0>=qo?ja(3):ja(2)),Qp(this);var f=this.g.Z();this.X=f;t:if(zw(this)){var g=dD(this.g);c="";var b=g.length,S=ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pi(this),$a(this);var k="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(S&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=f==200,UP(this.i,this.u,this.A,this.l,this.R,dt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var be,nt=this.g;if((be=nt.g?nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(be)){var ge=be;break t}}ge=null}if(f=ge)Bo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yp(this,f);else{this.o=!1,this.s=3,Dt(12),Pi(this),$a(this);break e}}if(this.P){f=!0;let sn;for(;!this.J&&this.C<k.length;)if(sn=HP(this,k),sn==Wp){dt==4&&(this.s=4,Dt(14),f=!1),Bo(this.i,this.l,null,"[Incomplete Response]");break}else if(sn==Hw){this.s=4,Dt(15),Bo(this.i,this.l,k,"[Invalid Chunk]"),f=!1;break}else Bo(this.i,this.l,sn,null),Yp(this,sn);if(zw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dt!=4||k.length!=0||this.h.h||(this.s=1,Dt(16),f=!1),this.o=this.o&&f,!f)Bo(this.i,this.l,k,"[Invalid Chunked Response]"),Pi(this),$a(this);else if(0<k.length&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.ba&&!lt.M&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),ng(lt),lt.M=!0,Dt(11))}}else Bo(this.i,this.l,k,null),Yp(this,k);dt==4&&Pi(this),this.o&&!this.J&&(dt==4?vD(this.j,this):(this.o=!1,al(this)))}else sx(this.g),f==400&&0<k.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),Pi(this),$a(this)}}}catch{}finally{}};function zw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function HP(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Wp:(f=Number(d.substring(f,g)),isNaN(f)?Hw:(g+=1,g+f>d.length?Wp:(d=d.slice(g,g+f),c.C=g+f,d)))}Or.prototype.cancel=function(){this.J=!0,Pi(this)};function al(c){c.S=Date.now()+c.I,Gw(c,c.I)}function Gw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ua(m(c.ba,c),d)}function Qp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Or.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(BP(this.i,this.A),this.L!=2&&(ja(),Dt(17)),Pi(this),this.s=2,$a(this)):Gw(this,this.S-c)};function $a(c){c.j.G==0||c.J||vD(c.j,c)}function Pi(c){Qp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,kw(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Yp(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Zp(f.h,c))){if(!c.K&&Zp(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)gl(f),fl(f);else break e;tg(f),Dt(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ua(m(f.Za,f),6e3));if(1>=Qw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ki(f,11)}else if((c.K||f.g==c)&&gl(f),!Q(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let ge=b[d];if(f.T=ge[0],ge=ge[1],f.G==2)if(ge[0]=="c"){f.K=ge[1],f.ia=ge[2];let lt=ge[3];lt!=null&&(f.la=lt,f.j.info("VER="+f.la));let dt=ge[4];dt!=null&&(f.Aa=dt,f.j.info("SVER="+f.Aa));let qo=ge[5];qo!=null&&typeof qo=="number"&&0<qo&&(g=1.5*qo,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let sn=c.g;if(sn){let yl=sn.g?sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yl){var S=g.h;S.g||yl.indexOf("spdy")==-1&&yl.indexOf("quic")==-1&&yl.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(Jp(S,S.h),S.h=null))}if(g.D){let rg=sn.g?sn.g.getResponseHeader("X-HTTP-Session-Id"):null;rg&&(g.ya=rg,Te(g.I,g.D,rg))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var k=c;if(g.qa=ID(g,g.J?g.ia:null,g.W),k.K){Yw(g.h,k);var be=k,nt=g.L;nt&&(be.I=nt),be.B&&(Qp(be),al(be)),g.g=k}else mD(g);0<f.i.length&&pl(f)}else ge[0]!="stop"&&ge[0]!="close"||ki(f,7);else f.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?ki(f,7):eg(f):ge[0]!="noop"&&f.l&&f.l.ta(ge),f.v=0)}}ja(4)}catch{}}var qP=class{constructor(c,d){this.g=c,this.map=d}};function Ww(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Kw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Qw(c){return c.h?1:c.g?c.g.size:0}function Zp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Jp(c,d){c.g?c.g.add(d):c.h=d}function Yw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Ww.prototype.cancel=function(){if(this.i=Zw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Zw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function zP(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function GP(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function Jw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=GP(c),g=zP(c),b=g.length,S=0;S<b;S++)d.call(void 0,g[S],f&&f[S],c)}var Xw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function WP(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),b=null;if(0<=g){var S=c[f].substring(0,g);b=c[f].substring(g+1)}else S=c[f];d(S,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function xi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof xi){this.h=c.h,cl(this,c.j),this.o=c.o,this.g=c.g,ul(this,c.s),this.l=c.l;var d=c.i,f=new za;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),eD(this,f),this.m=c.m}else c&&(d=String(c).match(Xw))?(this.h=!1,cl(this,d[1]||"",!0),this.o=Ha(d[2]||""),this.g=Ha(d[3]||"",!0),ul(this,d[4]),this.l=Ha(d[5]||"",!0),eD(this,d[6]||"",!0),this.m=Ha(d[7]||"")):(this.h=!1,this.i=new za(null,this.h))}xi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(qa(d,tD,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(qa(d,tD,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(qa(f,f.charAt(0)=="/"?YP:QP,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",qa(f,JP)),c.join("")};function rr(c){return new xi(c)}function cl(c,d,f){c.j=f?Ha(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function ul(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function eD(c,d,f){d instanceof za?(c.i=d,XP(c.i,c.h)):(f||(d=qa(d,ZP)),c.i=new za(d,c.h))}function Te(c,d,f){c.i.set(d,f)}function ll(c){return Te(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ha(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function qa(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,KP),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function KP(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var tD=/[#\/\?@]/g,QP=/[#\?:]/g,YP=/[#\?]/g,ZP=/[#\?@]/g,JP=/#/g;function za(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Fr(c){c.g||(c.g=new Map,c.h=0,c.i&&WP(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=za.prototype,n.add=function(c,d){Fr(this),this.i=null,c=$o(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function nD(c,d){Fr(c),d=$o(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function rD(c,d){return Fr(c),d=$o(c,d),c.g.has(d)}n.forEach=function(c,d){Fr(this),this.g.forEach(function(f,g){f.forEach(function(b){c.call(d,b,g,this)},this)},this)},n.na=function(){Fr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=c[g];for(let S=0;S<b.length;S++)f.push(d[g])}return f},n.V=function(c){Fr(this);let d=[];if(typeof c=="string")rD(this,c)&&(d=d.concat(this.g.get($o(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return Fr(this),this.i=null,c=$o(this,c),rD(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function iD(c,d,f){nD(c,d),0<f.length&&(c.i=null,c.g.set($o(c,d),M(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let S=encodeURIComponent(String(g)),k=this.V(g);for(g=0;g<k.length;g++){var b=S;k[g]!==""&&(b+="="+encodeURIComponent(String(k[g]))),c.push(b)}}return this.i=c.join("&")};function $o(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function XP(c,d){d&&!c.j&&(Fr(c),c.i=null,c.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(nD(this,g),iD(this,b,f))},c)),c.j=d}function ex(c,d){let f=new Ba;if(a.Image){let g=new Image;g.onload=y(Lr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Lr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(Lr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Lr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function tx(c,d){let f=new Ba,g=new AbortController,b=setTimeout(()=>{g.abort(),Lr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(S=>{clearTimeout(b),S.ok?Lr(f,"TestPingServer: ok",!0,d):Lr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),Lr(f,"TestPingServer: error",!1,d)})}function Lr(c,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function nx(){this.g=new VP}function rx(c,d,f){let g=f||"";try{Jw(c,function(b,S){let k=b;l(b)&&(k=$p(b)),d.push(g+S+"="+encodeURIComponent(k))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function Ga(c){this.l=c.Ub||null,this.j=c.eb||!1}T(Ga,Hp),Ga.prototype.g=function(){return new dl(this.l,this.j)},Ga.prototype.i=(function(c){return function(){return c}})({});function dl(c,d){ut.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(dl,ut),n=dl.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Ka(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wa(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ka(this)),this.g&&(this.readyState=3,Ka(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;oD(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function oD(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Wa(this):Ka(this),this.readyState==3&&oD(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Wa(this))},n.Qa=function(c){this.g&&(this.response=c,Wa(this))},n.ga=function(){this.g&&Wa(this)};function Wa(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ka(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Ka(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(dl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function sD(c){let d="";return Ie(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Xp(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=sD(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Te(c,d,f))}function Me(c){ut.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Me,ut);var ix=/^https?$/i,ox=["POST","PUT"];n=Me.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gp.g(),this.v=this.o?Ow(this.o):Ow(Gp),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(S){aD(this,S);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())f.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(S=>S.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ox,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,k]of f)this.g.setRequestHeader(S,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{lD(this),this.u=!0,this.g.send(c),this.u=!1}catch(S){aD(this,S)}};function aD(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,cD(c),hl(c)}function cD(c){c.A||(c.A=!0,wt(c,"complete"),wt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,wt(this,"complete"),wt(this,"abort"),hl(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hl(this,!0)),Me.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?uD(this):this.bb())},n.bb=function(){uD(this)};function uD(c){if(c.h&&typeof s<"u"&&(!c.v[1]||ir(c)!=4||c.Z()!=2)){if(c.u&&ir(c)==4)Mw(c.Ea,0,c);else if(wt(c,"readystatechange"),ir(c)==4){c.h=!1;try{let k=c.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=k===0){var b=String(c.D).match(Xw)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!ix.test(b?b.toLowerCase():"")}f=g}if(f)wt(c,"complete"),wt(c,"success");else{c.m=6;try{var S=2<ir(c)?c.g.statusText:""}catch{S=""}c.l=S+" ["+c.Z()+"]",cD(c)}}finally{hl(c)}}}}function hl(c,d){if(c.g){lD(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||wt(c,"ready");try{f.onreadystatechange=g}catch{}}}function lD(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function ir(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<ir(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),LP(d)}};function dD(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function sx(c){let d={};c=(c.g&&2<=ir(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(Q(c[g]))continue;var f=D(c[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let S=d[b]||[];d[b]=S,S.push(f)}w(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qa(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function hD(c){this.Aa=0,this.i=[],this.j=new Ba,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qa("baseRetryDelayMs",5e3,c),this.cb=Qa("retryDelaySeedMs",1e4,c),this.Wa=Qa("forwardChannelMaxRetries",2,c),this.wa=Qa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ww(c&&c.concurrentRequestLimit),this.Da=new nx,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=hD.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,g){Dt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=ID(this,null,this.W),pl(this)};function eg(c){if(fD(c),c.G==3){var d=c.U++,f=rr(c.I);if(Te(f,"SID",c.K),Te(f,"RID",d),Te(f,"TYPE","terminate"),Ya(c,f),d=new Or(c,c.j,d),d.L=2,d.v=ll(rr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=wD(d.j,null),d.g.ea(d.v)),d.F=Date.now(),al(d)}ED(c)}function fl(c){c.g&&(ng(c),c.g.cancel(),c.g=null)}function fD(c){fl(c),c.u&&(a.clearTimeout(c.u),c.u=null),gl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function pl(c){if(!Kw(c.h)&&!c.s){c.s=!0;var d=c.Ga;xa||Cw(),ka||(xa(),ka=!0),xp.add(d,c),c.B=0}}function ax(c,d){return Qw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ua(m(c.Ga,c,d),_D(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new Or(this,this.j,c),S=this.o;if(this.S&&(S?(S=v(S),I(S,this.S)):S=this.S),this.m!==null||this.O||(b.H=S,S=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=gD(this,b,d),f=rr(this.I),Te(f,"RID",c),Te(f,"CVER",22),this.D&&Te(f,"X-HTTP-Session-Id",this.D),Ya(this,f),S&&(this.O?d="headers="+encodeURIComponent(String(sD(S)))+"&"+d:this.m&&Xp(f,this.m,S)),Jp(this.h,b),this.Ua&&Te(f,"TYPE","init"),this.P?(Te(f,"$req",d),Te(f,"SID","null"),b.T=!0,Kp(b,f,null)):Kp(b,f,d),this.G=2}}else this.G==3&&(c?pD(this,c):this.i.length==0||Kw(this.h)||pD(this))};function pD(c,d){var f;d?f=d.l:f=c.U++;let g=rr(c.I);Te(g,"SID",c.K),Te(g,"RID",f),Te(g,"AID",c.T),Ya(c,g),c.m&&c.o&&Xp(g,c.m,c.o),f=new Or(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=gD(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Jp(c.h,f),Kp(f,g,d)}function Ya(c,d){c.H&&Ie(c.H,function(f,g){Te(d,g,f)}),c.l&&Jw({},function(f,g){Te(d,g,f)})}function gD(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var b=c.i;let S=-1;for(;;){let k=["count="+f];S==-1?0<f?(S=b[0].g,k.push("ofs="+S)):S=0:k.push("ofs="+S);let be=!0;for(let nt=0;nt<f;nt++){let ge=b[nt].g,lt=b[nt].map;if(ge-=S,0>ge)S=Math.max(0,b[nt].g-100),be=!1;else try{rx(lt,k,"req"+ge+"_")}catch{g&&g(lt)}}if(be){g=k.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function mD(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;xa||Cw(),ka||(xa(),ka=!0),xp.add(d,c),c.v=0}}function tg(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ua(m(c.Fa,c),_D(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,yD(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ua(m(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),fl(this),yD(this))};function ng(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function yD(c){c.g=new Or(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=rr(c.qa);Te(d,"RID","rpc"),Te(d,"SID",c.K),Te(d,"AID",c.T),Te(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Te(d,"TO",c.ja),Te(d,"TYPE","xmlhttp"),Ya(c,d),c.m&&c.o&&Xp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=ll(rr(d)),f.m=null,f.P=!0,qw(f,c)}n.Za=function(){this.C!=null&&(this.C=null,fl(this),tg(this),Dt(19))};function gl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function vD(c,d){var f=null;if(c.g==d){gl(c),ng(c),c.g=null;var g=2}else if(Zp(c.h,d))f=d.D,Yw(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=il(),wt(g,new Uw(g,f)),pl(c)}else mD(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&ax(c,d)||g==2&&tg(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:ki(c,5);break;case 4:ki(c,10);break;case 3:ki(c,6);break;default:ki(c,2)}}}function _D(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function ki(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let b=!g;g=new xi(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||cl(g,"https"),ll(g),b?ex(g.toString(),f):tx(g.toString(),f)}else Dt(2);c.G=0,c.l&&c.l.sa(d),ED(c),fD(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function ED(c){if(c.G=0,c.ka=[],c.l){let d=Zw(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function ID(c,d,f){var g=f instanceof xi?rr(f):new xi(f);if(g.g!="")d&&(g.g=d+"."+g.g),ul(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var S=new xi(null);g&&cl(S,g),d&&(S.g=d),b&&ul(S,b),f&&(S.l=f),g=S}return f=c.D,d=c.ya,f&&d&&Te(g,f,d),Te(g,"VER",c.la),Ya(c,g),g}function wD(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Me(new Ga({eb:f})):new Me(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function DD(){}n=DD.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ml(){}ml.prototype.g=function(c,d){return new kt(c,d)};function kt(c,d){ut.call(this),this.g=new hD(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!Q(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Q(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Ho(this)}T(kt,ut),kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kt.prototype.close=function(){eg(this.g)},kt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=$p(c),c=f);d.i.push(new qP(d.Ya++,c)),d.G==3&&pl(d)},kt.prototype.N=function(){this.g.l=null,delete this.j,eg(this.g),delete this.g,kt.aa.N.call(this)};function bD(c){qp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}T(bD,qp);function CD(){zp.call(this),this.status=1}T(CD,zp);function Ho(c){this.g=c}T(Ho,DD),Ho.prototype.ua=function(){wt(this.g,"a")},Ho.prototype.ta=function(c){wt(this.g,new bD(c))},Ho.prototype.sa=function(c){wt(this.g,new CD)},Ho.prototype.ra=function(){wt(this.g,"b")},ml.prototype.createWebChannel=ml.prototype.g,kt.prototype.send=kt.prototype.o,kt.prototype.open=kt.prototype.m,kt.prototype.close=kt.prototype.close,gE=Tr.createWebChannelTransport=function(){return new ml},pE=Tr.getStatEventTarget=function(){return il()},fE=Tr.Event=Mi,xf=Tr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ol.NO_ERROR=0,ol.TIMEOUT=8,ol.HTTP_ERROR=6,Fu=Tr.ErrorCode=ol,Bw.COMPLETE="complete",hE=Tr.EventType=Bw,Fw.EventType=Va,Va.OPEN="a",Va.CLOSE="b",Va.ERROR="c",Va.MESSAGE="d",ut.prototype.listen=ut.prototype.K,oa=Tr.WebChannel=Fw,FH=Tr.FetchXmlHttpFactory=Ga,Me.prototype.listenOnce=Me.prototype.L,Me.prototype.getLastError=Me.prototype.Ka,Me.prototype.getLastErrorCode=Me.prototype.Ba,Me.prototype.getStatus=Me.prototype.Z,Me.prototype.getResponseJson=Me.prototype.Oa,Me.prototype.getResponseText=Me.prototype.oa,Me.prototype.send=Me.prototype.ea,Me.prototype.setWithCredentials=Me.prototype.Ha,dE=Tr.XhrIo=Me}).apply(typeof Pf<"u"?Pf:typeof self<"u"?self:typeof window<"u"?window:{});var ZR="@firebase/firestore",JR="4.8.0";var et=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};et.UNAUTHENTICATED=new et(null),et.GOOGLE_CREDENTIALS=new et("google-credentials-uid"),et.FIRST_PARTY=new et("first-party-uid"),et.MOCK_USER=new et("mock-user");var Aa="11.10.0";var Po=new Gn("@firebase/firestore");function sa(){return Po.logLevel}function F(n,...e){if(Po.logLevel<=ce.DEBUG){let t=e.map(XI);Po.debug(`Firestore (${Aa}): ${n}`,...t)}}function Sr(n,...e){if(Po.logLevel<=ce.ERROR){let t=e.map(XI);Po.error(`Firestore (${Aa}): ${n}`,...t)}}function Si(n,...e){if(Po.logLevel<=ce.WARN){let t=e.map(XI);Po.warn(`Firestore (${Aa}): ${n}`,...t)}}function XI(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function G(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,UN(n,r,t)}function UN(n,e,t){let r=`FIRESTORE (${Aa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Sr(r),new Error(r)}function Ee(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||UN(e,i,r)}function X(n,e){return n}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},B=class extends Ht{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var bn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Uf=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},EE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(et.UNAUTHENTICATED))}shutdown(){}},IE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},wE=class{constructor(e){this.t=e,this.currentUser=et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ee(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new bn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new bn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new bn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ee(typeof r.accessToken=="string",31837,{l:r}),new Uf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string",2055,{h:e}),new et(e)}},DE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=et.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},bE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new DE(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(et.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Bf=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},CE=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ee(this.o===void 0,3512);let r=o=>{o.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,F("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Bf(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ee(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Bf(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function LH(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function BN(){return new TextEncoder}var $u=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=LH(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function ae(n,e){return n<e?-1:n>e?1:0}function TE(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return ae(r,i);{let o=BN(),s=VH(o.encode(XR(n,t)),o.encode(XR(e,t)));return s!==0?s:ae(r,i)}}t+=r>65535?2:1}return ae(n.length,e.length)}function XR(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function VH(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ae(n[t],e[t]);return ae(n.length,e.length)}function pa(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var eN="__name__",$f=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&G(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&G(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return ae(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):TE(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Cr.fromString(e.substring(4,e.length-2))}},Ne=class n extends $f{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new B(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},jH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,qt=class n extends $f{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return jH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===eN}static keyField(){return new n([eN])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new B(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new B(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new B(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new B(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var q=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ne.fromString(e))}static fromName(e){return new n(Ne.fromString(e).popFirst(5))}static empty(){return new n(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ne.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ne(e.slice()))}};function $N(n,e,t){if(!t)throw new B(N.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function UH(n,e,t,r){if(e===!0&&r===!0)throw new B(N.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function tN(n){if(!q.isDocumentKey(n))throw new B(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function nN(n){if(q.isDocumentKey(n))throw new B(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function HN(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ew(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":G(12329,{type:typeof n})}function xo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new B(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=ew(n);throw new B(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Ge(n,e){let t={typeString:n};return e&&(t.value=e),t}function Ju(n,e){if(!HN(n))throw new B(N.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new B(N.INVALID_ARGUMENT,t);return!0}var rN=-62135596800,iN=1e6,We=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*iN);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new B(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new B(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<rN)throw new B(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iN}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ju(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-rN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};We._jsonSchemaVersion="firestore/timestamp/1.0",We._jsonSchema={type:Ge("string",We._jsonSchemaVersion),seconds:Ge("number"),nanoseconds:Ge("number")};var re=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new We(0,0))}static max(){return new n(new We(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Hu=-1,SE=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};SE.UNKNOWN_ID=-1;function BH(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=re.fromTimestamp(r===1e9?new We(t+1,0):new We(t,r));return new ko(i,q.empty(),e)}function $H(n){return new ko(n.readTime,n.key,Hu)}var ko=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(re.min(),q.empty(),Hu)}static max(){return new n(re.max(),q.empty(),Hu)}};function HH(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=q.comparator(n.documentKey,e.documentKey),t!==0?t:ae(n.largestBatchId,e.largestBatchId))}var qH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",AE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function Ra(n){if(n.code!==N.FAILED_PRECONDITION||n.message!==qH)throw n;F("LocalStore","Unexpectedly lost primary lease")}var P=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&G(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function zH(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Na(n){return n.name==="IndexedDbTransactionError"}var tw=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),nw=-1;function Ip(n){return n==null}function qu(n){return n===0&&1/n==-1/0}function GH(n){return typeof n=="number"&&Number.isInteger(n)&&!qu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var qN="";function WH(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=oN(e)),e=KH(n.get(t),e);return oN(e)}function KH(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case qN:t+="";break;default:t+=o}}return t}function oN(n){return n+qN+""}var QH="remoteDocuments",zN="owner";var GN="mutationQueues";var WN="mutations";var KN="documentMutations",YH="remoteDocumentsV14";var QN="remoteDocumentGlobal";var YN="targets";var ZN="targetDocuments";var JN="targetGlobal",XN="collectionParents";var eM="clientMetadata";var tM="bundles";var nM="namedQueries";var ZH="indexConfiguration";var JH="indexState";var XH="indexEntries";var rM="documentOverlays";var e4="globals";var t4=[GN,WN,KN,QH,YN,zN,JN,ZN,eM,QN,XN,tM,nM],boe=[...t4,rM],n4=[GN,WN,KN,YH,YN,zN,JN,ZN,eM,QN,XN,tM,nM,rM],r4=n4,i4=[...r4,ZH,JH,XH];var Coe=[...i4,e4];function sN(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function jo(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function iM(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Oe=class n{constructor(e,t){this.comparator=e,this.root=t||Zn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new la(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new la(this.root,e,this.comparator,!1)}getReverseIterator(){return new la(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new la(this.root,e,this.comparator,!0)}},la=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Zn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw G(43730,{key:this.key,value:this.value});if(this.right.isRed())throw G(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw G(27949);return e+(this.isRed()?0:1)}};Zn.EMPTY=null,Zn.RED=!0,Zn.BLACK=!1;Zn.EMPTY=new class{constructor(){this.size=0}get key(){throw G(57766)}get value(){throw G(16141)}get color(){throw G(16727)}get left(){throw G(29726)}get right(){throw G(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Zn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var tt=class n{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Hf(this.data.getIterator())}getIteratorFrom(e){return new Hf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Hf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Yn=class n{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new n([])}unionWith(e){let t=new tt(qt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pa(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var qf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Et=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new qf("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Et.EMPTY_BYTE_STRING=new Et("");var o4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ar(n){if(Ee(!!n,39018),typeof n=="string"){let e=0,t=o4.exec(n);if(Ee(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ae(n.seconds),nanos:Ae(n.nanos)}}function Ae(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Rr(n){return typeof n=="string"?Et.fromBase64String(n):Et.fromUint8Array(n)}var oM="server_timestamp",sM="__type__",aM="__previous_value__",cM="__local_write_time__";function rw(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[sM])===null||t===void 0?void 0:t.stringValue)===oM}function wp(n){let e=n.mapValue.fields[aM];return rw(e)?wp(e):e}function zu(n){let e=Ar(n.mapValue.fields[cM].timestampValue);return new We(e.seconds,e.nanos)}var RE=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},zf="(default)",Gf=class n{constructor(e,t){this.projectId=e,this.database=t||zf}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===zf}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var iw="__type__",uM="__max__",kf={mapValue:{fields:{__type__:{stringValue:uM}}}},ow="__vector__",ga="value";function Ai(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?rw(n)?4:dM(n)?9007199254740991:lM(n)?10:11:G(28295,{value:n})}function er(n,e){if(n===e)return!0;let t=Ai(n);if(t!==Ai(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return zu(n).isEqual(zu(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Ar(i.timestampValue),a=Ar(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return Rr(i.bytesValue).isEqual(Rr(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return Ae(i.geoPointValue.latitude)===Ae(o.geoPointValue.latitude)&&Ae(i.geoPointValue.longitude)===Ae(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return Ae(i.integerValue)===Ae(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ae(i.doubleValue),a=Ae(o.doubleValue);return s===a?qu(s)===qu(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return pa(n.arrayValue.values||[],e.arrayValue.values||[],er);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(sN(s)!==sN(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!er(s[u],a[u])))return!1;return!0})(n,e);default:return G(52216,{left:n})}}function Gu(n,e){return(n.values||[]).find(t=>er(t,e))!==void 0}function ma(n,e){if(n===e)return 0;let t=Ai(n),r=Ai(e);if(t!==r)return ae(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ae(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=Ae(o.integerValue||o.doubleValue),u=Ae(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(n,e);case 3:return aN(n.timestampValue,e.timestampValue);case 4:return aN(zu(n),zu(e));case 5:return TE(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=Rr(o),u=Rr(s);return a.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ae(a[l],u[l]);if(h!==0)return h}return ae(a.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=ae(Ae(o.latitude),Ae(s.latitude));return a!==0?a:ae(Ae(o.longitude),Ae(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return cN(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p[ga])===null||a===void 0?void 0:a.arrayValue,T=(u=m[ga])===null||u===void 0?void 0:u.arrayValue,M=ae(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=T?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:cN(y,T)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===kf.mapValue&&s===kf.mapValue)return 0;if(o===kf.mapValue)return 1;if(s===kf.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=TE(u[p],h[p]);if(m!==0)return m;let y=ma(a[u[p]],l[h[p]]);if(y!==0)return y}return ae(u.length,h.length)})(n.mapValue,e.mapValue);default:throw G(23264,{le:t})}}function aN(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ae(n,e);let t=Ar(n),r=Ar(e),i=ae(t.seconds,r.seconds);return i!==0?i:ae(t.nanos,r.nanos)}function cN(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=ma(t[i],r[i]);if(o)return o}return ae(t.length,r.length)}function ya(n){return NE(n)}function NE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=Ar(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Rr(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return q.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=NE(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${NE(t.fields[s])}`;return i+"}"})(n.mapValue):G(61005,{value:n})}function Lf(n){switch(Ai(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=wp(n);return e?16+Lf(e):16;case 5:return 2*n.stringValue.length;case 6:return Rr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Lf(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return jo(r.fields,(o,s)=>{i+=o.length+Lf(s)}),i})(n.mapValue);default:throw G(13486,{value:n})}}function ME(n){return!!n&&"integerValue"in n}function sw(n){return!!n&&"arrayValue"in n}function uN(n){return!!n&&"nullValue"in n}function lN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vf(n){return!!n&&"mapValue"in n}function lM(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[iw])===null||t===void 0?void 0:t.stringValue)===ow}function Vu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return jo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Vu(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Vu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function dM(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===uM}var Soe={mapValue:{fields:{[iw]:{stringValue:ow},[ga]:{arrayValue:{}}}}};var Dn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Vf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vu(t)}setAll(e){let t=qt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Vu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Vf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return er(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Vf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){jo(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Vu(this.value))}};function hM(n){let e=[];return jo(n.fields,(t,r)=>{let i=new qt([t]);if(Vf(r)){let o=hM(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Yn(e)}var Cn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,re.min(),re.min(),re.min(),Dn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,re.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,re.min(),re.min(),Dn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,re.min(),re.min(),Dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var va=class{constructor(e,t){this.position=e,this.inclusive=t}};function dN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=q.comparator(q.fromName(s.referenceValue),t.key):r=ma(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function hN(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!er(n.position[t],e.position[t]))return!1;return!0}var _a=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function s4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Wf=class{},Qe=class n extends Wf{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new xE(e,t,r):t==="array-contains"?new FE(e,r):t==="in"?new LE(e,r):t==="not-in"?new VE(e,r):t==="array-contains-any"?new jE(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new kE(e,r):new OE(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ma(t,this.value)):t!==null&&Ai(this.value)===Ai(t)&&this.matchesComparison(ma(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return G(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},tr=class n extends Wf{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return fM(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function fM(n){return n.op==="and"}function pM(n){return a4(n)&&fM(n)}function a4(n){for(let e of n.filters)if(e instanceof tr)return!1;return!0}function PE(n){if(n instanceof Qe)return n.field.canonicalString()+n.op.toString()+ya(n.value);if(pM(n))return n.filters.map(e=>PE(e)).join(",");{let e=n.filters.map(t=>PE(t)).join(",");return`${n.op}(${e})`}}function gM(n,e){return n instanceof Qe?(function(r,i){return i instanceof Qe&&r.op===i.op&&r.field.isEqual(i.field)&&er(r.value,i.value)})(n,e):n instanceof tr?(function(r,i){return i instanceof tr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&gM(s,i.filters[a]),!0):!1})(n,e):void G(19439)}function mM(n){return n instanceof Qe?(function(t){return`${t.field.canonicalString()} ${t.op} ${ya(t.value)}`})(n):n instanceof tr?(function(t){return t.op.toString()+" {"+t.getFilters().map(mM).join(" ,")+"}"})(n):"Filter"}var xE=class extends Qe{constructor(e,t,r){super(e,t,r),this.key=q.fromName(r.referenceValue)}matches(e){let t=q.comparator(e.key,this.key);return this.matchesComparison(t)}},kE=class extends Qe{constructor(e,t){super(e,"in",t),this.keys=yM("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},OE=class extends Qe{constructor(e,t){super(e,"not-in",t),this.keys=yM("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function yM(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>q.fromName(r.referenceValue))}var FE=class extends Qe{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return sw(t)&&Gu(t.arrayValue,this.value)}},LE=class extends Qe{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Gu(this.value.arrayValue,t)}},VE=class extends Qe{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Gu(this.value.arrayValue,t)}},jE=class extends Qe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!sw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Gu(this.value.arrayValue,r))}};var UE=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function fN(n,e=null,t=[],r=[],i=null,o=null,s=null){return new UE(n,e,t,r,i,o,s)}function aw(n){let e=X(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>PE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),Ip(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ya(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ya(r)).join(",")),e.Pe=t}return e.Pe}function cw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!s4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!gM(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!hN(n.startAt,e.startAt)&&hN(n.endAt,e.endAt)}function BE(n){return q.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ea=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function c4(n,e,t,r,i,o,s,a){return new Ea(n,e,t,r,i,o,s,a)}function uw(n){return new Ea(n)}function pN(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function u4(n){return n.collectionGroup!==null}function ju(n){let e=X(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new tt(qt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new _a(o,r))}),t.has(qt.keyField().canonicalString())||e.Te.push(new _a(qt.keyField(),r))}return e.Te}function Jn(n){let e=X(n);return e.Ie||(e.Ie=l4(e,ju(n))),e.Ie}function l4(n,e){if(n.limitType==="F")return fN(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new _a(i.field,o)});let t=n.endAt?new va(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new va(n.startAt.position,n.startAt.inclusive):null;return fN(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function $E(n,e,t){return new Ea(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Dp(n,e){return cw(Jn(n),Jn(e))&&n.limitType===e.limitType}function vM(n){return`${aw(Jn(n))}|lt:${n.limitType}`}function aa(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>mM(i)).join(", ")}]`),Ip(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ya(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ya(i)).join(",")),`Target(${r})`})(Jn(n))}; limitType=${n.limitType})`}function bp(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of ju(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=dN(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,ju(r),i)||r.endAt&&!(function(s,a,u){let l=dN(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,ju(r),i))})(n,e)}function d4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function _M(n){return(e,t)=>{let r=!1;for(let i of ju(n)){let o=h4(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function h4(n,e,t){let r=n.field.isKeyField()?q.comparator(e.key,t.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?ma(u,l):G(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return G(19790,{direction:n.dir})}}var Nr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){jo(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return iM(this.inner)}size(){return this.innerSize}};var f4=new Oe(q.comparator);function Mr(){return f4}var EM=new Oe(q.comparator);function Lu(...n){let e=EM;for(let t of n)e=e.insert(t.key,t);return e}function IM(n){let e=EM;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function So(){return Uu()}function wM(){return Uu()}function Uu(){return new Nr(n=>n.toString(),(n,e)=>n.isEqual(e))}var p4=new Oe(q.comparator),g4=new tt(q.comparator);function he(...n){let e=g4;for(let t of n)e=e.add(t);return e}var m4=new tt(ae);function y4(){return m4}function lw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qu(e)?"-0":e}}function DM(n){return{integerValue:""+n}}function v4(n,e){return GH(e)?DM(e):lw(n,e)}var Ia=class{constructor(){this._=void 0}};function _4(n,e,t){return n instanceof wa?(function(i,o){let s={fields:{[sM]:{stringValue:oM},[cM]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&rw(o)&&(o=wp(o)),o&&(s.fields[aM]=o),{mapValue:s}})(t,e):n instanceof Oo?CM(n,e):n instanceof Fo?TM(n,e):(function(i,o){let s=bM(i,o),a=gN(s)+gN(i.Ee);return ME(s)&&ME(i.Ee)?DM(a):lw(i.serializer,a)})(n,e)}function E4(n,e,t){return n instanceof Oo?CM(n,e):n instanceof Fo?TM(n,e):t}function bM(n,e){return n instanceof Da?(function(r){return ME(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var wa=class extends Ia{},Oo=class extends Ia{constructor(e){super(),this.elements=e}};function CM(n,e){let t=SM(e);for(let r of n.elements)t.some(i=>er(i,r))||t.push(r);return{arrayValue:{values:t}}}var Fo=class extends Ia{constructor(e){super(),this.elements=e}};function TM(n,e){let t=SM(e);for(let r of n.elements)t=t.filter(i=>!er(i,r));return{arrayValue:{values:t}}}var Da=class extends Ia{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function gN(n){return Ae(n.integerValue||n.doubleValue)}function SM(n){return sw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function I4(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Oo&&i instanceof Oo||r instanceof Fo&&i instanceof Fo?pa(r.elements,i.elements,er):r instanceof Da&&i instanceof Da?er(r.Ee,i.Ee):r instanceof wa&&i instanceof wa})(n.transform,e.transform)}var HE=class{constructor(e,t){this.version=e,this.transformResults=t}},No=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function jf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var ba=class{};function AM(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Kf(n.key,No.none()):new Lo(n.key,n.data,No.none());{let t=n.data,r=Dn.empty(),i=new tt(qt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Pr(n.key,r,new Yn(i.toArray()),No.none())}}function w4(n,e,t){n instanceof Lo?(function(i,o,s){let a=i.value.clone(),u=yN(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof Pr?(function(i,o,s){if(!jf(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=yN(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(RM(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function Bu(n,e,t,r){return n instanceof Lo?(function(o,s,a,u){if(!jf(o.precondition,s))return a;let l=o.value.clone(),h=vN(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof Pr?(function(o,s,a,u){if(!jf(o.precondition,s))return a;let l=vN(o.fieldTransforms,u,s),h=s.data;return h.setAll(RM(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,a){return jf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function D4(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=bM(r.transform,i||null);o!=null&&(t===null&&(t=Dn.empty()),t.set(r.field,o))}return t||null}function mN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&pa(r,i,(o,s)=>I4(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Lo=class extends ba{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Pr=class extends ba{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function RM(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function yN(n,e,t){let r=new Map;Ee(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,E4(s,a,t[i]))}return r}function vN(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,_4(o,s,e))}return r}var Kf=class extends ba{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},qE=class extends ba{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var zE=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&w4(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Bu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Bu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=wM();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=AM(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(re.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),he())}isEqual(e){return this.batchId===e.batchId&&pa(this.mutations,e.mutations,(t,r)=>mN(t,r))&&pa(this.baseMutations,e.baseMutations,(t,r)=>mN(t,r))}},GE=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ee(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return p4})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var WE=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var KE=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var qe,pe;function b4(n){switch(n){case N.OK:return G(64938);case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return G(15467,{code:n})}}function NM(n){if(n===void 0)return Sr("GRPC error has no .code"),N.UNKNOWN;switch(n){case qe.OK:return N.OK;case qe.CANCELLED:return N.CANCELLED;case qe.UNKNOWN:return N.UNKNOWN;case qe.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case qe.INTERNAL:return N.INTERNAL;case qe.UNAVAILABLE:return N.UNAVAILABLE;case qe.UNAUTHENTICATED:return N.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case qe.NOT_FOUND:return N.NOT_FOUND;case qe.ALREADY_EXISTS:return N.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return N.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case qe.ABORTED:return N.ABORTED;case qe.OUT_OF_RANGE:return N.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return N.UNIMPLEMENTED;case qe.DATA_LOSS:return N.DATA_LOSS;default:return G(39323,{code:n})}}(pe=qe||(qe={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";var _N=null;var C4=new Cr([4294967295,4294967295],0);function EN(n){let e=BN().encode(n),t=new lE;return t.update(e),new Uint8Array(t.digest())}function IN(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Cr([t,r],0),new Cr([i,o],0)]}var QE=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ao(`Invalid padding: ${t}`);if(r<0)throw new Ao(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ao(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ao(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Cr.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(Cr.fromNumber(r)));return i.compare(C4)===1&&(i=new Cr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=EN(e),[r,i]=IN(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=EN(e),[r,i]=IN(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Ao=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Qf=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Wu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(re.min(),i,new Oe(ae),Mr(),he())}},Wu=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,he(),he(),he())}};var da=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},Yf=class{constructor(e,t){this.targetId=e,this.De=t}},Zf=class{constructor(e,t,r=Et.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Jf=class{constructor(){this.ve=0,this.Ce=wN(),this.Fe=Et.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=he(),t=he(),r=he();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:G(38017,{changeType:o})}}),new Wu(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=wN()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ee(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},YE=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Mr(),this.je=Of(),this.Je=Of(),this.He=new Oe(ae)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:G(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(BE(o))if(r===0){let s=new q(o.path);this.Xe(t,s,Cn.newNoDocument(s,re.min()))}else Ee(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}_N?.ct((function(h,p,m,y,T){var M,R,O,Q,Y,De;let It={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},Ie=p.unchangedNames;return Ie&&(It.bloomFilter={applied:T===0,hashCount:(M=Ie?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(Q=(O=(R=Ie?.bits)===null||R===void 0?void 0:R.bitmap)===null||O===void 0?void 0:O.length)!==null&&Q!==void 0?Q:0,padding:(De=(Y=Ie?.bits)===null||Y===void 0?void 0:Y.padding)!==null&&De!==void 0?De:0,mightContain:w=>{var v;return(v=y?.mightContain(w))!==null&&v!==void 0&&v}}),It})(s,e.De,this.We.lt(),a,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Rr(r).toUint8Array()}catch(u){if(u instanceof qf)return Si("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new QE(s,i,o)}catch(u){return Si(u instanceof Ao?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&BE(a.target)){let u=new q(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,Cn.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=he();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new Qf(e,t,this.He,this.ze,r);return this.ze=Mr(),this.je=Of(),this.Je=Of(),this.He=new Oe(ae),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Jf,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new tt(ae),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new tt(ae),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||F("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Jf),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function Of(){return new Oe(q.comparator)}function wN(){return new Oe(q.comparator)}var T4={asc:"ASCENDING",desc:"DESCENDING"},S4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},A4={and:"AND",or:"OR"},ZE=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function JE(n,e){return n.useProto3Json||Ip(e)?e:{value:e}}function Xf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MM(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function R4(n,e){return Xf(n,e.toTimestamp())}function Xn(n){return Ee(!!n,49232),re.fromTimestamp((function(t){let r=Ar(t);return new We(r.seconds,r.nanos)})(n))}function dw(n,e){return XE(n,e).canonicalString()}function XE(n,e){let t=(function(i){return new Ne(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function PM(n){let e=Ne.fromString(n);return Ee(LM(e),10190,{key:e.toString()}),e}function eI(n,e){return dw(n.databaseId,e.path)}function mE(n,e){let t=PM(e);if(t.get(1)!==n.databaseId.projectId)throw new B(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new B(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new q(kM(t))}function xM(n,e){return dw(n.databaseId,e)}function N4(n){let e=PM(n);return e.length===4?Ne.emptyPath():kM(e)}function tI(n){return new Ne(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function kM(n){return Ee(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function DN(n,e,t){return{name:eI(n,e),fields:t.value.mapValue.fields}}function M4(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:G(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(Ee(h===void 0||typeof h=="string",58123),Et.fromBase64String(h||"")):(Ee(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Et.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?N.UNKNOWN:NM(l.code);return new B(h,l.message||"")})(s);t=new Zf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=mE(n,r.document.name),o=Xn(r.document.updateTime),s=r.document.createTime?Xn(r.document.createTime):re.min(),a=new Dn({mapValue:{fields:r.document.fields}}),u=Cn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new da(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=mE(n,r.document),o=r.readTime?Xn(r.readTime):re.min(),s=Cn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new da([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=mE(n,r.document),o=r.removedTargetIds||[];t=new da([],o,i,null)}else{if(!("filter"in e))return G(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new KE(i,o),a=r.targetId;t=new Yf(a,s)}}return t}function P4(n,e){let t;if(e instanceof Lo)t={update:DN(n,e.key,e.value)};else if(e instanceof Kf)t={delete:eI(n,e.key)};else if(e instanceof Pr)t={update:DN(n,e.key,e.data),updateMask:B4(e.fieldMask)};else{if(!(e instanceof qE))return G(16599,{Rt:e.type});t={verify:eI(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof wa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Oo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Fo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Da)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw G(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:R4(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:G(27497)})(n,e.precondition)),t}function x4(n,e){return n&&n.length>0?(Ee(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?Xn(i.updateTime):Xn(o);return s.isEqual(re.min())&&(s=Xn(o)),new HE(s,i.transformResults||[])})(t,e))):[]}function k4(n,e){return{documents:[xM(n,e.path)]}}function O4(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=xM(n,i);let o=(function(l){if(l.length!==0)return FM(tr.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(m){return{field:ca(m.field),direction:V4(m.dir)}})(h))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=JE(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:t,parent:i}}function F4(n){let e=N4(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ee(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=(function(p){let m=OM(p);return m instanceof tr&&pM(m)?m.getFilters():[m]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(m=>(function(T){return new _a(ua(T.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(T.direction))})(m))})(t.orderBy));let a=null;t.limit&&(a=(function(p){let m;return m=typeof p=="object"?p.value:p,Ip(m)?null:m})(t.limit));let u=null;t.startAt&&(u=(function(p){let m=!!p.before,y=p.values||[];return new va(y,m)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let m=!p.before,y=p.values||[];return new va(y,m)})(t.endAt)),c4(e,i,s,o,a,"F",u,l)}function L4(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function OM(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=ua(t.unaryFilter.field);return Qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ua(t.unaryFilter.field);return Qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ua(t.unaryFilter.field);return Qe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ua(t.unaryFilter.field);return Qe.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return G(61313);default:return G(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Qe.create(ua(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return G(58110);default:return G(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return tr.create(t.compositeFilter.filters.map(r=>OM(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return G(1026)}})(t.compositeFilter.op))})(n):G(30097,{filter:n})}function V4(n){return T4[n]}function j4(n){return S4[n]}function U4(n){return A4[n]}function ca(n){return{fieldPath:n.canonicalString()}}function ua(n){return qt.fromServerFormat(n.fieldPath)}function FM(n){return n instanceof Qe?(function(t){if(t.op==="=="){if(lN(t.value))return{unaryFilter:{field:ca(t.field),op:"IS_NAN"}};if(uN(t.value))return{unaryFilter:{field:ca(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(lN(t.value))return{unaryFilter:{field:ca(t.field),op:"IS_NOT_NAN"}};if(uN(t.value))return{unaryFilter:{field:ca(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ca(t.field),op:j4(t.op),value:t.value}}})(n):n instanceof tr?(function(t){let r=t.getFilters().map(i=>FM(i));return r.length===1?r[0]:{compositeFilter:{op:U4(t.op),filters:r}}})(n):G(54877,{filter:n})}function B4(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function LM(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Ku=class n{constructor(e,t,r,i,o=re.min(),s=re.min(),a=Et.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var nI=class{constructor(e){this.gt=e}};function $4(n){let e=F4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?$E(e,e.limit,"L"):e}var ep=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(Ae(e.integerValue));else if("doubleValue"in e){let r=Ae(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),qu(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=Ar(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Rr(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?dM(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):lM(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):G(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=ga,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(Ae(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),q.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};ep.Ut=new ep;var rI=class{constructor(){this.Dn=new iI}addToCollectionParentIndex(e,t){return this.Dn.add(t),P.resolve()}getCollectionParents(e,t){return P.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return P.resolve()}deleteFieldIndex(e,t){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,t){return P.resolve()}getDocumentsMatchingTarget(e,t){return P.resolve(null)}getIndexType(e,t){return P.resolve(0)}getFieldIndexes(e,t){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,t){return P.resolve(ko.min())}getMinOffsetFromCollectionGroup(e,t){return P.resolve(ko.min())}updateCollectionGroup(e,t,r){return P.resolve()}updateIndexEntries(e,t){return P.resolve()}},iI=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new tt(Ne.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tt(Ne.comparator)).toArray()}};var Aoe=new Uint8Array(0);var bN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VM=41943040,on=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(VM,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);var Qu=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var CN="LruGarbageCollector",H4=1048576;function TN([n,e],[t,r]){let i=ae(n,t);return i===0?ae(e,r):i}var oI=class{constructor(e){this.Tr=e,this.buffer=new tt(TN),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();TN(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},sI=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){F(CN,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Na(t)?F(CN,"Ignoring IndexedDB error during garbage collection: ",t):await Ra(t)}await this.Rr(3e5)})}},aI=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return P.resolve(tw.ue);let r=new oI(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(F("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(bN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bN):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(F("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),sa()<=ce.DEBUG&&F("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function q4(n,e){return new aI(n,e)}var cI=class{constructor(){this.changes=new Nr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?P.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var uI=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var lI=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Bu(r.mutation,i,Yn.empty(),We.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,he()).next(()=>r))}getLocalViewOfDocuments(e,t,r=he()){let i=So();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Lu();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=So();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,he()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Mr(),s=Uu(),a=(function(){return Uu()})();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Pr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Bu(h.mutation,l,h.mutation.getFieldMask(),We.now())):s.set(l.key,Yn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new uI(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Uu(),i=new Oe((s,a)=>s-a),o=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||Yn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||he()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=wM();h.forEach(m=>{if(!o.has(m)){let y=AM(t.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return q.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):u4(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):P.resolve(So()),a=Hu,u=o;return s.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,he())).next(h=>({batchId:a,changes:IM(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new q(t)).next(r=>{let i=Lu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Lu();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,u=>{let l=(function(p,m){return new Ea(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Cn.newInvalidDocument(h)))});let a=Lu();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Bu(h.mutation,l,Yn.empty(),We.now()),bp(t,l)&&(a=a.insert(u,l))}),a})}};var dI=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return P.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Xn(i.createTime)}})(t)),P.resolve()}getNamedQuery(e,t){return P.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:$4(i.bundledQuery),readTime:Xn(i.readTime)}})(t)),P.resolve()}};var hI=class{constructor(){this.overlays=new Oe(q.comparator),this.kr=new Map}getOverlay(e,t){return P.resolve(this.overlays.get(t))}getOverlays(e,t){let r=So();return P.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),P.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),P.resolve()}getOverlaysForCollection(e,t,r){let i=So(),o=t.length+1,s=new q(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Oe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=So(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=So(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new WE(t,r));let o=this.kr.get(t);o===void 0&&(o=he(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var fI=class{constructor(){this.sessionToken=Et.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,P.resolve()}};var Yu=class{constructor(){this.qr=new tt(ze.Qr),this.$r=new tt(ze.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new ze(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new ze(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new q(new Ne([])),r=new ze(t,e),i=new ze(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new q(new Ne([])),r=new ze(t,e),i=new ze(t,e+1),o=he();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new ze(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},ze=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return q.comparator(e.key,t.key)||ae(e.Hr,t.Hr)}static Ur(e,t){return ae(e.Hr,t.Hr)||q.comparator(e.key,t.key)}};var pI=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new tt(ze.Qr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new zE(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new ze(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,t){return P.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?nw:this.er-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new ze(t,0),i=new ze(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new tt(ae);return t.forEach(i=>{let o=new ze(i,0),s=new ze(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),P.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;q.isDocumentKey(o)||(o=o.child(""));let s=new ze(new q(o),0),a=new tt(ae);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),P.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ee(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return P.forEach(t.mutations,i=>{let o=new ze(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new ze(t,0),i=this.Yr.firstAfterOrEqual(r);return P.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var gI=class{constructor(e){this.ni=e,this.docs=(function(){return new Oe(q.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return P.resolve(r?r.document.mutableCopy():Cn.newInvalidDocument(t))}getEntries(e,t){let r=Mr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Cn.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Mr(),s=t.path,a=new q(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||HH($H(h),r)<=0||(i.has(h.key)||bp(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,t,r,i){G(9500)}ri(e,t){return P.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new mI(this)}getSize(e){return P.resolve(this.size)}},mI=class extends cI{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),P.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var yI=class{constructor(e){this.persistence=e,this.ii=new Nr(t=>aw(t),cw),this.lastRemoteSnapshotVersion=re.min(),this.highestTargetId=0,this.si=0,this.oi=new Yu,this.targetCount=0,this._i=Qu.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),P.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Qu(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,P.resolve()}updateTargetData(e,t){return this.hr(t),P.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return P.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),P.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),P.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return P.resolve(r)}containsKey(e,t){return P.resolve(this.oi.containsKey(t))}};var tp=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new tw(0),this.ci=!1,this.ci=!0,this.li=new fI,this.referenceDelegate=e(this),this.hi=new yI(this),this.indexManager=new rI,this.remoteDocumentCache=(function(i){return new gI(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new nI(t),this.Ti=new dI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new pI(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){F("MemoryPersistence","Starting transaction:",e);let i=new vI(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return P.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},vI=class extends AE{constructor(e){super(),this.currentSequenceNumber=e}},_I=class n{constructor(e){this.persistence=e,this.Ai=new Yu,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw G(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),P.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),P.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.mi,r=>{let i=q.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,re.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return P.or([()=>P.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},np=class n{constructor(e,t){this.persistence=e,this.gi=new Nr(r=>WH(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=q4(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return P.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return P.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?P.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,re.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),P.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),P.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Lf(e.data.value)),t}Sr(e,t,r){return P.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var EI=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=he(),i=he();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var II=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var wI=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return mA()?8:zH(Xe())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new II;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(sa()<=ce.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",aa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),P.resolve()):(sa()<=ce.DEBUG&&F("QueryEngine","Query:",aa(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(sa()<=ce.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",aa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jn(t))):P.resolve())}ps(e,t){if(pN(t))return P.resolve(null);let r=Jn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=$E(t,null,"F"),r=Jn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=he(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,a);return this.Ds(t,l,s,u.readTime)?this.ps(e,$E(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return pN(t)||i.isEqual(re.min())?P.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?P.resolve(null):(sa()<=ce.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),aa(t)),this.vs(e,s,t,BH(i,Hu)).next(a=>a))})}bs(e,t){let r=new tt(_M(e));return t.forEach((i,o)=>{bp(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return sa()<=ce.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",aa(t)),this.gs.getDocumentsMatchingQuery(e,t,ko.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var hw="LocalStore",z4=3e8,DI=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Oe(ae),this.Ms=new Nr(o=>aw(o),cw),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lI(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function G4(n,e,t,r){return new DI(n,e,t,r)}async function jM(n,e){let t=X(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=he();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})}function W4(n,e){let t=X(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,h){let p=l.batch,m=p.keys(),y=P.resolve();return m.forEach(T=>{y=y.next(()=>h.getEntry(u,T)).next(M=>{let R=l.docVersions.get(T);Ee(R!==null,48541),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=he();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function UM(n){let e=X(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function K4(n,e){let t=X(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(t.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Et.EMPTY_BYTE_STRING,re.min()).withLastLimboFreeSnapshotVersion(re.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(M,R,O){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=z4?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(m,y,h)&&a.push(t.hi.updateTargetData(o,y))});let u=Mr(),l=he();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(Q4(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(re.min())){let h=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Fs=i,o))}function Q4(n,e,t){let r=he(),i=he();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Mr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(re.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):F(hw,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function Y4(n,e){let t=X(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=nw),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Z4(n,e){let t=X(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new Ku(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}async function bI(n,e,t){let r=X(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Na(s))throw s;F(hw,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function SN(n,e,t){let r=X(n),i=re.min(),o=he();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=X(u),m=p.Ms.get(h);return m!==void 0?P.resolve(p.Fs.get(m)):p.hi.getTargetData(l,h)})(r,s,Jn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:re.min(),t?o:he())).next(a=>(J4(r,d4(e),a),{documents:a,qs:o})))}function J4(n,e,t){let r=n.xs.get(e)||re.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var rp=class{constructor(){this.activeTargetIds=y4()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var CI=class{constructor(){this.Fo=new rp,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new rp,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var TI=class{xo(e){}shutdown(){}};var AN="ConnectivityMonitor",ip=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){F(AN,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){F(AN,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ff=null;function SI(){return Ff===null?Ff=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ff++,"0x"+Ff.toString(16)}var yE="RestConnection",X4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},AI=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===zf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=SI(),a=this.Go(e,t.toUriEncodedString());F(yE,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=hi(l);return this.jo(e,a,u,r,h).then(p=>(F(yE,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Si(yE,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Aa})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=X4[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var RI=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var vt="WebChannelConnection",NI=class extends AI{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=SI();return new Promise((a,u)=>{let l=new dE;l.setWithCredentials(!0),l.listenOnce(hE.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Fu.NO_ERROR:let p=l.getResponseJson();F(vt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Fu.TIMEOUT:F(vt,`RPC '${e}' ${s} timed out`),u(new B(N.DEADLINE_EXCEEDED,"Request time out"));break;case Fu.HTTP_ERROR:let m=l.getStatus();if(F(vt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let T=y?.error;if(T&&T.status&&T.message){let M=(function(O){let Q=O.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(Q)>=0?Q:N.UNKNOWN})(T.status);u(new B(M,T.message))}else u(new B(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new B(N.UNAVAILABLE,"Connection failed."));break;default:G(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{F(vt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);F(vt,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}P_(e,t,r){let i=SI(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=gE(),a=pE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");F(vt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let m=!1,y=!1,T=new RI({Ho:R=>{y?F(vt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(F(vt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),F(vt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Yo:()=>p.close()}),M=(R,O,Q)=>{R.listen(O,Y=>{try{Q(Y)}catch(De){setTimeout(()=>{throw De},0)}})};return M(p,oa.EventType.OPEN,()=>{y||(F(vt,`RPC '${e}' stream ${i} transport opened.`),T.s_())}),M(p,oa.EventType.CLOSE,()=>{y||(y=!0,F(vt,`RPC '${e}' stream ${i} transport closed`),T.__(),this.I_(p))}),M(p,oa.EventType.ERROR,R=>{y||(y=!0,Si(vt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),T.__(new B(N.UNAVAILABLE,"The operation could not be completed")))}),M(p,oa.EventType.MESSAGE,R=>{var O;if(!y){let Q=R.data[0];Ee(!!Q,16349);let Y=Q,De=Y?.error||((O=Y[0])===null||O===void 0?void 0:O.error);if(De){F(vt,`RPC '${e}' stream ${i} received error:`,De);let It=De.status,Ie=(function(E){let I=qe[E];if(I!==void 0)return NM(I)})(It),w=De.message;Ie===void 0&&(Ie=N.INTERNAL,w="Unknown error status: "+It+" with message "+De.message),y=!0,T.__(new B(Ie,w)),p.close()}else F(vt,`RPC '${e}' stream ${i} received:`,Q),T.a_(Q)}}),M(a,fE.STAT_EVENT,R=>{R.stat===xf.PROXY?F(vt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===xf.NOPROXY&&F(vt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.o_()},0),T}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function vE(){return typeof document<"u"?document:null}function Cp(n){return new ZE(n,!0)}var op=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var RN="PersistentStream",sp=class{constructor(e,t,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new op(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===N.RESOURCE_EXHAUSTED?(Sr(t.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new B(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return F(RN,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(F(RN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},MI=class extends sp{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=M4(this.serializer,e),r=(function(o){if(!("targetChange"in o))return re.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?re.min():s.readTime?Xn(s.readTime):re.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=tI(this.serializer),t.addTarget=(function(o,s){let a,u=s.target;if(a=BE(u)?{documents:k4(o,u)}:{query:O4(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=MM(o,s.resumeToken);let l=JE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(re.min())>0){a.readTime=Xf(o,s.snapshotVersion.toTimestamp());let l=JE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=L4(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=tI(this.serializer),t.removeTarget=e,this.k_(t)}},PI=class extends sp{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Ee(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ee(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ee(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=x4(e.writeResults,e.commitTime),r=Xn(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=tI(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>P4(this.serializer,r))};this.k_(t)}};var xI=class{},kI=class extends xI{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new B(N.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,XE(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(N.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,XE(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(N.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},OI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Sr(t),this._a=!1):F("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Vo="RemoteStore",FI=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(async()=>{Uo(this)&&(F(Vo,"Restarting streams for network reachability change."),await(async function(u){let l=X(u);l.Ia.add(4),await Xu(l),l.Aa.set("Unknown"),l.Ia.delete(4),await Tp(l)})(this))})}),this.Aa=new OI(r,i)}};async function Tp(n){if(Uo(n))for(let e of n.da)await e(!0)}async function Xu(n){for(let e of n.da)await e(!1)}function BM(n,e){let t=X(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),mw(t)?gw(t):Ma(t).x_()&&pw(t,e))}function fw(n,e){let t=X(n),r=Ma(t);t.Ta.delete(e),r.x_()&&$M(t,e),t.Ta.size===0&&(r.x_()?r.B_():Uo(t)&&t.Aa.set("Unknown"))}function pw(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(re.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ma(n).H_(e)}function $M(n,e){n.Ra.$e(e),Ma(n).Y_(e)}function gw(n){n.Ra=new YE({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Ma(n).start(),n.Aa.aa()}function mw(n){return Uo(n)&&!Ma(n).M_()&&n.Ta.size>0}function Uo(n){return X(n).Ia.size===0}function HM(n){n.Ra=void 0}async function e3(n){n.Aa.set("Online")}async function t3(n){n.Ta.forEach((e,t)=>{pw(n,e)})}async function n3(n,e){HM(n),mw(n)?(n.Aa.la(e),gw(n)):n.Aa.set("Unknown")}async function r3(n,e,t){if(n.Aa.set("Online"),e instanceof Zf&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})(n,e)}catch(r){F(Vo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ap(n,r)}else if(e instanceof da?n.Ra.Ye(e):e instanceof Yf?n.Ra.it(e):n.Ra.et(e),!t.isEqual(re.min()))try{let r=await UM(n.localStore);t.compareTo(r)>=0&&await(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(Et.EMPTY_BYTE_STRING,h.snapshotVersion)),$M(o,u);let p=new Ku(h.target,u,l,h.sequenceNumber);pw(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t)}catch(r){F(Vo,"Failed to raise snapshot:",r),await ap(n,r)}}async function ap(n,e,t){if(!Na(e))throw e;n.Ia.add(1),await Xu(n),n.Aa.set("Offline"),t||(t=()=>UM(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{F(Vo,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await Tp(n)})}function qM(n,e){return e().catch(t=>ap(n,t,e))}async function Sp(n){let e=X(n),t=Ri(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:nw;for(;i3(e);)try{let i=await Y4(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,o3(e,i)}catch(i){await ap(e,i)}zM(e)&&GM(e)}function i3(n){return Uo(n)&&n.Pa.length<10}function o3(n,e){n.Pa.push(e);let t=Ri(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function zM(n){return Uo(n)&&!Ri(n).M_()&&n.Pa.length>0}function GM(n){Ri(n).start()}async function s3(n){Ri(n).na()}async function a3(n){let e=Ri(n);for(let t of n.Pa)e.X_(t.mutations)}async function c3(n,e,t){let r=n.Pa.shift(),i=GE.from(r,e,t);await qM(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Sp(n)}async function u3(n,e){e&&Ri(n).Z_&&await(async function(r,i){if((function(s){return b4(s)&&s!==N.ABORTED})(i.code)){let o=r.Pa.shift();Ri(r).N_(),await qM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Sp(r)}})(n,e),zM(n)&&GM(n)}async function NN(n,e){let t=X(n);t.asyncQueue.verifyOperationInProgress(),F(Vo,"RemoteStore received new credentials");let r=Uo(t);t.Ia.add(3),await Xu(t),r&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Tp(t)}async function l3(n,e){let t=X(n);e?(t.Ia.delete(2),await Tp(t)):e||(t.Ia.add(2),await Xu(t),t.Aa.set("Unknown"))}function Ma(n){return n.Va||(n.Va=(function(t,r,i){let o=X(t);return o.ia(),new MI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:e3.bind(null,n),e_:t3.bind(null,n),n_:n3.bind(null,n),J_:r3.bind(null,n)}),n.da.push(async e=>{e?(n.Va.N_(),mw(n)?gw(n):n.Aa.set("Unknown")):(await n.Va.stop(),HM(n))})),n.Va}function Ri(n){return n.ma||(n.ma=(function(t,r,i){let o=X(t);return o.ia(),new PI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:s3.bind(null,n),n_:u3.bind(null,n),ea:a3.bind(null,n),ta:c3.bind(null,n)}),n.da.push(async e=>{e?(n.ma.N_(),await Sp(n)):(await n.ma.stop(),n.Pa.length>0&&(F(Vo,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))})),n.ma}var LI=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new bn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function yw(n,e){if(Sr("AsyncQueue",`${e}: ${n}`),Na(n))return new B(N.UNAVAILABLE,`${e}: ${n}`);throw n}var cp=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||q.comparator(t.key,r.key):(t,r)=>q.comparator(t.key,r.key),this.keyedMap=Lu(),this.sortedSet=new Oe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var up=class{constructor(){this.fa=new Oe(q.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):G(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},Ca=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,cp.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var VI=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},jI=class{constructor(){this.queries=MN(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=X(t),o=i.queries;i.queries=MN(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new B(N.ABORTED,"Firestore shutting down"))}};function MN(){return new Nr(n=>vM(n),Dp)}async function WM(n,e){let t=X(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new VI,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await t.onListen(i,!0);break;case 1:o.ya=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(s){let a=yw(s,`Initialization of query '${aa(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&vw(t)}async function KM(n,e){let t=X(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function d3(n,e){let t=X(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&vw(t)}function h3(n,e,t){let r=X(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function vw(n){n.Da.forEach(e=>{e.next()})}var UI,PN;(PN=UI||(UI={})).Fa="default",PN.Cache="cache";var lp=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ca(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==UI.Cache}};var dp=class{constructor(e){this.key=e}},hp=class{constructor(e){this.key=e}},BI=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=he(),this.mutatedKeys=he(),this.Xa=_M(e),this.eu=new cp(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new up,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=bp(this.query,p)?p:null,T=!!m&&this.mutatedKeys.has(m.key),M=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?T!==M&&(r.track({type:3,doc:y}),R=!0):this.iu(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=M?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>(function(y,T){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G(20277,{At:R})}};return M(y)-M(T)})(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new Ca(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new up,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=he(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new hp(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new dp(r))}),t}uu(e){this.Ha=e.qs,this.Za=he();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Ca.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},_w="SyncEngine",$I=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},HI=class{constructor(e){this.key=e,this.lu=!1}},qI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Nr(a=>vM(a),Dp),this.Tu=new Map,this.Iu=new Set,this.du=new Oe(q.comparator),this.Eu=new Map,this.Au=new Yu,this.Ru={},this.Vu=new Map,this.mu=Qu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};async function f3(n,e,t=!0){let r=eP(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await QM(r,e,t,!0),i}async function p3(n,e){let t=eP(n);await QM(t,e,!0,!1)}async function QM(n,e,t,r){let i=await Z4(n.localStore,Jn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=await g3(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&BM(n.remoteStore,i),a}async function g3(n,e,t,r,i){n.gu=(p,m,y)=>(async function(M,R,O,Q){let Y=R.view.nu(O);Y.Ds&&(Y=await SN(M.localStore,R.query,!1).then(({documents:w})=>R.view.nu(w,Y)));let De=Q&&Q.targetChanges.get(R.targetId),It=Q&&Q.targetMismatches.get(R.targetId)!=null,Ie=R.view.applyChanges(Y,M.isPrimaryClient,De,It);return kN(M,R.targetId,Ie._u),Ie.snapshot})(n,p,m,y);let o=await SN(n.localStore,e,!0),s=new BI(e,o.qs),a=s.nu(o.documents),u=Wu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);kN(n,t,l._u);let h=new $I(e,t,s);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot}async function m3(n,e,t){let r=X(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Dp(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await bI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&fw(r.remoteStore,i.targetId),zI(r,i.targetId)}).catch(Ra)):(zI(r,i.targetId),await bI(r.localStore,i.targetId,!0))}async function y3(n,e){let t=X(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),fw(t.remoteStore,r.targetId))}async function v3(n,e,t){let r=C3(n);try{let i=await(function(s,a){let u=X(s),l=We.now(),h=a.reduce((y,T)=>y.add(T.key),he()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let T=Mr(),M=he();return u.Os.getEntries(y,h).next(R=>{T=R,T.forEach((O,Q)=>{Q.isValidDocument()||(M=M.add(O))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,T)).next(R=>{p=R;let O=[];for(let Q of a){let Y=D4(Q,p.get(Q.key).overlayedDocument);Y!=null&&O.push(new Pr(Q.key,Y,hM(Y.value.mapValue),No.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,O,a)}).next(R=>{m=R;let O=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(y,R.batchId,O)})}).then(()=>({batchId:m.batchId,changes:IM(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new Oe(ae)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,t),await el(r,i.changes),await Sp(r.remoteStore)}catch(i){let o=yw(i,"Failed to persist write");t.reject(o)}}async function YM(n,e){let t=X(n);try{let r=await K4(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Ee(s.lu,14607):i.removedDocuments.size>0&&(Ee(s.lu,42227),s.lu=!1))}),await el(t,r,e)}catch(r){await Ra(r)}}function xN(n,e,t){let r=X(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=X(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.wa)m.va(a)&&(l=!0)}),l&&vw(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _3(n,e,t){let r=X(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Oe(q.comparator);s=s.insert(o,Cn.newNoDocument(o,re.min()));let a=he().add(o),u=new Qf(re.min(),new Map,new Oe(ae),s,a);await YM(r,u),r.du=r.du.remove(o),r.Eu.delete(e),Ew(r)}else await bI(r.localStore,e,!1).then(()=>zI(r,e,t)).catch(Ra)}async function E3(n,e){let t=X(n),r=e.batch.batchId;try{let i=await W4(t.localStore,e);JM(t,r,null),ZM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await el(t,i)}catch(i){await Ra(i)}}async function I3(n,e,t){let r=X(n);try{let i=await(function(s,a){let u=X(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Ee(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})})(r.localStore,e);JM(r,e,t),ZM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await el(r,i)}catch(i){await Ra(i)}}function ZM(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function JM(n,e,t){let r=X(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function zI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||XM(n,r)})}function XM(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(fw(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),Ew(n))}function kN(n,e,t){for(let r of t)r instanceof dp?(n.Au.addReference(r.key,e),w3(n,r)):r instanceof hp?(F(_w,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||XM(n,r.key)):G(19791,{yu:r})}function w3(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(F(_w,"New document in limbo: "+t),n.Iu.add(r),Ew(n))}function Ew(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new q(Ne.fromString(e)),r=n.mu.next();n.Eu.set(r,new HI(t)),n.du=n.du.insert(t,r),BM(n.remoteStore,new Ku(Jn(uw(t.path)),r,"TargetPurposeLimboResolution",tw.ue))}}async function el(n,e,t){let r=X(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=EI.Es(u.targetId,l);o.push(p)}}))}),await Promise.all(s),r.hu.J_(i),await(async function(u,l){let h=X(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.Is,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Na(p))throw p;F(hw,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.Fs.get(m),T=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(T);h.Fs=h.Fs.insert(m,M)}}})(r.localStore,o))}async function D3(n,e){let t=X(n);if(!t.currentUser.isEqual(e)){F(_w,"User change. New user:",e.toKey());let r=await jM(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new B(N.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await el(t,r.Bs)}}function b3(n,e){let t=X(n),r=t.Eu.get(e);if(r&&r.lu)return he().add(r.key);{let i=he(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function eP(n){let e=X(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=YM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=b3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_3.bind(null,e),e.hu.J_=d3.bind(null,e.eventManager),e.hu.pu=h3.bind(null,e.eventManager),e}function C3(n){let e=X(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=E3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=I3.bind(null,e),e}var tP=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Cp(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,r){return null}Fu(t,r){return null}vu(t){return G4(this.persistence,new wI,t.initialUser,this.serializer)}Du(t){return new tp(_I.Vi,this.serializer)}bu(t){return new CI}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return n.provider={build:()=>new n},n})(),GI=class extends tP{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Ee(this.persistence.referenceDelegate instanceof np,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new sI(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new tp(r=>np.Vi(r,t),this.serializer)}};var T3=(()=>{class n{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>xN(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=D3.bind(null,this.syncEngine),await l3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new jI})()}createDatastore(t){let r=Cp(t.databaseInfo.databaseId),i=(function(s){return new NI(s)})(t.databaseInfo);return(function(s,a,u,l){return new kI(s,a,u,l)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,u){return new FI(i,o,s,a,u)})(this.localStore,this.datastore,t.asyncQueue,r=>xN(this.syncEngine,r,0),(function(){return ip.C()?new ip:new TI})())}createSyncEngine(t,r){return(function(o,s,a,u,l,h,p){let m=new qI(o,s,a,u,l,h);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await(async function(o){let s=X(o);F(Vo,"RemoteStore shutting down."),s.Ia.add(5),await Xu(s),s.Ea.shutdown(),s.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}return n.provider={build:()=>new n},n})();var fp=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Sr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Ni="FirestoreClient",WI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=et.UNAUTHENTICATED,this.clientId=$u.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{F(Ni,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(F(Ni,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new bn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=yw(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function _E(n,e){n.asyncQueue.verifyOperationInProgress(),F(Ni,"Initializing OfflineComponentProvider");let t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await jM(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{Si("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{F("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Si("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e}async function ON(n,e){n.asyncQueue.verifyOperationInProgress();let t=await S3(n);F(Ni,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>NN(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>NN(e.remoteStore,i)),n._onlineComponents=e}async function S3(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){F(Ni,"Using user provided OfflineComponentProvider");try{await _E(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Si("Error using user provided cache. Falling back to memory cache: "+t),await _E(n,new tP)}}else F(Ni,"Using default OfflineComponentProvider"),await _E(n,new GI(void 0));return n._offlineComponents}async function nP(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(F(Ni,"Using user provided OnlineComponentProvider"),await ON(n,n._uninitializedComponentsProvider._online)):(F(Ni,"Using default OnlineComponentProvider"),await ON(n,new T3))),n._onlineComponents}function A3(n){return nP(n).then(e=>e.syncEngine)}async function rP(n){let e=await nP(n),t=e.eventManager;return t.onListen=f3.bind(null,e.syncEngine),t.onUnlisten=m3.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=p3.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=y3.bind(null,e.syncEngine),t}function R3(n,e,t={}){let r=new bn;return n.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,u,l){let h=new fp({next:m=>{h.Ou(),s.enqueueAndForget(()=>KM(o,p));let y=m.docs.has(a);!y&&m.fromCache?l.reject(new B(N.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?l.reject(new B(N.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new lp(uw(a.path),h,{includeMetadataChanges:!0,ka:!0});return WM(o,p)})(await rP(n),n.asyncQueue,e,t,r)),r.promise}function N3(n,e,t={}){let r=new bn;return n.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,u,l){let h=new fp({next:m=>{h.Ou(),s.enqueueAndForget(()=>KM(o,p)),m.fromCache&&u.source==="server"?l.reject(new B(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new lp(a,h,{includeMetadataChanges:!0,ka:!0});return WM(o,p)})(await rP(n),n.asyncQueue,e,t,r)),r.promise}function iP(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var FN=new Map;var oP="firestore.googleapis.com",LN=!0,pp=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new B(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oP,this.ssl=LN}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:LN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=VM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<H4)throw new B(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}UH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new B(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new B(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new B(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ta=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new B(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new B(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pp(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new EE;switch(r.type){case"firstParty":return new bE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=FN.get(t);r&&(F("ComponentProvider","Removing Datastore"),FN.delete(t),r.terminate())})(this),Promise.resolve()}};function sP(n,e,t,r={}){var i;n=xo(n,Ta);let o=hi(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(sf(`https://${u}`),af("Firestore",!0)),s.host!==oP&&s.host!==u&&Si("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!zn(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=et.MOCK_USER;else{h=lA(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new B(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new et(m)}n._authCredentials=new IE(new Uf(h,p))}}var gp=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},_t=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Di(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Ju(t,n._jsonSchema))return new n(e,r||null,new q(Ne.fromString(t.referencePath)))}};_t._jsonSchemaVersion="firestore/documentReference/1.0",_t._jsonSchema={type:Ge("string",_t._jsonSchemaVersion),referencePath:Ge("string")};var Di=class n extends gp{constructor(e,t,r){super(e,t,uw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new q(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function aP(n,e,...t){if(n=at(n),$N("collection","path",e),n instanceof Ta){let r=Ne.fromString(e,...t);return nN(r),new Di(n,null,r)}{if(!(n instanceof _t||n instanceof Di))throw new B(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ne.fromString(e,...t));return nN(r),new Di(n.firestore,null,r)}}function cP(n,e,...t){if(n=at(n),arguments.length===1&&(e=$u.newId()),$N("doc","path",e),n instanceof Ta){let r=Ne.fromString(e,...t);return tN(r),new _t(n,null,new q(r))}{if(!(n instanceof _t||n instanceof Di))throw new B(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ne.fromString(e,...t));return tN(r),new _t(n.firestore,n instanceof Di?n.converter:null,new q(r))}}var VN="AsyncQueue",mp=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new op(this,"async_queue_retry"),this.oc=()=>{let r=vE();r&&F(VN,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=vE();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=vE();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new bn;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Na(e))throw e;F(VN,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Sr("INTERNAL UNHANDLED ERROR: ",jN(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=LI.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&G(47125,{hc:jN(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function jN(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var Sa=class extends Ta{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new mp,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new mp(e),this._firestoreClient=void 0,await e}}};function uP(n,e){let t=typeof n=="object"?n:_o(),r=typeof n=="string"?n:e||zf,i=ea(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=uA("firestore");o&&sP(i,...o)}return i}function Iw(n){if(n._terminated)throw new B(N.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||M3(n),n._firestoreClient}function M3(n){var e,t,r;let i=n._freezeSettings(),o=(function(a,u,l,h){return new RE(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,iP(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new WI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(n._componentsProvider))}var bi=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Et.fromBase64String(e))}catch(t){throw new B(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ju(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};bi._jsonSchemaVersion="firestore/bytes/1.0",bi._jsonSchema={type:Ge("string",bi._jsonSchemaVersion),bytes:Ge("string")};var Zu=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new B(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var yp=class{constructor(e){this._methodName=e}};var Ci=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new B(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new B(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Ju(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Ci._jsonSchemaVersion="firestore/geoPoint/1.0",Ci._jsonSchema={type:Ge("string",Ci._jsonSchemaVersion),latitude:Ge("number"),longitude:Ge("number")};var Ti=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ju(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new B(N.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Ti._jsonSchemaVersion="firestore/vectorValue/1.0",Ti._jsonSchema={type:Ge("string",Ti._jsonSchemaVersion),vectorValues:Ge("object")};var P3=/^__.*__$/,KI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Pr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Lo(e,this.data,t,this.fieldTransforms)}};function lP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G(40011,{Ec:n})}}var QI=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return vp(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(lP(this.Ec)&&P3.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},YI=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Cp(e)}Dc(e,t,r,i=!1){return new QI({Ec:e,methodName:t,bc:r,path:qt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function x3(n){let e=n._freezeSettings(),t=Cp(n._databaseId);return new YI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function k3(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);pP("Data must be an object, but it was:",s,r);let a=hP(r,s),u,l;if(o.merge)u=new Yn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=O3(e,p,t);if(!s.contains(m))throw new B(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);L3(h,m)||h.push(m)}u=new Yn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new KI(new Dn(a),u,l)}function dP(n,e){if(fP(n=at(n)))return pP("Unsupported field value:",e,n),hP(n,e);if(n instanceof yp)return(function(r,i){if(!lP(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=dP(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=at(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return v4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=We.fromDate(r);return{timestampValue:Xf(i.serializer,o)}}if(r instanceof We){let o=new We(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xf(i.serializer,o)}}if(r instanceof Ci)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bi)return{bytesValue:MM(i.serializer,r._byteString)};if(r instanceof _t){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:dw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ti)return(function(s,a){return{mapValue:{fields:{[iw]:{stringValue:ow},[ga]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return lw(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${ew(r)}`)})(n,e)}function hP(n,e){let t={};return iM(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jo(n,(r,i)=>{let o=dP(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function fP(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof We||n instanceof Ci||n instanceof bi||n instanceof _t||n instanceof yp||n instanceof Ti)}function pP(n,e,t){if(!fP(t)||!HN(t)){let r=ew(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function O3(n,e,t){if((e=at(e))instanceof Zu)return e._internalPath;if(typeof e=="string")return gP(n,e);throw vp("Field path arguments must be of type string or ",n,!1,void 0,t)}var F3=new RegExp("[~\\*/\\[\\]]");function gP(n,e,t){if(e.search(F3)>=0)throw vp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Zu(...e.split("."))._internalPath}catch{throw vp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function vp(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new B(N.INVALID_ARGUMENT,a+n+u)}function L3(n,e){return n.some(t=>t.isEqual(e))}var _p=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new ZI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(mP("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},ZI=class extends _p{data(){return super.data()}};function mP(n,e){return typeof e=="string"?gP(n,e):e instanceof Zu?e._internalPath:e._delegate._internalPath}function V3(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new B(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var JI=class{convertValue(e,t="none"){switch(Ai(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ae(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw G(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return jo(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[ga].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ae(s.doubleValue));return new Ti(o)}convertGeoPoint(e){return new Ci(Ae(e.latitude),Ae(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=wp(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(zu(e));default:return null}}convertTimestamp(e){let t=Ar(e);return new We(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ne.fromString(e);Ee(LM(r),9688,{name:e});let i=new Gf(r.get(1),r.get(3)),o=new q(r.popFirst(5));return i.isEqual(t)||Sr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function j3(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Ro=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Mo=class n extends _p{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ha(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(mP("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new B(N.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Mo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Mo._jsonSchema={type:Ge("string",Mo._jsonSchemaVersion),bundleSource:Ge("string","DocumentSnapshot"),bundleName:Ge("string"),bundle:Ge("string")};var ha=class extends Mo{data(e={}){return super.data(e)}},fa=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ro(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ha(this._firestore,this._userDataWriter,r.key,r,new Ro(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new B(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new ha(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ro(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new ha(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ro(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:U3(a.type),doc:u,oldIndex:l,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new B(N.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$u.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function U3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G(61501,{type:n})}}function yP(n){n=xo(n,_t);let e=xo(n.firestore,Sa);return R3(Iw(e),n._key).then(t=>$3(e,n,t))}fa._jsonSchemaVersion="firestore/querySnapshot/1.0",fa._jsonSchema={type:Ge("string",fa._jsonSchemaVersion),bundleSource:Ge("string","QuerySnapshot"),bundleName:Ge("string"),bundle:Ge("string")};var Ep=class extends JI{constructor(e){super(),this.firestore=e}convertBytes(e){return new bi(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,t)}};function vP(n){n=xo(n,gp);let e=xo(n.firestore,Sa),t=Iw(e),r=new Ep(e);return V3(n._query),N3(t,n._query).then(i=>new fa(e,r,n,i))}function _P(n,e,t){n=xo(n,_t);let r=xo(n.firestore,Sa),i=j3(n.converter,e,t);return B3(r,[k3(x3(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,No.none())])}function B3(n,e){return(function(r,i){let o=new bn;return r.asyncQueue.enqueueAndForget(async()=>v3(await A3(r),i,o)),o.promise})(Iw(n),e)}function $3(n,e,t){let r=t.docs.get(e._key),i=new Ep(n);return new Mo(n,i,e._key,r,new Ro(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Aa=i})(pi),In(new At("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Sa(new wE(r.getProvider("auth-internal")),new CE(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new B(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gf(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ke(ZR,JR,e),ke(ZR,JR,"esm2017")})();var xr=class{constructor(e){return e}},EP="firestore",ww=class{constructor(){return na(EP)}};var Dw=new V("angularfire2.firestore-instances");function H3(n,e){let t=Du(EP,n,e);return t&&new xr(t)}function q3(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new xr(r)}}var z3={provide:ww,deps:[[new jt,Dw]]},G3={provide:xr,useFactory:H3,deps:[[new jt,Dw],Ir]};function IP(n,...e){return ke("angularfire",gi.full,"fst"),zt([G3,z3,{provide:Dw,useFactory:q3(n),multi:!0,deps:[me,Re,mi,Io,[new jt,Ou],[new jt,ra],...e]}])}var wP=yt(aP,!0,2);var Ap=yt(cP,!0,2);var bw=yt(yP,!0);var DP=yt(vP,!0);var bP=yt(uP,!0);var CP=yt(_P,!0,2);var Rp=class n{title="alflabWeb";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=yr({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){t&1&&ri(0,"router-outlet")},dependencies:[su],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Arial,sans-serif}"]})};var Np=class n{constructor(e,t,r){this.auth=e;this.firestore=t;this.router=r;this.user$=new ie(i=>{let o=GR(this.auth,s=>{i.next(s)});return()=>o()})}user$;async login(e,t){try{let r=await WR(this.auth,e,t);try{let i=await bw(Ap(this.firestore,"usuarios",r.user.uid));if(i.exists()){let o=i.data();localStorage.setItem("userData",JSON.stringify(o)),console.log("Usuario logueado:",o)}}catch(i){console.warn("No se pudieron obtener datos adicionales de Firestore:",i)}return setTimeout(()=>{this.router.navigate(["/main"])},100),{success:!0}}catch(r){return console.error("Error en login:",r),console.error("C\xF3digo de error:",r.code),{success:!1,error:this.getErrorMessage(r.code)}}}async register(e,t,r,i="usuario"){try{let o=await qR(this.auth,e,t),s={uid:o.user.uid,email:e,username:r||e.split("@")[0],rol:i,fechaCreacion:new Date};try{await CP(Ap(this.firestore,"usuarios",o.user.uid),s),localStorage.setItem("userData",JSON.stringify(s)),console.log("Usuario registrado:",s)}catch(a){console.warn("Error al guardar datos en Firestore:",a)}return setTimeout(()=>{this.router.navigate(["/main"])},100),{success:!0}}catch(o){return console.error("Error en registro:",o),console.error("C\xF3digo de error:",o.code),{success:!1,error:this.getErrorMessage(o.code)}}}async logout(){try{await KR(this.auth),localStorage.removeItem("userData"),this.router.navigate(["/login"])}catch(e){console.error("Error al cerrar sesi\xF3n:",e)}}getCurrentUser(){return this.auth.currentUser}getUserData(){let e=localStorage.getItem("userData");return e?JSON.parse(e):null}async getUserDataFromFirestore(e){try{let t=await bw(Ap(this.firestore,"usuarios",e));return t.exists()?t.data():null}catch(t){return console.error("Error al obtener datos del usuario:",t),null}}isAuthenticated(){return this.auth.currentUser!==null}getErrorMessage(e){return{"auth/invalid-email":"El email no es v\xE1lido","auth/user-disabled":"El usuario ha sido deshabilitado","auth/user-not-found":"Email o contrase\xF1a incorrectos","auth/wrong-password":"Email o contrase\xF1a incorrectos","auth/email-already-in-use":"El email ya est\xE1 en uso","auth/weak-password":"La contrase\xF1a debe tener al menos 6 caracteres","auth/invalid-credential":"Email o contrase\xF1a incorrectos","auth/too-many-requests":"Demasiados intentos fallidos. Intenta m\xE1s tarde","auth/network-request-failed":"Error de conexi\xF3n. Verifica tu internet","auth/operation-not-allowed":"Operaci\xF3n no permitida","auth/requires-recent-login":"Por seguridad, vuelve a iniciar sesi\xF3n"}[e]||"Email o contrase\xF1a incorrectos"}static \u0275fac=function(t){return new(t||n)(H(To),H(xr),H(rn))};static \u0275prov=j({token:n,factory:n.\u0275fac,providedIn:"root"})};function K3(n,e){if(n&1){let t=Ns();$(0,"div",10),Ze("click",function(){Zt(t);let i=en();return Jt(i.closeErrorModal())}),$(1,"div",11),Ze("click",function(i){return Zt(t),Jt(i.stopPropagation())}),$(2,"div",12),z(3,"\u274C"),U(),$(4,"h3"),z(5,"Error de inicio de sesi\xF3n"),U(),$(6,"p"),z(7),U(),$(8,"button",13),Ze("click",function(){Zt(t);let i=en();return Jt(i.closeErrorModal())}),z(9,"Aceptar"),U()()()}if(n&2){let t=en();Ce(7),Vn(t.errorMessage())}}var Mp=class n{constructor(e){this.authService=e}email="";password="";isLoading=mt(!1);showErrorModal=mt(!1);errorMessage=mt("");async login(){if(!this.email||!this.password){this.showError("Por favor ingresa email y contrase\xF1a");return}this.isLoading.set(!0);try{console.log("Intentando login...");let e=await this.authService.login(this.email,this.password);e.success||(console.log("Mostrando error:",e.error),this.showError(e.error||"Error al iniciar sesi\xF3n"))}catch(e){console.error("Error inesperado:",e),this.showError("Error inesperado. Por favor intenta de nuevo.")}finally{this.isLoading.set(!1)}}showError(e){console.log("showError llamado con:",e),this.errorMessage.set(e),this.showErrorModal.set(!0),console.log("showErrorModal:",this.showErrorModal())}closeErrorModal(){this.showErrorModal.set(!1),this.errorMessage.set("")}static \u0275fac=function(t){return new(t||n)(oe(Np))};static \u0275cmp=yr({type:n,selectors:[["app-login"]],decls:18,vars:7,consts:[[1,"login-wrapper"],[1,"login-box"],[3,"ngSubmit"],[1,"input-group"],[1,"icon"],["type","email","placeholder","Email","name","email","required","","autocomplete","email",3,"ngModelChange","ngModel","disabled"],["type","password","placeholder","Password","name","password","required","","autocomplete","current-password",3,"ngModelChange","ngModel","disabled"],["href","#","type","button",1,"forgot-link"],["type","submit",3,"disabled"],[1,"modal-overlay"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-icon"],[1,"modal-button",3,"click"]],template:function(t,r){t&1&&($(0,"div",0)(1,"div",1)(2,"h2"),z(3,"Bienvenido"),U(),$(4,"form",2),Ze("ngSubmit",function(){return r.login()}),$(5,"div",3)(6,"span",4),z(7,"\u{1F4E7}"),U(),$(8,"input",5),mn("ngModelChange",function(o){return jn(r.email,o)||(r.email=o),o}),U()(),$(9,"div",3)(10,"span",4),z(11,"\u{1F512}"),U(),$(12,"input",6),mn("ngModelChange",function(o){return jn(r.password,o)||(r.password=o),o}),U()(),$(13,"a",7),z(14,"Olvid\xE9 mi contrase\xF1a"),U(),$(15,"button",8),z(16),U()()(),xy(17,K3,10,1,"div",9),U()),t&2&&(Ce(8),gn("ngModel",r.email),Xt("disabled",r.isLoading()),Ce(4),gn("ngModel",r.password),Xt("disabled",r.isLoading()),Ce(3),Xt("disabled",r.isLoading()),Ce(),co(" ",r.isLoading()?"Iniciando sesi\xF3n...":"Iniciar Sesi\xF3n"," "),Ce(),Oy(r.showErrorModal()?17:-1))},dependencies:[Ps,Zs,rA,Ys,Jh,ZS,Gv,mu,qv],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.login-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:linear-gradient(135deg,#1a1a2e,#16213e,#0f3460);font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.login-box[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2874a6,#1f618d);padding:50px 60px;border-radius:20px;box-shadow:0 15px 50px #00000080;width:100%;max-width:450px}h2[_ngcontent-%COMP%]{color:#fff;text-align:center;margin-bottom:40px;font-size:36px;font-weight:600;letter-spacing:1px}.input-group[_ngcontent-%COMP%]{position:relative;margin-bottom:25px}.input-group[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;left:15px;top:50%;transform:translateY(-50%);font-size:20px;z-index:1}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 15px 15px 50px;border:none;border-radius:10px;background:#ffffff26;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);color:#fff;font-size:16px;outline:none;transition:all .3s ease}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#ffffffb3}form[_ngcontent-%COMP%]{width:100%}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{background:#ffffff40;box-shadow:0 0 15px #fff3}.forgot-link[_ngcontent-%COMP%]{display:block;text-align:center;color:#fff;text-decoration:underline;margin:20px 0;font-size:14px;cursor:pointer;transition:opacity .3s ease}.forgot-link[_ngcontent-%COMP%]:hover{opacity:.8}button[_ngcontent-%COMP%]{width:100%;padding:15px;background:linear-gradient(135deg,#3498db,#2980b9);color:#fff;border:none;border-radius:10px;font-size:18px;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 5px 15px #3498db4d}button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#2980b9,#21618c);transform:translateY(-2px);box-shadow:0 8px 20px #3498db66}button[_ngcontent-%COMP%]:active{transform:translateY(0)}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000b3;display:flex;justify-content:center;align-items:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .3s ease}.modal-content[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2874a6,#1f618d);padding:40px;border-radius:20px;box-shadow:0 20px 60px #00000080;max-width:400px;width:90%;text-align:center;animation:_ngcontent-%COMP%_slideUp .3s ease}.modal-icon[_ngcontent-%COMP%]{font-size:60px;margin-bottom:20px;animation:_ngcontent-%COMP%_bounce .5s ease}.modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:15px;font-weight:600}.modal-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffffe6;font-size:16px;margin-bottom:25px;line-height:1.5}.modal-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e74c3c,#c0392b);color:#fff;border:none;padding:12px 40px;border-radius:10px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 5px 15px #e74c3c4d;width:auto}.modal-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#c0392b,#a93226);transform:translateY(-2px);box-shadow:0 8px 20px #e74c3c66}.modal-button[_ngcontent-%COMP%]:active{transform:translateY(0)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(50px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}"]})};function Q3(n,e){n&1&&($(0,"span",26),z(1,"\u{1F50D}"),U())}function Y3(n,e){if(n&1){let t=Ns();$(0,"div",27),Ze("click",function(){Zt(t);let i=en();return Jt(i.toggleMenu())}),U()}}function Z3(n,e){if(n&1){let t=Ns();$(0,"div",28)(1,"h3"),z(2,"Filtrar por:"),U(),$(3,"label")(4,"input",29),mn("ngModelChange",function(i){Zt(t);let o=en();return jn(o.filtroSeleccionado,i)||(o.filtroSeleccionado=i),Jt(i)}),U(),z(5," Todos los campos "),U(),$(6,"label")(7,"input",30),mn("ngModelChange",function(i){Zt(t);let o=en();return jn(o.filtroSeleccionado,i)||(o.filtroSeleccionado=i),Jt(i)}),U(),z(8," C\xF3digo de Barras "),U(),$(9,"label")(10,"input",31),mn("ngModelChange",function(i){Zt(t);let o=en();return jn(o.filtroSeleccionado,i)||(o.filtroSeleccionado=i),Jt(i)}),U(),z(11," Nombre del Producto "),U(),$(12,"label")(13,"input",32),mn("ngModelChange",function(i){Zt(t);let o=en();return jn(o.filtroSeleccionado,i)||(o.filtroSeleccionado=i),Jt(i)}),U(),z(14," Proveedor "),U()()}if(n&2){let t=en();Ce(4),gn("ngModel",t.filtroSeleccionado),Ce(3),gn("ngModel",t.filtroSeleccionado),Ce(3),gn("ngModel",t.filtroSeleccionado),Ce(3),gn("ngModel",t.filtroSeleccionado)}}function J3(n,e){if(n&1&&($(0,"tr")(1,"td"),ri(2,"img",33),U(),$(3,"td"),z(4),U(),$(5,"td"),z(6),U(),$(7,"td"),z(8),U(),$(9,"td"),z(10),U(),$(11,"td"),z(12),U(),$(13,"td"),z(14),U()()),n&2){let t=e.$implicit;Ce(2),Xt("src",t.imagen||"https://via.placeholder.com/60x60?text=Sin+Imagen",Gd),Ce(2),Vn(t.codigo),Ce(2),Vn(t.nombre),Ce(2),Vn(t.caracteristicas),Ce(2),co("$",t.precio.toLocaleString("es-MX")),Ce(2),Vn(t.stock),Ce(2),Vn(t.proveedor)}}var Pp=class n{constructor(e,t){this.firestore=e;this.cdr=t}busqueda="";filtroSeleccionado="todos";mostrarFiltro=!1;menuAbierto=!1;productos=[];async ngOnInit(){try{let e=wP(this.firestore,"productos"),t=await DP(e);this.productos=t.docs.map(r=>x({id:r.id},r.data())),console.log("Productos cargados:",this.productos),this.cdr.detectChanges()}catch(e){console.error("Error al cargar productos:",e)}}toggleMenu(){this.menuAbierto=!this.menuAbierto}toggleFiltro(){this.mostrarFiltro=!this.mostrarFiltro}filtrarProductos(){if(!this.busqueda)return this.productos;let e=this.busqueda.toLowerCase();return this.productos.filter(t=>{switch(this.filtroSeleccionado){case"codigo":return t.codigo?.includes(this.busqueda);case"nombre":return t.nombre?.toLowerCase().includes(e);case"proveedor":return t.proveedor?.toLowerCase().includes(e);case"todos":default:return t.nombre?.toLowerCase().includes(e)||t.codigo?.includes(this.busqueda)||t.proveedor?.toLowerCase().includes(e)||t.caracteristicas?.toLowerCase().includes(e)}})}static \u0275fac=function(t){return new(t||n)(oe(xr),oe(vr))};static \u0275cmp=yr({type:n,selectors:[["app-main"]],decls:72,vars:7,consts:[[1,"main-wrapper"],[1,"top-header"],[1,"menu-button",3,"click"],[1,"material-symbols-outlined"],[1,"search-container"],[1,"search-box"],["class","search-icon",4,"ngIf"],["type","text","placeholder","Buscar Producto",1,"search-input",3,"ngModelChange","ngModel"],[1,"filter-button",3,"click"],[1,"material-icons"],[1,"sidebar-menu"],[1,"menu-header"],[1,"close-button",3,"click"],[1,"menu-nav"],["routerLink","/main",1,"menu-item","active"],["routerLink","/productos",1,"menu-item"],["routerLink","/proveedores",1,"menu-item"],["routerLink","/categorias",1,"menu-item"],["routerLink","/reportes",1,"menu-item"],["routerLink","/configuracion",1,"menu-item"],["routerLink","/login",1,"menu-item","logout"],["class","menu-overlay",3,"click",4,"ngIf"],["class","filter-menu",4,"ngIf"],[1,"content-area"],[1,"table-container"],[4,"ngFor","ngForOf"],[1,"search-icon"],[1,"menu-overlay",3,"click"],[1,"filter-menu"],["type","radio","value","todos","name","filtro",3,"ngModelChange","ngModel"],["type","radio","value","codigo","name","filtro",3,"ngModelChange","ngModel"],["type","radio","value","nombre","name","filtro",3,"ngModelChange","ngModel"],["type","radio","value","proveedor","name","filtro",3,"ngModelChange","ngModel"],["alt","Producto",1,"product-image",3,"src"]],template:function(t,r){t&1&&($(0,"div",0)(1,"div",1)(2,"button",2),Ze("click",function(){return r.toggleMenu()}),$(3,"span",3),z(4,"dehaze"),U()(),$(5,"h1"),z(6,"Stock General"),U(),$(7,"div",4)(8,"div",5),As(9,Q3,2,0,"span",6),$(10,"input",7),mn("ngModelChange",function(o){return jn(r.busqueda,o)||(r.busqueda=o),o}),U()(),$(11,"button",8),Ze("click",function(){return r.toggleFiltro()}),$(12,"span",9),z(13,"filter_list"),U()()()(),$(14,"div",10)(15,"div",11)(16,"h2"),z(17,"Men\xFA"),U(),$(18,"button",12),Ze("click",function(){return r.toggleMenu()}),z(19,"\u2715"),U()(),$(20,"nav",13)(21,"a",14)(22,"span",9),z(23,"inventory_2"),U(),z(24," Stock General "),U(),$(25,"a",15)(26,"span",9),z(27,"shopping_cart"),U(),z(28," Productos "),U(),$(29,"a",16)(30,"span",9),z(31,"local_shipping"),U(),z(32," Proveedores "),U(),$(33,"a",17)(34,"span",9),z(35,"category"),U(),z(36," Categor\xEDas "),U(),$(37,"a",18)(38,"span",9),z(39,"assessment"),U(),z(40," Reportes "),U(),$(41,"a",19)(42,"span",9),z(43,"settings"),U(),z(44," Configuraci\xF3n "),U(),$(45,"a",20)(46,"span",9),z(47,"logout"),U(),z(48," Cerrar Sesi\xF3n "),U()()(),As(49,Y3,1,0,"div",21)(50,Z3,15,4,"div",22),$(51,"div",23)(52,"div",24)(53,"table")(54,"thead")(55,"tr")(56,"th"),z(57,"Imagen"),U(),$(58,"th"),z(59,"Codigo de Barras"),U(),$(60,"th"),z(61,"Nombre del producto"),U(),$(62,"th"),z(63,"Caracteristicas"),U(),$(64,"th"),z(65,"Precio"),U(),$(66,"th"),z(67,"Existencias"),U(),$(68,"th"),z(69,"Proveedor"),U()()(),$(70,"tbody"),As(71,J3,15,7,"tr",25),U()()()()()),t&2&&(Ce(9),Xt("ngIf",!r.busqueda),Ce(),gn("ngModel",r.busqueda),Ce(4),ao("open",r.menuAbierto),Ce(35),Xt("ngIf",r.menuAbierto),Ce(),Xt("ngIf",r.mostrarFiltro),Ce(21),Xt("ngForOf",r.filtrarProductos()))},dependencies:[Ps,lh,Yy,Zs,Ys,zv,Jh,mu,Lv,Hh],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{margin:0;padding:0;overflow-x:hidden}.main-wrapper[_ngcontent-%COMP%]{min-height:100vh;width:100vw;margin:0;padding:0;background:linear-gradient(135deg,#0a2342,#1a4d7a,#2563a8);font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;position:fixed;top:0;left:0;overflow-y:auto}.top-header[_ngcontent-%COMP%]{background:#051428f2;padding:15px 30px;display:flex;align-items:center;gap:20px;box-shadow:0 2px 10px #0000004d;position:sticky;top:0;z-index:100}.menu-button[_ngcontent-%COMP%]{background:transparent;border:none;cursor:pointer;padding:8px;display:flex;align-items:center;justify-content:center;transition:background .3s ease;border-radius:5px}.menu-button[_ngcontent-%COMP%]:hover{background:#ffffff1a}.menu-button[_ngcontent-%COMP%]   .material-symbols-outlined[_ngcontent-%COMP%]{color:#fff;font-size:28px}h1[_ngcontent-%COMP%]{color:#fff;font-size:28px;font-weight:700;flex:1}.search-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.search-box[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.search-icon[_ngcontent-%COMP%]{position:absolute;left:12px;font-size:16px;color:#999;pointer-events:none;transition:opacity .3s ease}.search-input[_ngcontent-%COMP%]{padding:8px 15px 8px 35px;border:none;border-radius:5px;background:#fff;font-size:14px;width:250px;outline:none;transition:all .3s ease}.search-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 10px #ffffff4d}.filter-button[_ngcontent-%COMP%]{background:#fff3;border:1px solid rgba(255,255,255,.3);border-radius:5px;padding:8px 12px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.filter-button[_ngcontent-%COMP%]:hover{background:#ffffff4d}.filter-button[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{color:#e3e3e3;font-size:24px}.sidebar-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:-300px;width:300px;height:100vh;background:#0a1929;box-shadow:2px 0 15px #00000080;transition:left .3s ease;z-index:1000;overflow-y:auto}.sidebar-menu.open[_ngcontent-%COMP%]{left:0}.menu-header[_ngcontent-%COMP%]{background:#051428f2;padding:20px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid rgba(255,255,255,.1)}.menu-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin:0}.close-button[_ngcontent-%COMP%]{background:transparent;border:none;color:#fff;font-size:28px;cursor:pointer;padding:5px 10px;transition:background .3s ease;border-radius:5px}.close-button[_ngcontent-%COMP%]:hover{background:#ffffff1a}.menu-nav[_ngcontent-%COMP%]{padding:20px 0}.menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;padding:15px 25px;color:#fffc;text-decoration:none;transition:all .3s ease;border-left:3px solid transparent}.menu-item[_ngcontent-%COMP%]:hover{background:#ffffff0d;color:#fff;border-left-color:#3498db}.menu-item.active[_ngcontent-%COMP%]{background:#3498db33;color:#fff;border-left-color:#3498db}.menu-item.logout[_ngcontent-%COMP%]{margin-top:20px;border-top:1px solid rgba(255,255,255,.1);padding-top:25px}.menu-item.logout[_ngcontent-%COMP%]:hover{background:#e74c3c1a;border-left-color:#e74c3c}.menu-item[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:24px}.menu-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:#00000080;z-index:999;animation:_ngcontent-%COMP%_fadeIn .3s ease}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.filter-menu[_ngcontent-%COMP%]{background:#fffffff2;border-radius:10px;padding:20px;margin:20px 30px;box-shadow:0 4px 15px #0000004d;animation:_ngcontent-%COMP%_slideDown .3s ease}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.filter-menu[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:15px;color:#0a2342;font-size:18px}.filter-menu[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px;cursor:pointer;color:#333;transition:background .2s ease;border-radius:5px}.filter-menu[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{background:#2563a81a}.filter-menu[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{margin-right:10px;cursor:pointer;width:18px;height:18px}.content-area[_ngcontent-%COMP%]{padding:30px}.table-container[_ngcontent-%COMP%]{background:#ffffff0d;border-radius:10px;padding:20px;box-shadow:0 8px 32px #0000004d;overflow-x:auto}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;background:transparent}thead[_ngcontent-%COMP%]{background:#0a2342e6}th[_ngcontent-%COMP%]{padding:15px;text-align:left;color:#fff;font-weight:600;font-size:14px;border:1px solid rgba(255,255,255,.2)}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background .3s ease}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background:#6495ed80}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background:#87cefa66}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#6495edb3;cursor:pointer}td[_ngcontent-%COMP%]{padding:15px;color:#fff;font-size:14px;border:1px solid rgba(255,255,255,.2);vertical-align:middle}.product-image[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:cover;border-radius:8px;background:#fff;padding:2px}@media (max-width: 768px){.top-header[_ngcontent-%COMP%]{flex-wrap:wrap;padding:15px}h1[_ngcontent-%COMP%]{font-size:22px}.search-container[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}.search-input[_ngcontent-%COMP%]{width:180px}}"]})};var SP=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:Mp},{path:"main",component:Pp}];var X3={apiKey:"AIzaSyBbluQ9NiE9pdVTttX38EGj-Gty1a8Ot4Y",authDomain:"alflabweb.firebaseapp.com",projectId:"alflabweb",storageBucket:"alflabweb.firebasestorage.app",messagingSenderId:"1067914372354",appId:"1:1067914372354:web:a3ac05da337bf139bb8e1b"};av(Rp,{providers:[Vy(),Ov(SP),ad(Zs),LA(()=>VA(X3)),HR(()=>zR()),IP(()=>bP())]}).catch(n=>console.error(n));
