import{a as I}from"./chunk-J53SHKTI.js";import{B as x,C as _,D as b,M as O,T as E,U as k,V as S,W as L,X as D,Y as z,da as N,f as p,fa as V,g,h as m,j as l,k as h,l as M,n as C,o as w,p as f,q as n,r as t,t as y,u as c,v as u,x as r,y as P,z as v}from"./chunk-7DSZXF6B.js";function F(d,o){if(d&1){let i=y();n(0,"div",10),c("click",function(){p(i);let a=u();return g(a.closeErrorModal())}),n(1,"div",11),c("click",function(a){return p(i),g(a.stopPropagation())}),n(2,"div",12),r(3,"\u274C"),t(),n(4,"h3"),r(5,"Error de inicio de sesi\xF3n"),t(),n(6,"p"),r(7),t(),n(8,"button",13),c("click",function(){p(i);let a=u();return g(a.closeErrorModal())}),r(9,"Aceptar"),t()()()}if(d&2){let i=u();l(7),P(i.errorMessage())}}var T=class d{constructor(o){this.authService=o}email="";password="";isLoading=m(!1);showErrorModal=m(!1);errorMessage=m("");async login(){if(!this.email||!this.password){this.showError("Por favor ingresa email y contrase\xF1a");return}this.isLoading.set(!0);try{console.log("Intentando login...");let o=await this.authService.login(this.email,this.password);o.success||(console.log("Mostrando error:",o.error),this.showError(o.error||"Error al iniciar sesi\xF3n"))}catch(o){console.error("Error inesperado:",o),this.showError("Error inesperado. Por favor intenta de nuevo.")}finally{this.isLoading.set(!1)}}showError(o){console.log("showError llamado con:",o),this.errorMessage.set(o),this.showErrorModal.set(!0),console.log("showErrorModal:",this.showErrorModal())}closeErrorModal(){this.showErrorModal.set(!1),this.errorMessage.set("")}static \u0275fac=function(i){return new(i||d)(h(I))};static \u0275cmp=M({type:d,selectors:[["app-login"]],decls:18,vars:7,consts:[[1,"login-wrapper"],[1,"login-box"],[3,"ngSubmit"],[1,"input-group"],[1,"icon"],["type","email","placeholder","Email","name","email","required","","autocomplete","email",3,"ngModelChange","ngModel","disabled"],["type","password","placeholder","Password","name","password","required","","autocomplete","current-password",3,"ngModelChange","ngModel","disabled"],["href","#","type","button",1,"forgot-link"],["type","submit",3,"disabled"],[1,"modal-overlay"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],[1,"modal-icon"],[1,"modal-button",3,"click"]],template:function(i,e){i&1&&(n(0,"div",0)(1,"div",1)(2,"h2"),r(3,"Bienvenido"),t(),n(4,"form",2),c("ngSubmit",function(){return e.login()}),n(5,"div",3)(6,"span",4),r(7,"\u{1F4E7}"),t(),n(8,"input",5),b("ngModelChange",function(s){return _(e.email,s)||(e.email=s),s}),t()(),n(9,"div",3)(10,"span",4),r(11,"\u{1F512}"),t(),n(12,"input",6),b("ngModelChange",function(s){return _(e.password,s)||(e.password=s),s}),t()(),n(13,"a",7),r(14,"Olvid\xE9 mi contrase\xF1a"),t(),n(15,"button",8),r(16),t()()(),C(17,F,10,1,"div",9),t()),i&2&&(l(8),x("ngModel",e.email),f("disabled",e.isLoading()),l(4),x("ngModel",e.password),f("disabled",e.isLoading()),l(3),f("disabled",e.isLoading()),l(),v(" ",e.isLoading()?"Iniciando sesi\xF3n...":"Iniciar Sesi\xF3n"," "),l(),w(e.showErrorModal()?17:-1))},dependencies:[O,V,z,E,k,S,N,D,L],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.login-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background:linear-gradient(135deg,#1a1a2e,#16213e,#0f3460);font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.login-box[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2874a6,#1f618d);padding:50px 60px;border-radius:20px;box-shadow:0 15px 50px #00000080;width:100%;max-width:450px}h2[_ngcontent-%COMP%]{color:#fff;text-align:center;margin-bottom:40px;font-size:36px;font-weight:600;letter-spacing:1px}.input-group[_ngcontent-%COMP%]{position:relative;margin-bottom:25px}.input-group[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;left:15px;top:50%;transform:translateY(-50%);font-size:20px;z-index:1}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 15px 15px 50px;border:none;border-radius:10px;background:#ffffff26;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);color:#fff;font-size:16px;outline:none;transition:all .3s ease}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#ffffffb3}form[_ngcontent-%COMP%]{width:100%}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{background:#ffffff40;box-shadow:0 0 15px #fff3}.forgot-link[_ngcontent-%COMP%]{display:block;text-align:center;color:#fff;text-decoration:underline;margin:20px 0;font-size:14px;cursor:pointer;transition:opacity .3s ease}.forgot-link[_ngcontent-%COMP%]:hover{opacity:.8}button[_ngcontent-%COMP%]{width:100%;padding:15px;background:linear-gradient(135deg,#3498db,#2980b9);color:#fff;border:none;border-radius:10px;font-size:18px;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 5px 15px #3498db4d}button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#2980b9,#21618c);transform:translateY(-2px);box-shadow:0 8px 20px #3498db66}button[_ngcontent-%COMP%]:active{transform:translateY(0)}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000b3;display:flex;justify-content:center;align-items:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .3s ease}.modal-content[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2874a6,#1f618d);padding:40px;border-radius:20px;box-shadow:0 20px 60px #00000080;max-width:400px;width:90%;text-align:center;animation:_ngcontent-%COMP%_slideUp .3s ease}.modal-icon[_ngcontent-%COMP%]{font-size:60px;margin-bottom:20px;animation:_ngcontent-%COMP%_bounce .5s ease}.modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff;font-size:24px;margin-bottom:15px;font-weight:600}.modal-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ffffffe6;font-size:16px;margin-bottom:25px;line-height:1.5}.modal-button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e74c3c,#c0392b);color:#fff;border:none;padding:12px 40px;border-radius:10px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 5px 15px #e74c3c4d;width:auto}.modal-button[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#c0392b,#a93226);transform:translateY(-2px);box-shadow:0 8px 20px #e74c3c66}.modal-button[_ngcontent-%COMP%]:active{transform:translateY(0)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(50px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}"]})};export{T as LoginComponent};
